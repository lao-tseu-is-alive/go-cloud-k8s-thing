var XC=Object.defineProperty;var KC=(t,e,n)=>e in t?XC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cu=(t,e,n)=>KC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rg(t,e){const n=new Set(t.split(","));return i=>n.has(i)}const wt={},Ba=[],ri=()=>{},qC=()=>!1,dh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ag=t=>t.startsWith("onUpdate:"),Lt=Object.assign,Pg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ZC=Object.prototype.hasOwnProperty,Ze=(t,e)=>ZC.call(t,e),Ee=Array.isArray,$a=t=>fh(t)==="[object Map]",bp=t=>fh(t)==="[object Set]",Le=t=>typeof t=="function",Ft=t=>typeof t=="string",xr=t=>typeof t=="symbol",St=t=>t!==null&&typeof t=="object",xp=t=>(St(t)||Le(t))&&Le(t.then)&&Le(t.catch),wp=Object.prototype.toString,fh=t=>wp.call(t),JC=t=>fh(t).slice(8,-1),Sp=t=>fh(t)==="[object Object]",kg=t=>Ft(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zo=Rg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},QC=/-(\w)/g,ci=gh(t=>t.replace(QC,(e,n)=>n?n.toUpperCase():"")),eE=/\B([A-Z])/g,oa=gh(t=>t.replace(eE,"-$1").toLowerCase()),Qi=gh(t=>t.charAt(0).toUpperCase()+t.slice(1)),bd=gh(t=>t?`on${Qi(t)}`:""),fr=(t,e)=>!Object.is(t,e),ec=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cp=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},mf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ep=t=>{const e=Ft(t)?Number(t):NaN;return isNaN(e)?t:e};let Lv;const Mp=()=>Lv||(Lv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Og(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ft(i)?sE(i):Og(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ft(t)||St(t))return t}const tE=/;(?![^(]*\))/g,nE=/:([^]+)/,iE=/\/\*[^]*?\*\//g;function sE(t){const e={};return t.replace(iE,"").split(tE).forEach(n=>{if(n){const i=n.split(nE);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Lg(t){let e="";if(Ft(t))e=t;else if(Ee(t))for(let n=0;n<t.length;n++){const i=Lg(t[n]);i&&(e+=i+" ")}else if(St(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aE=Rg(rE);function Tp(t){return!!t||t===""}const Ip=t=>!!(t&&t.__v_isRef===!0),xt=t=>Ft(t)?t:t==null?"":Ee(t)||St(t)&&(t.toString===wp||!Le(t.toString))?Ip(t)?xt(t.value):JSON.stringify(t,Rp,2):String(t),Rp=(t,e)=>Ip(e)?Rp(t,e.value):$a(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[xd(i,r)+" =>"]=s,n),{})}:bp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>xd(n))}:xr(e)?xd(e):St(e)&&!Ee(e)&&!Sp(e)?String(e):e,xd=(t,e="")=>{var n;return xr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Un;class Ap{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Un;try{return Un=this,e()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Yl(t){return new Ap(t)}function oE(t,e=Un){e&&e.active&&e.effects.push(t)}function Pp(){return Un}function hn(t){Un&&Un.cleanups.push(t)}let jr;class Fg{constructor(e,n,i,s){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,oE(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,wr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(lE(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Sr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=or,n=jr;try{return or=!0,jr=this,this._runnings++,Fv(this),this.fn()}finally{Dv(this),this._runnings--,jr=n,or=e}}stop(){this.active&&(Fv(this),Dv(this),this.onStop&&this.onStop(),this.active=!1)}}function lE(t){return t.value}function Fv(t){t._trackId++,t._depsLength=0}function Dv(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)kp(t.deps[e],t);t.deps.length=t._depsLength}}function kp(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let or=!0,vf=0;const Op=[];function wr(){Op.push(or),or=!1}function Sr(){const t=Op.pop();or=t===void 0?!0:t}function Dg(){vf++}function Ng(){for(vf--;!vf&&yf.length;)yf.shift()()}function Lp(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&kp(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const yf=[];function Fp(t,e,n){Dg();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s??(s=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&yf.push(i.scheduler)))}Ng()}const Dp=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},mc=new WeakMap,Hr=Symbol(""),_f=Symbol("");function On(t,e,n){if(or&&jr){let i=mc.get(t);i||mc.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=Dp(()=>i.delete(n))),Lp(jr,s)}}function xs(t,e,n,i,s,r){const a=mc.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Ee(t)){const l=Number(i);a.forEach((u,c)=>{(c==="length"||!xr(c)&&c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Ee(t)?kg(n)&&o.push(a.get("length")):(o.push(a.get(Hr)),$a(t)&&o.push(a.get(_f)));break;case"delete":Ee(t)||(o.push(a.get(Hr)),$a(t)&&o.push(a.get(_f)));break;case"set":$a(t)&&o.push(a.get(Hr));break}Dg();for(const l of o)l&&Fp(l,4);Ng()}function uE(t,e){const n=mc.get(t);return n&&n.get(e)}const cE=Rg("__proto__,__v_isRef,__isVue"),Np=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xr)),Nv=hE();function hE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ae(this);for(let r=0,a=this.length;r<a;r++)On(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ae)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wr(),Dg();const i=Ae(this)[e].apply(this,n);return Ng(),Sr(),i}}),t}function dE(t){xr(t)||(t=String(t));const e=Ae(this);return On(e,"has",t),e.hasOwnProperty(t)}class Vp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?EE:Up:r?Gp:$p).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Ee(e);if(!s){if(a&&Ze(Nv,n))return Reflect.get(Nv,n,i);if(n==="hasOwnProperty")return dE}const o=Reflect.get(e,n,i);return(xr(n)?Np.has(n):cE(n))||(s||On(e,"get",n),r)?o:vt(o)?a&&kg(n)?o:o.value:St(o)?s?_o(o):jt(o):o}}class Bp extends Vp{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=hl(r);if(!vc(i)&&!hl(i)&&(r=Ae(r),i=Ae(i)),!Ee(e)&&vt(r)&&!vt(i))return l?!1:(r.value=i,!0)}const a=Ee(e)&&kg(n)?Number(n)<e.length:Ze(e,n),o=Reflect.set(e,n,i,s);return e===Ae(s)&&(a?fr(i,r)&&xs(e,"set",n,i):xs(e,"add",n,i)),o}deleteProperty(e,n){const i=Ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&xs(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!xr(n)||!Np.has(n))&&On(e,"has",n),i}ownKeys(e){return On(e,"iterate",Ee(e)?"length":Hr),Reflect.ownKeys(e)}}class fE extends Vp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const gE=new Bp,mE=new fE,vE=new Bp(!0);const Vg=t=>t,mh=t=>Reflect.getPrototypeOf(t);function Eu(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ae(t),r=Ae(e);n||(fr(e,r)&&On(s,"get",e),On(s,"get",r));const{has:a}=mh(s),o=i?Vg:n?Gg:dl;if(a.call(s,e))return o(t.get(e));if(a.call(s,r))return o(t.get(r));t!==s&&t.get(e)}function Mu(t,e=!1){const n=this.__v_raw,i=Ae(n),s=Ae(t);return e||(fr(t,s)&&On(i,"has",t),On(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Tu(t,e=!1){return t=t.__v_raw,!e&&On(Ae(t),"iterate",Hr),Reflect.get(t,"size",t)}function Vv(t){t=Ae(t);const e=Ae(this);return mh(e).has.call(e,t)||(e.add(t),xs(e,"add",t,t)),this}function Bv(t,e){e=Ae(e);const n=Ae(this),{has:i,get:s}=mh(n);let r=i.call(n,t);r||(t=Ae(t),r=i.call(n,t));const a=s.call(n,t);return n.set(t,e),r?fr(e,a)&&xs(n,"set",t,e):xs(n,"add",t,e),this}function $v(t){const e=Ae(this),{has:n,get:i}=mh(e);let s=n.call(e,t);s||(t=Ae(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&xs(e,"delete",t,void 0),r}function Gv(){const t=Ae(this),e=t.size!==0,n=t.clear();return e&&xs(t,"clear",void 0,void 0),n}function Iu(t,e){return function(i,s){const r=this,a=r.__v_raw,o=Ae(a),l=e?Vg:t?Gg:dl;return!t&&On(o,"iterate",Hr),a.forEach((u,c)=>i.call(s,l(u),l(c),r))}}function Ru(t,e,n){return function(...i){const s=this.__v_raw,r=Ae(s),a=$a(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...i),c=n?Vg:e?Gg:dl;return!e&&On(r,"iterate",l?_f:Hr),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:o?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function Bs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function yE(){const t={get(r){return Eu(this,r)},get size(){return Tu(this)},has:Mu,add:Vv,set:Bv,delete:$v,clear:Gv,forEach:Iu(!1,!1)},e={get(r){return Eu(this,r,!1,!0)},get size(){return Tu(this)},has:Mu,add:Vv,set:Bv,delete:$v,clear:Gv,forEach:Iu(!1,!0)},n={get(r){return Eu(this,r,!0)},get size(){return Tu(this,!0)},has(r){return Mu.call(this,r,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:Iu(!0,!1)},i={get(r){return Eu(this,r,!0,!0)},get size(){return Tu(this,!0)},has(r){return Mu.call(this,r,!0)},add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear"),forEach:Iu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Ru(r,!1,!1),n[r]=Ru(r,!0,!1),e[r]=Ru(r,!1,!0),i[r]=Ru(r,!0,!0)}),[t,n,e,i]}const[_E,pE,bE,xE]=yE();function Bg(t,e){const n=e?t?xE:bE:t?pE:_E;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Ze(n,s)&&s in i?n:i,s,r)}const wE={get:Bg(!1,!1)},SE={get:Bg(!1,!0)},CE={get:Bg(!0,!1)};const $p=new WeakMap,Gp=new WeakMap,Up=new WeakMap,EE=new WeakMap;function ME(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TE(t){return t.__v_skip||!Object.isExtensible(t)?0:ME(JC(t))}function jt(t){return hl(t)?t:$g(t,!1,gE,wE,$p)}function IE(t){return $g(t,!1,vE,SE,Gp)}function _o(t){return $g(t,!0,mE,CE,Up)}function $g(t,e,n,i,s){if(!St(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=TE(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function lr(t){return hl(t)?lr(t.__v_raw):!!(t&&t.__v_isReactive)}function hl(t){return!!(t&&t.__v_isReadonly)}function vc(t){return!!(t&&t.__v_isShallow)}function zp(t){return t?!!t.__v_raw:!1}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function vh(t){return Object.isExtensible(t)&&Cp(t,"__v_skip",!0),t}const dl=t=>St(t)?jt(t):t,Gg=t=>St(t)?_o(t):t;class Wp{constructor(e,n,i,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Fg(()=>e(this._value),()=>tc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ae(this);return(!e._cacheable||e.effect.dirty)&&fr(e._value,e._value=e.effect.run())&&tc(e,4),jp(e),e.effect._dirtyLevel>=2&&tc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function RE(t,e,n=!1){let i,s;const r=Le(t);return r?(i=t,s=ri):(i=t.get,s=t.set),new Wp(i,s,r||!s,n)}function jp(t){var e;or&&jr&&(t=Ae(t),Lp(jr,(e=t.dep)!=null?e:t.dep=Dp(()=>t.dep=void 0,t instanceof Wp?t:void 0)))}function tc(t,e=4,n,i){t=Ae(t);const s=t.dep;s&&Fp(s,e)}function vt(t){return!!(t&&t.__v_isRef===!0)}function J(t){return Hp(t,!1)}function ve(t){return Hp(t,!0)}function Hp(t,e){return vt(t)?t:new AE(t,e)}class AE{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ae(e),this._value=n?e:dl(e)}get value(){return jp(this),this._value}set value(e){const n=this.__v_isShallow||vc(e)||hl(e);e=n?e:Ae(e),fr(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:dl(e),tc(this,4))}}function Pe(t){return vt(t)?t.value:t}const PE={get:(t,e,n)=>Pe(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return vt(s)&&!vt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Yp(t){return lr(t)?t:new Proxy(t,PE)}function yh(t){const e=Ee(t)?new Array(t.length):{};for(const n in t)e[n]=Xp(t,n);return e}class kE{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return uE(Ae(this._object),this._key)}}class OE{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function le(t,e,n){return vt(t)?t:Le(t)?new OE(t):St(t)&&arguments.length>1?Xp(t,e,n):J(t)}function Xp(t,e,n){const i=t[e];return vt(i)?i:new kE(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ur(t,e,n,i){try{return i?t(...i):t()}catch(s){Xl(s,e,n)}}function li(t,e,n,i){if(Le(t)){const s=ur(t,e,n,i);return s&&xp(s)&&s.catch(r=>{Xl(r,e,n)}),s}if(Ee(t)){const s=[];for(let r=0;r<t.length;r++)s.push(li(t[r],e,n,i));return s}}function Xl(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const a=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const u=r.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){wr(),ur(l,null,10,[t,a,o]),Sr();return}}LE(t,n,s,i)}function LE(t,e,n,i=!0){console.error(t)}let fl=!1,pf=!1;const rn=[];let Bi=0;const Ga=[];let qs=null,Vr=0;const Kp=Promise.resolve();let Ug=null;function ct(t){const e=Ug||Kp;return t?e.then(this?t.bind(this):t):e}function FE(t){let e=Bi+1,n=rn.length;for(;e<n;){const i=e+n>>>1,s=rn[i],r=gl(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function zg(t){(!rn.length||!rn.includes(t,fl&&t.allowRecurse?Bi+1:Bi))&&(t.id==null?rn.push(t):rn.splice(FE(t.id),0,t),qp())}function qp(){!fl&&!pf&&(pf=!0,Ug=Kp.then(Jp))}function DE(t){const e=rn.indexOf(t);e>Bi&&rn.splice(e,1)}function bf(t){Ee(t)?Ga.push(...t):(!qs||!qs.includes(t,t.allowRecurse?Vr+1:Vr))&&Ga.push(t),qp()}function Uv(t,e,n=fl?Bi+1:0){for(;n<rn.length;n++){const i=rn[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;rn.splice(n,1),n--,i()}}}function Zp(t){if(Ga.length){const e=[...new Set(Ga)].sort((n,i)=>gl(n)-gl(i));if(Ga.length=0,qs){qs.push(...e);return}for(qs=e,Vr=0;Vr<qs.length;Vr++){const n=qs[Vr];n.active!==!1&&n()}qs=null,Vr=0}}const gl=t=>t.id==null?1/0:t.id,NE=(t,e)=>{const n=gl(t)-gl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Jp(t){pf=!1,fl=!0,rn.sort(NE);try{for(Bi=0;Bi<rn.length;Bi++){const e=rn[Bi];e&&e.active!==!1&&ur(e,null,14)}}finally{Bi=0,rn.length=0,Zp(),fl=!1,Ug=null,(rn.length||Ga.length)&&Jp()}}function VE(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||wt;let s=n;const r=e.startsWith("update:"),a=r&&e.slice(7);if(a&&a in i){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:d}=i[c]||wt;d&&(s=n.map(g=>Ft(g)?g.trim():g)),h&&(s=n.map(mf))}let o,l=i[o=bd(e)]||i[o=bd(ci(e))];!l&&r&&(l=i[o=bd(oa(e))]),l&&li(l,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,li(u,t,6,s)}}function Qp(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!Le(t)){const l=u=>{const c=Qp(u,e,!0);c&&(o=!0,Lt(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(St(t)&&i.set(t,null),null):(Ee(r)?r.forEach(l=>a[l]=null):Lt(a,r),St(t)&&i.set(t,a),a)}function _h(t,e){return!t||!dh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ze(t,e[0].toLowerCase()+e.slice(1))||Ze(t,oa(e))||Ze(t,e))}let vn=null,e1=null;function yc(t){const e=vn;return vn=t,e1=t&&t.type.__scopeId||null,e}function B(t,e=vn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&sy(-1);const r=yc(e);let a;try{a=t(...s)}finally{yc(r),i._d&&sy(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function wd(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:h,data:d,setupState:g,ctx:f,inheritAttrs:m}=t,v=yc(t);let _,p;try{if(n.shapeFlag&4){const S=s||i,x=S;_=pi(u.call(x,S,c,h,g,d,f)),p=o}else{const S=e;_=pi(S.length>1?S(h,{attrs:o,slots:a,emit:l}):S(h,null)),p=e.props?o:$E(o)}}catch(S){el.length=0,Xl(S,t,1),_=y(an)}let b=_;if(p&&m!==!1){const S=Object.keys(p),{shapeFlag:x}=b;S.length&&x&7&&(r&&S.some(Ag)&&(p=GE(p,r)),b=Ms(b,p,!1,!0))}return n.dirs&&(b=Ms(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),_=b,yc(v),_}function BE(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(yl(s)){if(s.type!==an||s.children==="v-if"){if(n)return;n=s}}else return}return n}const $E=t=>{let e;for(const n in t)(n==="class"||n==="style"||dh(n))&&((e||(e={}))[n]=t[n]);return e},GE=(t,e)=>{const n={};for(const i in t)(!Ag(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function UE(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?zv(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(a[d]!==i[d]&&!_h(u,d))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?zv(i,a,u):!0:!!a;return!1}function zv(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!_h(n,r))return!0}return!1}function Wg({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const t1="components",zE="directives",WE=Symbol.for("v-ndc");function jE(t){return Ft(t)&&n1(t1,t,!1)||t}function ks(t){return n1(zE,t)}function n1(t,e,n=!0,i=!1){const s=vn||Ht;if(s){const r=s.type;if(t===t1){const o=UM(r,!1);if(o&&(o===e||o===ci(e)||o===Qi(ci(e))))return r}const a=Wv(s[t]||r[t],e)||Wv(s.appContext[t],e);return!a&&i?r:a}}function Wv(t,e){return t&&(t[e]||t[ci(e)]||t[Qi(ci(e))])}const HE=t=>t.__isSuspense;let xf=0;const YE={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,o,l,u){if(t==null)KE(e,n,i,s,r,a,o,l,u);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}qE(t,e,n,i,s,a,o,l,u)}},hydrate:ZE,normalize:JE},XE=YE;function ml(t,e){const n=t.props&&t.props[e];Le(n)&&n()}function KE(t,e,n,i,s,r,a,o,l){const{p:u,o:{createElement:c}}=l,h=c("div"),d=t.suspense=i1(t,s,i,e,h,n,r,a,o,l);u(null,d.pendingBranch=t.ssContent,h,null,i,d,r,a),d.deps>0?(ml(t,"onPending"),ml(t,"onFallback"),u(null,t.ssFallback,e,n,i,null,r,a),Ua(d,t.ssFallback)):d.resolve(!1,!0)}function qE(t,e,n,i,s,r,a,o,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,g=e.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:v,isHydrating:_}=h;if(m)h.pendingBranch=d,$i(d,m)?(l(m,d,h.hiddenContainer,null,s,h,r,a,o),h.deps<=0?h.resolve():v&&(_||(l(f,g,n,i,s,null,r,a,o),Ua(h,g)))):(h.pendingId=xf++,_?(h.isHydrating=!1,h.activeBranch=m):u(m,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),v?(l(null,d,h.hiddenContainer,null,s,h,r,a,o),h.deps<=0?h.resolve():(l(f,g,n,i,s,null,r,a,o),Ua(h,g))):f&&$i(d,f)?(l(f,d,n,i,s,h,r,a,o),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,s,h,r,a,o),h.deps<=0&&h.resolve()));else if(f&&$i(d,f))l(f,d,n,i,s,h,r,a,o),Ua(h,d);else if(ml(e,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=xf++,l(null,d,h.hiddenContainer,null,s,h,r,a,o),h.deps<=0)h.resolve();else{const{timeout:p,pendingId:b}=h;p>0?setTimeout(()=>{h.pendingId===b&&h.fallback(g)},p):p===0&&h.fallback(g)}}function i1(t,e,n,i,s,r,a,o,l,u,c=!1){const{p:h,m:d,um:g,n:f,o:{parentNode:m,remove:v}}=u;let _;const p=eM(t);p&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const b=t.props?Ep(t.props.timeout):void 0,S=r,x={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:xf++,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(C=!1,E=!1){const{vnode:M,activeBranch:w,pendingBranch:A,pendingId:P,effects:T,parentComponent:F,container:O}=x;let k=!1;x.isHydrating?x.isHydrating=!1:C||(k=w&&A.transition&&A.transition.mode==="out-in",k&&(w.transition.afterLeave=()=>{P===x.pendingId&&(d(A,O,r===S?f(w):r,0),bf(T))}),w&&(m(w.el)!==x.hiddenContainer&&(r=f(w)),g(w,F,x,!0)),k||d(A,O,r,0)),Ua(x,A),x.pendingBranch=null,x.isInFallback=!1;let I=x.parent,j=!1;for(;I;){if(I.pendingBranch){I.effects.push(...T),j=!0;break}I=I.parent}!j&&!k&&bf(T),x.effects=[],p&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!E&&e.resolve()),ml(M,"onResolve")},fallback(C){if(!x.pendingBranch)return;const{vnode:E,activeBranch:M,parentComponent:w,container:A,namespace:P}=x;ml(E,"onFallback");const T=f(M),F=()=>{x.isInFallback&&(h(null,C,A,T,w,null,P,o,l),Ua(x,C))},O=C.transition&&C.transition.mode==="out-in";O&&(M.transition.afterLeave=F),x.isInFallback=!0,g(M,w,null,!0),O||F()},move(C,E,M){x.activeBranch&&d(x.activeBranch,C,E,M),x.container=C},next(){return x.activeBranch&&f(x.activeBranch)},registerDep(C,E,M){const w=!!x.pendingBranch;w&&x.deps++;const A=C.vnode.el;C.asyncDep.catch(P=>{Xl(P,C,0)}).then(P=>{if(C.isUnmounted||x.isUnmounted||x.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:T}=C;Rf(C,P,!1),A&&(T.el=A);const F=!A&&C.subTree.el;E(C,T,m(A||C.subTree.el),A?null:f(C.subTree),x,a,M),F&&v(F),Wg(C,T.el),w&&--x.deps===0&&x.resolve()})},unmount(C,E){x.isUnmounted=!0,x.activeBranch&&g(x.activeBranch,n,C,E),x.pendingBranch&&g(x.pendingBranch,n,C,E)}};return x}function ZE(t,e,n,i,s,r,a,o,l){const u=e.suspense=i1(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,o,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,r,a);return u.deps===0&&u.resolve(!1,!0),c}function JE(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=jv(i?n.default:n),t.ssFallback=i?jv(n.fallback):y(an)}function jv(t){let e;if(Le(t)){const n=Za&&t._c;n&&(t._d=!1,ii()),t=t(),n&&(t._d=!0,e=ai,M1())}return Ee(t)&&(t=BE(t)),t=pi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function QE(t,e){e&&e.pendingBranch?Ee(t)?e.effects.push(...t):e.effects.push(t):bf(t)}function Ua(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,Wg(i,s))}function eM(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}function ph(t,e,n=Ht,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{wr();const o=ql(n),l=li(e,n,t,a);return o(),Sr(),l});return i?s.unshift(r):s.push(r),r}}const Os=t=>(e,n=Ht)=>{(!wh||t==="sp")&&ph(t,(...i)=>e(...i),n)},jg=Os("bm"),Ln=Os("m"),s1=Os("bu"),Hg=Os("u"),Fn=Os("bum"),r1=Os("um"),tM=Os("sp"),nM=Os("rtg"),iM=Os("rtc");function sM(t,e=Ht){ph("ec",t,e)}function Bt(t,e){if(vn===null)return t;const n=Sh(vn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=wt]=e[s];r&&(Le(r)&&(r={mounted:r,updated:r}),r.deep&&er(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Ar(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(wr(),li(l,n,8,[t.el,o,t,e]),Sr())}}/*! #__NO_SIDE_EFFECTS__ */function bh(t,e){return Le(t)?Lt({name:t.name},e,{setup:t}):t}const nc=t=>!!t.type.__asyncLoader,wf=t=>t?R1(t)?Sh(t):wf(t.parent):null,Jo=Lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wf(t.parent),$root:t=>wf(t.root),$emit:t=>t.emit,$options:t=>Yg(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,zg(t.update)}),$nextTick:t=>t.n||(t.n=ct.bind(t.proxy)),$watch:t=>EM.bind(t)}),Sd=(t,e)=>t!==wt&&!t.__isScriptSetup&&Ze(t,e),rM={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Sd(i,e))return a[e]=1,i[e];if(s!==wt&&Ze(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&Ze(u,e))return a[e]=3,r[e];if(n!==wt&&Ze(n,e))return a[e]=4,n[e];Sf&&(a[e]=0)}}const c=Jo[e];let h,d;if(c)return e==="$attrs"&&On(t.attrs,"get",""),c(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==wt&&Ze(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Ze(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Sd(s,e)?(s[e]=n,!0):i!==wt&&Ze(i,e)?(i[e]=n,!0):Ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==wt&&Ze(t,a)||Sd(e,a)||(o=r[0])&&Ze(o,a)||Ze(i,a)||Ze(Jo,a)||Ze(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Hv(t){return Ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Sf=!0;function aM(t){const e=Yg(t),n=t.proxy,i=t.ctx;Sf=!1,e.beforeCreate&&Yv(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:f,activated:m,deactivated:v,beforeDestroy:_,beforeUnmount:p,destroyed:b,unmounted:S,render:x,renderTracked:C,renderTriggered:E,errorCaptured:M,serverPrefetch:w,expose:A,inheritAttrs:P,components:T,directives:F,filters:O}=e;if(u&&oM(u,i,null),a)for(const j in a){const N=a[j];Le(N)&&(i[j]=N.bind(n))}if(s){const j=s.call(n,n);St(j)&&(t.data=jt(j))}if(Sf=!0,r)for(const j in r){const N=r[j],$=Le(N)?N.bind(n,n):Le(N.get)?N.get.bind(n,n):ri,V=!Le(N)&&Le(N.set)?N.set.bind(n):ri,U=R({get:$,set:V});Object.defineProperty(i,j,{enumerable:!0,configurable:!0,get:()=>U.value,set:K=>U.value=K})}if(o)for(const j in o)a1(o[j],i,n,j);if(l){const j=Le(l)?l.call(n):l;Reflect.ownKeys(j).forEach(N=>{Ct(N,j[N])})}c&&Yv(c,t,"c");function I(j,N){Ee(N)?N.forEach($=>j($.bind(n))):N&&j(N.bind(n))}if(I(jg,h),I(Ln,d),I(s1,g),I(Hg,f),I(_1,m),I(p1,v),I(sM,M),I(iM,C),I(nM,E),I(Fn,p),I(r1,S),I(tM,w),Ee(A))if(A.length){const j=t.exposed||(t.exposed={});A.forEach(N=>{Object.defineProperty(j,N,{get:()=>n[N],set:$=>n[N]=$})})}else t.exposed||(t.exposed={});x&&t.render===ri&&(t.render=x),P!=null&&(t.inheritAttrs=P),T&&(t.components=T),F&&(t.directives=F)}function oM(t,e,n=ri){Ee(t)&&(t=Cf(t));for(const i in t){const s=t[i];let r;St(s)?"default"in s?r=He(s.from||i,s.default,!0):r=He(s.from||i):r=He(s),vt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function Yv(t,e,n){li(Ee(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function a1(t,e,n,i){const s=i.includes(".")?y1(n,i):()=>n[i];if(Ft(t)){const r=e[t];Le(r)&&he(s,r)}else if(Le(t))he(s,t.bind(n));else if(St(t))if(Ee(t))t.forEach(r=>a1(r,e,n,i));else{const r=Le(t.handler)?t.handler.bind(n):e[t.handler];Le(r)&&he(s,r,t)}}function Yg(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(u=>_c(l,u,a,!0)),_c(l,e,a)),St(e)&&r.set(e,l),l}function _c(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&_c(t,r,n,!0),s&&s.forEach(a=>_c(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=lM[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const lM={data:Xv,props:Kv,emits:Kv,methods:Wo,computed:Wo,beforeCreate:gn,created:gn,beforeMount:gn,mounted:gn,beforeUpdate:gn,updated:gn,beforeDestroy:gn,beforeUnmount:gn,destroyed:gn,unmounted:gn,activated:gn,deactivated:gn,errorCaptured:gn,serverPrefetch:gn,components:Wo,directives:Wo,watch:cM,provide:Xv,inject:uM};function Xv(t,e){return e?t?function(){return Lt(Le(t)?t.call(this,this):t,Le(e)?e.call(this,this):e)}:e:t}function uM(t,e){return Wo(Cf(t),Cf(e))}function Cf(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gn(t,e){return t?[...new Set([].concat(t,e))]:e}function Wo(t,e){return t?Lt(Object.create(null),t,e):e}function Kv(t,e){return t?Ee(t)&&Ee(e)?[...new Set([...t,...e])]:Lt(Object.create(null),Hv(t),Hv(e??{})):e}function cM(t,e){if(!t)return e;if(!e)return t;const n=Lt(Object.create(null),t);for(const i in e)n[i]=gn(t[i],e[i]);return n}function o1(){return{app:null,config:{isNativeTag:qC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hM=0;function dM(t,e){return function(i,s=null){Le(i)||(i=Lt({},i)),s!=null&&!St(s)&&(s=null);const r=o1(),a=new WeakSet;let o=!1;const l=r.app={_uid:hM++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:WM,get config(){return r.config},set config(u){},use(u,...c){return a.has(u)||(u&&Le(u.install)?(a.add(u),u.install(l,...c)):Le(u)&&(a.add(u),u(l,...c))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,c){return c?(r.components[u]=c,l):r.components[u]},directive(u,c){return c?(r.directives[u]=c,l):r.directives[u]},mount(u,c,h){if(!o){const d=y(i,s);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(d,u):t(d,u,h),o=!0,l._container=u,u.__vue_app__=l,Sh(d.component)}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return r.provides[u]=c,l},runWithContext(u){const c=za;za=l;try{return u()}finally{za=c}}};return l}}let za=null;function Ct(t,e){if(Ht){let n=Ht.provides;const i=Ht.parent&&Ht.parent.provides;i===n&&(n=Ht.provides=Object.create(i)),n[t]=e}}function He(t,e,n=!1){const i=Ht||vn;if(i||za){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:za._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Le(e)?e.call(i&&i.proxy):e}}function fM(){return!!(Ht||vn||za)}const l1={},u1=()=>Object.create(l1),c1=t=>Object.getPrototypeOf(t)===l1;function gM(t,e,n,i=!1){const s={},r=u1();t.propsDefaults=Object.create(null),h1(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:IE(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function mM(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=Ae(s),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(_h(t.emitsOptions,d))continue;const g=e[d];if(l)if(Ze(r,d))g!==r[d]&&(r[d]=g,u=!0);else{const f=ci(d);s[f]=Ef(l,o,f,g,t,!1)}else g!==r[d]&&(r[d]=g,u=!0)}}}else{h1(t,e,s,r)&&(u=!0);let c;for(const h in o)(!e||!Ze(e,h)&&((c=oa(h))===h||!Ze(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=Ef(l,o,h,void 0,t,!0)):delete s[h]);if(r!==o)for(const h in r)(!e||!Ze(e,h))&&(delete r[h],u=!0)}u&&xs(t.attrs,"set","")}function h1(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Zo(l))continue;const u=e[l];let c;s&&Ze(s,c=ci(l))?!r||!r.includes(c)?n[c]=u:(o||(o={}))[c]=u:_h(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(r){const l=Ae(n),u=o||wt;for(let c=0;c<r.length;c++){const h=r[c];n[h]=Ef(s,l,h,u[h],t,!Ze(u,h))}}return a}function Ef(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=Ze(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Le(l)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const c=ql(s);i=u[n]=l.call(null,e),c()}}else i=l}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===oa(n))&&(i=!0))}return i}function d1(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!Le(t)){const c=h=>{l=!0;const[d,g]=d1(h,e,!0);Lt(a,d),g&&o.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!r&&!l)return St(t)&&i.set(t,Ba),Ba;if(Ee(r))for(let c=0;c<r.length;c++){const h=ci(r[c]);qv(h)&&(a[h]=wt)}else if(r)for(const c in r){const h=ci(c);if(qv(h)){const d=r[c],g=a[h]=Ee(d)||Le(d)?{type:d}:Lt({},d);if(g){const f=Qv(Boolean,g.type),m=Qv(String,g.type);g[0]=f>-1,g[1]=m<0||f<m,(f>-1||Ze(g,"default"))&&o.push(h)}}}const u=[a,o];return St(t)&&i.set(t,u),u}function qv(t){return t[0]!=="$"&&!Zo(t)}function Zv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Jv(t,e){return Zv(t)===Zv(e)}function Qv(t,e){return Ee(e)?e.findIndex(n=>Jv(n,t)):Le(e)&&Jv(e,t)?0:-1}const f1=t=>t[0]==="_"||t==="$stable",Xg=t=>Ee(t)?t.map(pi):[pi(t)],vM=(t,e,n)=>{if(e._n)return e;const i=B((...s)=>Xg(e(...s)),n);return i._c=!1,i},g1=(t,e,n)=>{const i=t._ctx;for(const s in t){if(f1(s))continue;const r=t[s];if(Le(r))e[s]=vM(s,r,i);else if(r!=null){const a=Xg(r);e[s]=()=>a}}},m1=(t,e)=>{const n=Xg(e);t.slots.default=()=>n},yM=(t,e)=>{const n=t.slots=u1();if(t.vnode.shapeFlag&32){const i=e._;i?(Lt(n,e),Cp(n,"_",i,!0)):g1(e,n)}else e&&m1(t,e)},_M=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=wt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:(Lt(s,e),!n&&o===1&&delete s._):(r=!e.$stable,g1(e,s)),a=e}else e&&(m1(t,e),a={default:1});if(r)for(const o in s)!f1(o)&&a[o]==null&&delete s[o]};function Mf(t,e,n,i,s=!1){if(Ee(t)){t.forEach((d,g)=>Mf(d,e&&(Ee(e)?e[g]:e),n,i,s));return}if(nc(i)&&!s)return;const r=i.shapeFlag&4?Sh(i.component):i.el,a=s?null:r,{i:o,r:l}=t,u=e&&e.r,c=o.refs===wt?o.refs={}:o.refs,h=o.setupState;if(u!=null&&u!==l&&(Ft(u)?(c[u]=null,Ze(h,u)&&(h[u]=null)):vt(u)&&(u.value=null)),Le(l))ur(l,o,12,[a,c]);else{const d=Ft(l),g=vt(l);if(d||g){const f=()=>{if(t.f){const m=d?Ze(h,l)?h[l]:c[l]:l.value;s?Ee(m)&&Pg(m,r):Ee(m)?m.includes(r)||m.push(r):d?(c[l]=[r],Ze(h,l)&&(h[l]=c[l])):(l.value=[r],t.k&&(c[t.k]=l.value))}else d?(c[l]=a,Ze(h,l)&&(h[l]=a)):g&&(l.value=a,t.k&&(c[t.k]=a))};a?(f.id=-1,Sn(f,n)):f()}}}const Sn=QE;function pM(t){return bM(t)}function bM(t,e){const n=Mp();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=ri,insertStaticContent:f}=t,m=(L,D,z,q=null,Q=null,re=null,ue=void 0,te=null,ne=!!D.dynamicChildren)=>{if(L===D)return;L&&!$i(L,D)&&(q=se(L),K(L,Q,re,!0),L=null),D.patchFlag===-2&&(ne=!1,D.dynamicChildren=null);const{type:ee,ref:fe,shapeFlag:pe}=D;switch(ee){case Kl:v(L,D,z,q);break;case an:_(L,D,z,q);break;case Md:L==null&&p(D,z,q,ue);break;case Re:T(L,D,z,q,Q,re,ue,te,ne);break;default:pe&1?x(L,D,z,q,Q,re,ue,te,ne):pe&6?F(L,D,z,q,Q,re,ue,te,ne):(pe&64||pe&128)&&ee.process(L,D,z,q,Q,re,ue,te,ne,it)}fe!=null&&Q&&Mf(fe,L&&L.ref,re,D||L,!D)},v=(L,D,z,q)=>{if(L==null)i(D.el=o(D.children),z,q);else{const Q=D.el=L.el;D.children!==L.children&&u(Q,D.children)}},_=(L,D,z,q)=>{L==null?i(D.el=l(D.children||""),z,q):D.el=L.el},p=(L,D,z,q)=>{[L.el,L.anchor]=f(L.children,D,z,q,L.el,L.anchor)},b=({el:L,anchor:D},z,q)=>{let Q;for(;L&&L!==D;)Q=d(L),i(L,z,q),L=Q;i(D,z,q)},S=({el:L,anchor:D})=>{let z;for(;L&&L!==D;)z=d(L),s(L),L=z;s(D)},x=(L,D,z,q,Q,re,ue,te,ne)=>{D.type==="svg"?ue="svg":D.type==="math"&&(ue="mathml"),L==null?C(D,z,q,Q,re,ue,te,ne):w(L,D,Q,re,ue,te,ne)},C=(L,D,z,q,Q,re,ue,te)=>{let ne,ee;const{props:fe,shapeFlag:pe,transition:ye,dirs:Ce}=L;if(ne=L.el=a(L.type,re,fe&&fe.is,fe),pe&8?c(ne,L.children):pe&16&&M(L.children,ne,null,q,Q,Cd(L,re),ue,te),Ce&&Ar(L,null,q,"created"),E(ne,L,L.scopeId,ue,q),fe){for(const Qe in fe)Qe!=="value"&&!Zo(Qe)&&r(ne,Qe,null,fe[Qe],re,L.children,q,Q,Z);"value"in fe&&r(ne,"value",null,fe.value,re),(ee=fe.onVnodeBeforeMount)&&Fi(ee,q,L)}Ce&&Ar(L,null,q,"beforeMount");const ke=xM(Q,ye);ke&&ye.beforeEnter(ne),i(ne,D,z),((ee=fe&&fe.onVnodeMounted)||ke||Ce)&&Sn(()=>{ee&&Fi(ee,q,L),ke&&ye.enter(ne),Ce&&Ar(L,null,q,"mounted")},Q)},E=(L,D,z,q,Q)=>{if(z&&g(L,z),q)for(let re=0;re<q.length;re++)g(L,q[re]);if(Q){let re=Q.subTree;if(D===re){const ue=Q.vnode;E(L,ue,ue.scopeId,ue.slotScopeIds,Q.parent)}}},M=(L,D,z,q,Q,re,ue,te,ne=0)=>{for(let ee=ne;ee<L.length;ee++){const fe=L[ee]=te?Js(L[ee]):pi(L[ee]);m(null,fe,D,z,q,Q,re,ue,te)}},w=(L,D,z,q,Q,re,ue)=>{const te=D.el=L.el;let{patchFlag:ne,dynamicChildren:ee,dirs:fe}=D;ne|=L.patchFlag&16;const pe=L.props||wt,ye=D.props||wt;let Ce;if(z&&Pr(z,!1),(Ce=ye.onVnodeBeforeUpdate)&&Fi(Ce,z,D,L),fe&&Ar(D,L,z,"beforeUpdate"),z&&Pr(z,!0),ee?A(L.dynamicChildren,ee,te,z,q,Cd(D,Q),re):ue||N(L,D,te,null,z,q,Cd(D,Q),re,!1),ne>0){if(ne&16)P(te,D,pe,ye,z,q,Q);else if(ne&2&&pe.class!==ye.class&&r(te,"class",null,ye.class,Q),ne&4&&r(te,"style",pe.style,ye.style,Q),ne&8){const ke=D.dynamicProps;for(let Qe=0;Qe<ke.length;Qe++){const Te=ke[Qe],Dt=pe[Te],xn=ye[Te];(xn!==Dt||Te==="value")&&r(te,Te,Dt,xn,Q,L.children,z,q,Z)}}ne&1&&L.children!==D.children&&c(te,D.children)}else!ue&&ee==null&&P(te,D,pe,ye,z,q,Q);((Ce=ye.onVnodeUpdated)||fe)&&Sn(()=>{Ce&&Fi(Ce,z,D,L),fe&&Ar(D,L,z,"updated")},q)},A=(L,D,z,q,Q,re,ue)=>{for(let te=0;te<D.length;te++){const ne=L[te],ee=D[te],fe=ne.el&&(ne.type===Re||!$i(ne,ee)||ne.shapeFlag&70)?h(ne.el):z;m(ne,ee,fe,null,q,Q,re,ue,!0)}},P=(L,D,z,q,Q,re,ue)=>{if(z!==q){if(z!==wt)for(const te in z)!Zo(te)&&!(te in q)&&r(L,te,z[te],null,ue,D.children,Q,re,Z);for(const te in q){if(Zo(te))continue;const ne=q[te],ee=z[te];ne!==ee&&te!=="value"&&r(L,te,ee,ne,ue,D.children,Q,re,Z)}"value"in q&&r(L,"value",z.value,q.value,ue)}},T=(L,D,z,q,Q,re,ue,te,ne)=>{const ee=D.el=L?L.el:o(""),fe=D.anchor=L?L.anchor:o("");let{patchFlag:pe,dynamicChildren:ye,slotScopeIds:Ce}=D;Ce&&(te=te?te.concat(Ce):Ce),L==null?(i(ee,z,q),i(fe,z,q),M(D.children||[],z,fe,Q,re,ue,te,ne)):pe>0&&pe&64&&ye&&L.dynamicChildren?(A(L.dynamicChildren,ye,z,Q,re,ue,te),(D.key!=null||Q&&D===Q.subTree)&&Kg(L,D,!0)):N(L,D,z,fe,Q,re,ue,te,ne)},F=(L,D,z,q,Q,re,ue,te,ne)=>{D.slotScopeIds=te,L==null?D.shapeFlag&512?Q.ctx.activate(D,z,q,ue,ne):O(D,z,q,Q,re,ue,ne):k(L,D,ne)},O=(L,D,z,q,Q,re,ue)=>{const te=L.component=NM(L,q,Q);if(xh(L)&&(te.ctx.renderer=it),VM(te),te.asyncDep){if(Q&&Q.registerDep(te,I,ue),!L.el){const ne=te.subTree=y(an);_(null,ne,D,z)}}else I(te,L,D,z,Q,re,ue)},k=(L,D,z)=>{const q=D.component=L.component;if(UE(L,D,z))if(q.asyncDep&&!q.asyncResolved){j(q,D,z);return}else q.next=D,DE(q.update),q.effect.dirty=!0,q.update();else D.el=L.el,q.vnode=D},I=(L,D,z,q,Q,re,ue)=>{const te=()=>{if(L.isMounted){let{next:fe,bu:pe,u:ye,parent:Ce,vnode:ke}=L;{const rs=v1(L);if(rs){fe&&(fe.el=ke.el,j(L,fe,ue)),rs.asyncDep.then(()=>{L.isUnmounted||te()});return}}let Qe=fe,Te;Pr(L,!1),fe?(fe.el=ke.el,j(L,fe,ue)):fe=ke,pe&&ec(pe),(Te=fe.props&&fe.props.onVnodeBeforeUpdate)&&Fi(Te,Ce,fe,ke),Pr(L,!0);const Dt=wd(L),xn=L.subTree;L.subTree=Dt,m(xn,Dt,h(xn.el),se(xn),L,Q,re),fe.el=Dt.el,Qe===null&&Wg(L,Dt.el),ye&&Sn(ye,Q),(Te=fe.props&&fe.props.onVnodeUpdated)&&Sn(()=>Fi(Te,Ce,fe,ke),Q)}else{let fe;const{el:pe,props:ye}=D,{bm:Ce,m:ke,parent:Qe}=L,Te=nc(D);if(Pr(L,!1),Ce&&ec(Ce),!Te&&(fe=ye&&ye.onVnodeBeforeMount)&&Fi(fe,Qe,D),Pr(L,!0),pe&&$n){const Dt=()=>{L.subTree=wd(L),$n(pe,L.subTree,L,Q,null)};Te?D.type.__asyncLoader().then(()=>!L.isUnmounted&&Dt()):Dt()}else{const Dt=L.subTree=wd(L);m(null,Dt,z,q,L,Q,re),D.el=Dt.el}if(ke&&Sn(ke,Q),!Te&&(fe=ye&&ye.onVnodeMounted)){const Dt=D;Sn(()=>Fi(fe,Qe,Dt),Q)}(D.shapeFlag&256||Qe&&nc(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&L.a&&Sn(L.a,Q),L.isMounted=!0,D=z=q=null}},ne=L.effect=new Fg(te,ri,()=>zg(ee),L.scope),ee=L.update=()=>{ne.dirty&&ne.run()};ee.id=L.uid,Pr(L,!0),ee()},j=(L,D,z)=>{D.component=L;const q=L.vnode.props;L.vnode=D,L.next=null,mM(L,D.props,q,z),_M(L,D.children,z),wr(),Uv(L),Sr()},N=(L,D,z,q,Q,re,ue,te,ne=!1)=>{const ee=L&&L.children,fe=L?L.shapeFlag:0,pe=D.children,{patchFlag:ye,shapeFlag:Ce}=D;if(ye>0){if(ye&128){V(ee,pe,z,q,Q,re,ue,te,ne);return}else if(ye&256){$(ee,pe,z,q,Q,re,ue,te,ne);return}}Ce&8?(fe&16&&Z(ee,Q,re),pe!==ee&&c(z,pe)):fe&16?Ce&16?V(ee,pe,z,q,Q,re,ue,te,ne):Z(ee,Q,re,!0):(fe&8&&c(z,""),Ce&16&&M(pe,z,q,Q,re,ue,te,ne))},$=(L,D,z,q,Q,re,ue,te,ne)=>{L=L||Ba,D=D||Ba;const ee=L.length,fe=D.length,pe=Math.min(ee,fe);let ye;for(ye=0;ye<pe;ye++){const Ce=D[ye]=ne?Js(D[ye]):pi(D[ye]);m(L[ye],Ce,z,null,Q,re,ue,te,ne)}ee>fe?Z(L,Q,re,!0,!1,pe):M(D,z,q,Q,re,ue,te,ne,pe)},V=(L,D,z,q,Q,re,ue,te,ne)=>{let ee=0;const fe=D.length;let pe=L.length-1,ye=fe-1;for(;ee<=pe&&ee<=ye;){const Ce=L[ee],ke=D[ee]=ne?Js(D[ee]):pi(D[ee]);if($i(Ce,ke))m(Ce,ke,z,null,Q,re,ue,te,ne);else break;ee++}for(;ee<=pe&&ee<=ye;){const Ce=L[pe],ke=D[ye]=ne?Js(D[ye]):pi(D[ye]);if($i(Ce,ke))m(Ce,ke,z,null,Q,re,ue,te,ne);else break;pe--,ye--}if(ee>pe){if(ee<=ye){const Ce=ye+1,ke=Ce<fe?D[Ce].el:q;for(;ee<=ye;)m(null,D[ee]=ne?Js(D[ee]):pi(D[ee]),z,ke,Q,re,ue,te,ne),ee++}}else if(ee>ye)for(;ee<=pe;)K(L[ee],Q,re,!0),ee++;else{const Ce=ee,ke=ee,Qe=new Map;for(ee=ke;ee<=ye;ee++){const Jt=D[ee]=ne?Js(D[ee]):pi(D[ee]);Jt.key!=null&&Qe.set(Jt.key,ee)}let Te,Dt=0;const xn=ye-ke+1;let rs=!1,va=0;const Ir=new Array(xn);for(ee=0;ee<xn;ee++)Ir[ee]=0;for(ee=Ce;ee<=pe;ee++){const Jt=L[ee];if(Dt>=xn){K(Jt,Q,re,!0);continue}let Gn;if(Jt.key!=null)Gn=Qe.get(Jt.key);else for(Te=ke;Te<=ye;Te++)if(Ir[Te-ke]===0&&$i(Jt,D[Te])){Gn=Te;break}Gn===void 0?K(Jt,Q,re,!0):(Ir[Gn-ke]=ee+1,Gn>=va?va=Gn:rs=!0,m(Jt,D[Gn],z,null,Q,re,ue,te,ne),Dt++)}const Su=rs?wM(Ir):Ba;for(Te=Su.length-1,ee=xn-1;ee>=0;ee--){const Jt=ke+ee,Gn=D[Jt],ya=Jt+1<fe?D[Jt+1].el:q;Ir[ee]===0?m(null,Gn,z,ya,Q,re,ue,te,ne):rs&&(Te<0||ee!==Su[Te]?U(Gn,z,ya,2):Te--)}}},U=(L,D,z,q,Q=null)=>{const{el:re,type:ue,transition:te,children:ne,shapeFlag:ee}=L;if(ee&6){U(L.component.subTree,D,z,q);return}if(ee&128){L.suspense.move(D,z,q);return}if(ee&64){ue.move(L,D,z,it);return}if(ue===Re){i(re,D,z);for(let pe=0;pe<ne.length;pe++)U(ne[pe],D,z,q);i(L.anchor,D,z);return}if(ue===Md){b(L,D,z);return}if(q!==2&&ee&1&&te)if(q===0)te.beforeEnter(re),i(re,D,z),Sn(()=>te.enter(re),Q);else{const{leave:pe,delayLeave:ye,afterLeave:Ce}=te,ke=()=>i(re,D,z),Qe=()=>{pe(re,()=>{ke(),Ce&&Ce()})};ye?ye(re,ke,Qe):Qe()}else i(re,D,z)},K=(L,D,z,q=!1,Q=!1)=>{const{type:re,props:ue,ref:te,children:ne,dynamicChildren:ee,shapeFlag:fe,patchFlag:pe,dirs:ye,memoIndex:Ce}=L;if(pe===-2&&(Q=!1),te!=null&&Mf(te,null,z,L,!0),Ce!=null&&(D.renderCache[Ce]=void 0),fe&256){D.ctx.deactivate(L);return}const ke=fe&1&&ye,Qe=!nc(L);let Te;if(Qe&&(Te=ue&&ue.onVnodeBeforeUnmount)&&Fi(Te,D,L),fe&6)G(L.component,z,q);else{if(fe&128){L.suspense.unmount(z,q);return}ke&&Ar(L,null,D,"beforeUnmount"),fe&64?L.type.remove(L,D,z,it,q):ee&&(re!==Re||pe>0&&pe&64)?Z(ee,D,z,!1,!0):(re===Re&&pe&384||!Q&&fe&16)&&Z(ne,D,z),q&&oe(L)}(Qe&&(Te=ue&&ue.onVnodeUnmounted)||ke)&&Sn(()=>{Te&&Fi(Te,D,L),ke&&Ar(L,null,D,"unmounted")},z)},oe=L=>{const{type:D,el:z,anchor:q,transition:Q}=L;if(D===Re){Y(z,q);return}if(D===Md){S(L);return}const re=()=>{s(z),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(L.shapeFlag&1&&Q&&!Q.persisted){const{leave:ue,delayLeave:te}=Q,ne=()=>ue(z,re);te?te(L.el,re,ne):ne()}else re()},Y=(L,D)=>{let z;for(;L!==D;)z=d(L),s(L),L=z;s(D)},G=(L,D,z)=>{const{bum:q,scope:Q,update:re,subTree:ue,um:te,m:ne,a:ee}=L;ey(ne),ey(ee),q&&ec(q),Q.stop(),re&&(re.active=!1,K(ue,L,D,z)),te&&Sn(te,D),Sn(()=>{L.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Z=(L,D,z,q=!1,Q=!1,re=0)=>{for(let ue=re;ue<L.length;ue++)K(L[ue],D,z,q,Q)},se=L=>L.shapeFlag&6?se(L.component.subTree):L.shapeFlag&128?L.suspense.next():d(L.anchor||L.el);let Ge=!1;const yt=(L,D,z)=>{L==null?D._vnode&&K(D._vnode,null,null,!0):m(D._vnode||null,L,D,null,null,null,z),Ge||(Ge=!0,Uv(),Zp(),Ge=!1),D._vnode=L},it={p:m,um:K,m:U,r:oe,mt:O,mc:M,pc:N,pbc:A,n:se,o:t};let Bn,$n;return{render:yt,hydrate:Bn,createApp:dM(yt,Bn)}}function Cd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Pr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function xM(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Kg(t,e,n=!1){const i=t.children,s=e.children;if(Ee(i)&&Ee(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=Js(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Kg(a,o)),o.type===Kl&&(o.el=a.el)}}function wM(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=n[n.length-1],t[s]<u){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<u?r=o+1:a=o;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function v1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:v1(e)}function ey(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const SM=Symbol.for("v-scx"),CM=()=>He(SM);function $t(t,e){return qg(t,null,e)}const Au={};function he(t,e,n){return qg(t,e,n)}function qg(t,e,{immediate:n,deep:i,flush:s,once:r,onTrack:a,onTrigger:o}=wt){if(e&&r){const C=e;e=(...E)=>{C(...E),x()}}const l=Ht,u=C=>i===!0?C:er(C,i===!1?1:void 0);let c,h=!1,d=!1;if(vt(t)?(c=()=>t.value,h=vc(t)):lr(t)?(c=()=>u(t),h=!0):Ee(t)?(d=!0,h=t.some(C=>lr(C)||vc(C)),c=()=>t.map(C=>{if(vt(C))return C.value;if(lr(C))return u(C);if(Le(C))return ur(C,l,2)})):Le(t)?e?c=()=>ur(t,l,2):c=()=>(g&&g(),li(t,l,3,[f])):c=ri,e&&i){const C=c;c=()=>er(C())}let g,f=C=>{g=b.onStop=()=>{ur(C,l,4),g=b.onStop=void 0}},m;if(wh)if(f=ri,e?n&&li(e,l,3,[c(),d?[]:void 0,f]):c(),s==="sync"){const C=CM();m=C.__watcherHandles||(C.__watcherHandles=[])}else return ri;let v=d?new Array(t.length).fill(Au):Au;const _=()=>{if(!(!b.active||!b.dirty))if(e){const C=b.run();(i||h||(d?C.some((E,M)=>fr(E,v[M])):fr(C,v)))&&(g&&g(),li(e,l,3,[C,v===Au?void 0:d&&v[0]===Au?[]:v,f]),v=C)}else b.run()};_.allowRecurse=!!e;let p;s==="sync"?p=_:s==="post"?p=()=>Sn(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),p=()=>zg(_));const b=new Fg(c,ri,p),S=Pp(),x=()=>{b.stop(),S&&Pg(S.effects,b)};return e?n?_():v=b.run():s==="post"?Sn(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(x),x}function EM(t,e,n){const i=this.proxy,s=Ft(t)?t.includes(".")?y1(i,t):()=>i[t]:t.bind(i,i);let r;Le(e)?r=e:(r=e.handler,n=e);const a=ql(this),o=qg(s,r.bind(i),n);return a(),o}function y1(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function er(t,e=1/0,n){if(e<=0||!St(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,vt(t))er(t.value,e,n);else if(Ee(t))for(let i=0;i<t.length;i++)er(t[i],e,n);else if(bp(t)||$a(t))t.forEach(i=>{er(i,e,n)});else if(Sp(t)){for(const i in t)er(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&er(t[i],e,n)}return t}const xh=t=>t.type.__isKeepAlive;function _1(t,e){b1(t,"a",e)}function p1(t,e){b1(t,"da",e)}function b1(t,e,n=Ht){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ph(e,i,n),n){let s=n.parent;for(;s&&s.parent;)xh(s.parent.vnode)&&MM(i,e,n,s),s=s.parent}}function MM(t,e,n,i){const s=ph(e,t,i,!0);r1(()=>{Pg(i[e],s)},n)}const Zs=Symbol("_leaveCb"),Pu=Symbol("_enterCb");function x1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ln(()=>{t.isMounted=!0}),Fn(()=>{t.isUnmounting=!0}),t}const Qn=[Function,Array],w1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qn,onEnter:Qn,onAfterEnter:Qn,onEnterCancelled:Qn,onBeforeLeave:Qn,onLeave:Qn,onAfterLeave:Qn,onLeaveCancelled:Qn,onBeforeAppear:Qn,onAppear:Qn,onAfterAppear:Qn,onAppearCancelled:Qn},S1=t=>{const e=t.subTree;return e.component?S1(e.component):e},TM={name:"BaseTransition",props:w1,setup(t,{slots:e}){const n=Qg(),i=x1();return()=>{const s=e.default&&Zg(e.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){for(const d of s)if(d.type!==an){r=d;break}}const a=Ae(t),{mode:o}=a;if(i.isLeaving)return Ed(r);const l=ty(r);if(!l)return Ed(r);let u=vl(l,a,i,n,d=>u=d);qa(l,u);const c=n.subTree,h=c&&ty(c);if(h&&h.type!==an&&!$i(l,h)&&S1(n).type!==an){const d=vl(h,a,i,n);if(qa(h,d),o==="out-in"&&l.type!==an)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ed(r);o==="in-out"&&l.type!==an&&(d.delayLeave=(g,f,m)=>{const v=C1(i,h);v[String(h.key)]=h,g[Zs]=()=>{f(),g[Zs]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return r}}},IM=TM;function C1(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function vl(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:g,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:v,onAppear:_,onAfterAppear:p,onAppearCancelled:b}=e,S=String(t.key),x=C1(n,t),C=(w,A)=>{w&&li(w,i,9,A)},E=(w,A)=>{const P=A[1];C(w,A),Ee(w)?w.every(T=>T.length<=1)&&P():w.length<=1&&P()},M={mode:a,persisted:o,beforeEnter(w){let A=l;if(!n.isMounted)if(r)A=v||l;else return;w[Zs]&&w[Zs](!0);const P=x[S];P&&$i(t,P)&&P.el[Zs]&&P.el[Zs](),C(A,[w])},enter(w){let A=u,P=c,T=h;if(!n.isMounted)if(r)A=_||u,P=p||c,T=b||h;else return;let F=!1;const O=w[Pu]=k=>{F||(F=!0,k?C(T,[w]):C(P,[w]),M.delayedLeave&&M.delayedLeave(),w[Pu]=void 0)};A?E(A,[w,O]):O()},leave(w,A){const P=String(t.key);if(w[Pu]&&w[Pu](!0),n.isUnmounting)return A();C(d,[w]);let T=!1;const F=w[Zs]=O=>{T||(T=!0,A(),O?C(m,[w]):C(f,[w]),w[Zs]=void 0,x[P]===t&&delete x[P])};x[P]=t,g?E(g,[w,F]):F()},clone(w){const A=vl(w,e,n,i,s);return s&&s(A),A}};return M}function Ed(t){if(xh(t))return t=Ms(t),t.children=null,t}function ty(t){if(!xh(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Le(n.default))return n.default()}}function qa(t,e){t.shapeFlag&6&&t.component?qa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zg(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Re?(a.patchFlag&128&&s++,i=i.concat(Zg(a.children,e,o))):(e||a.type!==an)&&i.push(o!=null?Ms(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}const RM=t=>t.__isTeleport,Qo=t=>t&&(t.disabled||t.disabled===""),ny=t=>typeof SVGElement<"u"&&t instanceof SVGElement,iy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Tf=(t,e)=>{const n=t&&t.to;return Ft(n)?e?e(n):null:n},AM={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,u){const{mc:c,pc:h,pbc:d,o:{insert:g,querySelector:f,createText:m,createComment:v}}=u,_=Qo(e.props);let{shapeFlag:p,children:b,dynamicChildren:S}=e;if(t==null){const x=e.el=m(""),C=e.anchor=m("");g(x,n,i),g(C,n,i);const E=e.target=Tf(e.props,f),M=e.targetAnchor=m("");E&&(g(M,E),a==="svg"||ny(E)?a="svg":(a==="mathml"||iy(E))&&(a="mathml"));const w=(A,P)=>{p&16&&c(b,A,P,s,r,a,o,l)};_?w(n,C):E&&w(E,M)}else{e.el=t.el;const x=e.anchor=t.anchor,C=e.target=t.target,E=e.targetAnchor=t.targetAnchor,M=Qo(t.props),w=M?n:C,A=M?x:E;if(a==="svg"||ny(C)?a="svg":(a==="mathml"||iy(C))&&(a="mathml"),S?(d(t.dynamicChildren,S,w,s,r,a,o),Kg(t,e,!0)):l||h(t,e,w,A,s,r,a,o,!1),_)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ku(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=Tf(e.props,f);P&&ku(e,P,null,u,0)}else M&&ku(e,C,E,u,1)}E1(e)},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetAnchor:u,target:c,props:h}=t;if(c&&s(u),r&&s(l),a&16){const d=r||!Qo(h);for(let g=0;g<o.length;g++){const f=o[g];i(f,e,n,d,!!f.dynamicChildren)}}},move:ku,hydrate:PM};function ku(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,h=r===2;if(h&&i(a,e,n),(!h||Qo(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],e,n,2);h&&i(o,e,n)}function PM(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=e.target=Tf(e.props,l);if(c){const h=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Qo(e.props))e.anchor=u(a(t),e,o(t),n,i,s,r),e.targetAnchor=h;else{e.anchor=a(t);let d=h;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(h,e,c,n,i,s,r)}E1(e)}return e.anchor&&a(e.anchor)}const kM=AM;function E1(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Re=Symbol.for("v-fgt"),Kl=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),Md=Symbol.for("v-stc"),el=[];let ai=null;function ii(t=!1){el.push(ai=t?null:[])}function M1(){el.pop(),ai=el[el.length-1]||null}let Za=1;function sy(t){Za+=t}function T1(t){return t.dynamicChildren=Za>0?ai||Ba:null,M1(),Za>0&&ai&&ai.push(t),t}function ic(t,e,n,i,s,r){return T1(bi(t,e,n,i,s,r,!0))}function Qr(t,e,n,i,s){return T1(y(t,e,n,i,s,!0))}function yl(t){return t?t.__v_isVNode===!0:!1}function $i(t,e){return t.type===e.type&&t.key===e.key}const I1=({key:t})=>t??null,sc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ft(t)||vt(t)||Le(t)?{i:vn,r:t,k:e,f:!!n}:t:null);function bi(t,e=null,n=null,i=0,s=null,r=t===Re?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&I1(e),ref:e&&sc(e),scopeId:e1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:vn};return o?(Jg(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Ft(n)?8:16),Za>0&&!a&&ai&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&ai.push(l),l}const y=OM;function OM(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===WE)&&(t=an),yl(t)){const o=Ms(t,e,!0);return n&&Jg(o,n),Za>0&&!r&&ai&&(o.shapeFlag&6?ai[ai.indexOf(t)]=o:ai.push(o)),o.patchFlag=-2,o}if(zM(t)&&(t=t.__vccOpts),e){e=LM(e);let{class:o,style:l}=e;o&&!Ft(o)&&(e.class=Lg(o)),St(l)&&(zp(l)&&!Ee(l)&&(l=Lt({},l)),e.style=Og(l))}const a=Ft(t)?1:HE(t)?128:RM(t)?64:St(t)?4:Le(t)?2:0;return bi(t,e,n,i,s,a,r,!0)}function LM(t){return t?zp(t)||c1(t)?Lt({},t):t:null}function Ms(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,u=e?ce(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&I1(u),ref:e&&e.ref?n&&r?Ee(r)?r.concat(sc(e)):[r,sc(e)]:sc(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ms(t.ssContent),ssFallback:t.ssFallback&&Ms(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&qa(c,l.clone(c)),c}function Be(t=" ",e=0){return y(Kl,null,t,e)}function pc(t="",e=!1){return e?(ii(),Qr(an,null,t)):y(an,null,t)}function pi(t){return t==null||typeof t=="boolean"?y(an):Ee(t)?y(Re,null,t.slice()):typeof t=="object"?Js(t):y(Kl,null,String(t))}function Js(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ms(t)}function Jg(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ee(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Jg(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!c1(e)?e._ctx=vn:s===3&&vn&&(vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Le(e)?(e={default:e,_ctx:vn},n=32):(e=String(e),i&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function ce(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Lg([e.class,i.class]));else if(s==="style")e.style=Og([e.style,i.style]);else if(dh(s)){const r=e[s],a=i[s];a&&r!==a&&!(Ee(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function Fi(t,e,n,i=null){li(t,e,7,[n,i])}const FM=o1();let DM=0;function NM(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||FM,r={uid:DM++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ap(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:d1(i,s),emitsOptions:Qp(i,s),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=VE.bind(null,r),t.ce&&t.ce(r),r}let Ht=null;const Qg=()=>Ht||vn;let bc,If;{const t=Mp(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};bc=e("__VUE_INSTANCE_SETTERS__",n=>Ht=n),If=e("__VUE_SSR_SETTERS__",n=>wh=n)}const ql=t=>{const e=Ht;return bc(t),t.scope.on(),()=>{t.scope.off(),bc(e)}},ry=()=>{Ht&&Ht.scope.off(),bc(null)};function R1(t){return t.vnode.shapeFlag&4}let wh=!1;function VM(t,e=!1){e&&If(e);const{props:n,children:i}=t.vnode,s=R1(t);gM(t,n,s,e),yM(t,i);const r=s?BM(t,e):void 0;return e&&If(!1),r}function BM(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rM);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?GM(t):null,r=ql(t);wr();const a=ur(i,t,0,[t.props,s]);if(Sr(),r(),xp(a)){if(a.then(ry,ry),e)return a.then(o=>{Rf(t,o,e)}).catch(o=>{Xl(o,t,0)});t.asyncDep=a}else Rf(t,a,e)}else A1(t,e)}function Rf(t,e,n){Le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:St(e)&&(t.setupState=Yp(e)),A1(t,n)}let ay;function A1(t,e,n){const i=t.type;if(!t.render){if(!e&&ay&&!i.render){const s=i.template||Yg(t).template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Lt(Lt({isCustomElement:r,delimiters:o},a),l);i.render=ay(s,u)}}t.render=i.render||ri}{const s=ql(t);wr();try{aM(t)}finally{Sr(),s()}}}const $M={get(t,e){return On(t,"get",""),t[e]}};function GM(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,$M),slots:t.slots,emit:t.emit,expose:e}}function Sh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Yp(vh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jo)return Jo[n](t)},has(e,n){return n in e||n in Jo}})):t.proxy}function UM(t,e=!0){return Le(t)?t.displayName||t.name:t.name||e&&t.__name}function zM(t){return Le(t)&&"__vccOpts"in t}const R=(t,e)=>RE(t,e,wh);function Cr(t,e,n){const i=arguments.length;return i===2?St(e)&&!Ee(e)?yl(e)?y(t,null,[e]):y(t,e):y(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&yl(n)&&(n=[n]),y(t,e,n))}const WM="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jM="http://www.w3.org/2000/svg",HM="http://www.w3.org/1998/Math/MathML",ms=typeof document<"u"?document:null,oy=ms&&ms.createElement("template"),YM={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ms.createElementNS(jM,t):e==="mathml"?ms.createElementNS(HM,t):n?ms.createElement(t,{is:n}):ms.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ms.createTextNode(t),createComment:t=>ms.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ms.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{oy.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const o=oy.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$s="transition",Oo="animation",Ja=Symbol("_vtc"),Ts=(t,{slots:e})=>Cr(IM,k1(t),e);Ts.displayName="Transition";const P1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},XM=Ts.props=Lt({},w1,P1),kr=(t,e=[])=>{Ee(t)?t.forEach(n=>n(...e)):t&&t(...e)},ly=t=>t?Ee(t)?t.some(e=>e.length>1):t.length>1:!1;function k1(t){const e={};for(const T in t)T in P1||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,f=KM(s),m=f&&f[0],v=f&&f[1],{onBeforeEnter:_,onEnter:p,onEnterCancelled:b,onLeave:S,onLeaveCancelled:x,onBeforeAppear:C=_,onAppear:E=p,onAppearCancelled:M=b}=e,w=(T,F,O)=>{Ys(T,F?c:o),Ys(T,F?u:a),O&&O()},A=(T,F)=>{T._isLeaving=!1,Ys(T,h),Ys(T,g),Ys(T,d),F&&F()},P=T=>(F,O)=>{const k=T?E:p,I=()=>w(F,T,O);kr(k,[F,I]),uy(()=>{Ys(F,T?l:r),ds(F,T?c:o),ly(k)||cy(F,i,m,I)})};return Lt(e,{onBeforeEnter(T){kr(_,[T]),ds(T,r),ds(T,a)},onBeforeAppear(T){kr(C,[T]),ds(T,l),ds(T,u)},onEnter:P(!1),onAppear:P(!0),onLeave(T,F){T._isLeaving=!0;const O=()=>A(T,F);ds(T,h),ds(T,d),L1(),uy(()=>{T._isLeaving&&(Ys(T,h),ds(T,g),ly(S)||cy(T,i,v,O))}),kr(S,[T,O])},onEnterCancelled(T){w(T,!1),kr(b,[T])},onAppearCancelled(T){w(T,!0),kr(M,[T])},onLeaveCancelled(T){A(T),kr(x,[T])}})}function KM(t){if(t==null)return null;if(St(t))return[Td(t.enter),Td(t.leave)];{const e=Td(t);return[e,e]}}function Td(t){return Ep(t)}function ds(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ja]||(t[Ja]=new Set)).add(e)}function Ys(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Ja];n&&(n.delete(e),n.size||(t[Ja]=void 0))}function uy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let qM=0;function cy(t,e,n,i){const s=t._endId=++qM,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=O1(t,e);if(!a)return i();const u=a+"end";let c=0;const h=()=>{t.removeEventListener(u,d),r()},d=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},o+1),t.addEventListener(u,d)}function O1(t,e){const n=window.getComputedStyle(t),i=f=>(n[f]||"").split(", "),s=i(`${$s}Delay`),r=i(`${$s}Duration`),a=hy(s,r),o=i(`${Oo}Delay`),l=i(`${Oo}Duration`),u=hy(o,l);let c=null,h=0,d=0;e===$s?a>0&&(c=$s,h=a,d=r.length):e===Oo?u>0&&(c=Oo,h=u,d=l.length):(h=Math.max(a,u),c=h>0?a>u?$s:Oo:null,d=c?c===$s?r.length:l.length:0);const g=c===$s&&/\b(transform|all)(,|$)/.test(i(`${$s}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:g}}function hy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>dy(n)+dy(t[i])))}function dy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function L1(){return document.body.offsetHeight}function ZM(t,e,n){const i=t[Ja];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xc=Symbol("_vod"),F1=Symbol("_vsh"),Is={beforeMount(t,{value:e},{transition:n}){t[xc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Lo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Lo(t,!0),i.enter(t)):i.leave(t,()=>{Lo(t,!1)}):Lo(t,e))},beforeUnmount(t,{value:e}){Lo(t,e)}};function Lo(t,e){t.style.display=e?t[xc]:"none",t[F1]=!e}const JM=Symbol(""),QM=/(^|;)\s*display\s*:/;function eT(t,e,n){const i=t.style,s=Ft(n);let r=!1;if(n&&!s){if(e)if(Ft(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&rc(i,o,"")}else for(const a in e)n[a]==null&&rc(i,a,"");for(const a in n)a==="display"&&(r=!0),rc(i,a,n[a])}else if(s){if(e!==n){const a=i[JM];a&&(n+=";"+a),i.cssText=n,r=QM.test(n)}}else e&&t.removeAttribute("style");xc in t&&(t[xc]=r?i.display:"",t[F1]&&(i.display="none"))}const fy=/\s*!important$/;function rc(t,e,n){if(Ee(n))n.forEach(i=>rc(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=tT(t,e);fy.test(n)?t.setProperty(oa(i),n.replace(fy,""),"important"):t[i]=n}}const gy=["Webkit","Moz","ms"],Id={};function tT(t,e){const n=Id[e];if(n)return n;let i=ci(e);if(i!=="filter"&&i in t)return Id[e]=i;i=Qi(i);for(let s=0;s<gy.length;s++){const r=gy[s]+i;if(r in t)return Id[e]=r}return e}const my="http://www.w3.org/1999/xlink";function vy(t,e,n,i,s,r=aE(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(my,e.slice(6,e.length)):t.setAttributeNS(my,e,n):n==null||r&&!Tp(n)?t.removeAttribute(e):t.setAttribute(e,r?"":xr(n)?String(n):n)}function nT(t,e,n,i,s,r,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,s,r),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Tp(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ma(t,e,n,i){t.addEventListener(e,n,i)}function iT(t,e,n,i){t.removeEventListener(e,n,i)}const yy=Symbol("_vei");function sT(t,e,n,i,s=null){const r=t[yy]||(t[yy]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=rT(e);if(i){const u=r[e]=lT(i,s);Ma(t,o,u,l)}else a&&(iT(t,o,a,l),r[e]=void 0)}}const _y=/(?:Once|Passive|Capture)$/;function rT(t){let e;if(_y.test(t)){e={};let i;for(;i=t.match(_y);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):oa(t.slice(2)),e]}let Rd=0;const aT=Promise.resolve(),oT=()=>Rd||(aT.then(()=>Rd=0),Rd=Date.now());function lT(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;li(uT(i,n.value),e,5,[i])};return n.value=t,n.attached=oT(),n}function uT(t,e){if(Ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const py=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,cT=(t,e,n,i,s,r,a,o,l)=>{const u=s==="svg";e==="class"?ZM(t,i,u):e==="style"?eT(t,n,i):dh(e)?Ag(e)||sT(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hT(t,e,i,u))?(nT(t,e,i,r,a,o,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&vy(t,e,i,u,a,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),vy(t,e,i,u))};function hT(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&py(e)&&Le(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return py(e)&&Ft(n)?!1:e in t}const D1=new WeakMap,N1=new WeakMap,wc=Symbol("_moveCb"),by=Symbol("_enterCb"),V1={name:"TransitionGroup",props:Lt({},XM,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Qg(),i=x1();let s,r;return Hg(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!vT(s[0].el,n.vnode.el,a))return;s.forEach(fT),s.forEach(gT);const o=s.filter(mT);L1(),o.forEach(l=>{const u=l.el,c=u.style;ds(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[wc]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",h),u[wc]=null,Ys(u,a))};u.addEventListener("transitionend",h)})}),()=>{const a=Ae(t),o=k1(a);let l=a.tag||Re;if(s=[],r)for(let u=0;u<r.length;u++){const c=r[u];c.el&&c.el instanceof Element&&(s.push(c),qa(c,vl(c,o,i,n)),D1.set(c,c.el.getBoundingClientRect()))}r=e.default?Zg(e.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&qa(c,vl(c,o,i,n))}return y(l,null,r)}}},dT=t=>delete t.mode;V1.props;const em=V1;function fT(t){const e=t.el;e[wc]&&e[wc](),e[by]&&e[by]()}function gT(t){N1.set(t,t.el.getBoundingClientRect())}function mT(t){const e=D1.get(t),n=N1.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function vT(t,e,n){const i=t.cloneNode(),s=t[Ja];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=O1(i);return r.removeChild(i),a}const xy=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ee(e)?n=>ec(e,n):e};function yT(t){t.target.composing=!0}function wy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ad=Symbol("_assign"),_T={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Ad]=xy(s);const r=i||s.props&&s.props.type==="number";Ma(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=mf(o)),t[Ad](o)}),n&&Ma(t,"change",()=>{t.value=t.value.trim()}),e||(Ma(t,"compositionstart",yT),Ma(t,"compositionend",wy),Ma(t,"change",wy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[Ad]=xy(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?mf(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},pT=["ctrl","shift","alt","meta"],bT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pT.some(n=>t[`${n}Key`]&&!e.includes(n))},Qa=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=bT[e[a]];if(o&&o(s,e))return}return t(s,...r)})},xT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sy=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=oa(s.key);if(e.some(a=>a===r||xT[a]===r))return t(s)})},wT=Lt({patchProp:cT},YM);let Cy;function ST(){return Cy||(Cy=pM(wT))}const CT=(...t)=>{const e=ST().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=MT(i);if(!s)return;const r=e._component;!Le(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,ET(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function ET(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MT(t){return Ft(t)?document.querySelector(t):t}function Rs(t,e){let n;function i(){n=Yl(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}he(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),hn(()=>{n==null||n.stop()})}const gt=typeof window<"u",tm=gt&&"IntersectionObserver"in window,TT=gt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function B1(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Er(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Er(t[i],e[i]))}function _l(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),B1(t,e.split("."),n))}function In(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return _l(t,e,n);if(Array.isArray(e))return B1(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function tr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function _e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Sc(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function nm(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const Ey=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),My=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function $1(t){return Object.keys(t)}function Pd(t,e){return e.every(n=>t.hasOwnProperty(n))}function G1(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function Ty(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)&&!(n!=null&&n.some(a=>a===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function cn(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function IT(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const U1=/^on[^a-z]/,Ch=t=>U1.test(t),RT=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Eh(t){const[e,n]=Ty(t,[U1]),i=cn(e,RT),[s,r]=Ty(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function Vt(t){return t==null?[]:Array.isArray(t)?t:[t]}function AT(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),Pe(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Pn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function Iy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function Ry(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function PT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function ln(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(Sc(r)&&Sc(a)){i[s]=ln(r,a,n);continue}if(Array.isArray(r)&&Array.isArray(a)&&n){i[s]=n(r,a);continue}i[s]=a}return i}function z1(t){return t.map(e=>e.type===Re?z1(e.children):e).flat()}function Yr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Yr.cache.has(t))return Yr.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Yr.cache.set(t,e),e}Yr.cache=new Map;function ka(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>ka(t,n)).flat(1);if(e.suspense)return ka(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>ka(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return ka(t,e.component.subTree).flat(1)}return[]}function im(t){const e=jt({}),n=R(t);return $t(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),yh(e)}function Cc(t,e){return t.includes(e)}function W1(t){return t[2].toLowerCase()+t.slice(3)}const Yt=()=>[Function,Array];function Ay(t,e){return e="on"+Qi(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function j1(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function pl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function H1(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function Ec(t,e){var i,s,r,a;const n=pl(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=H1(n,e);o?o.focus():Ec(t,e==="next"?"first":"last")}}function Ou(t){return t==null||typeof t=="string"&&t.trim()===""}function Mc(t,e){if(!(gt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Y1(t){return t.some(e=>yl(e)?e.type===an?!1:e.type!==Re||Y1(e.children):!0)?t:null}function kT(t,e){if(!gt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function Py(t,e){const n=ve();return $t(()=>{n.value=t()},{flush:"sync",...e}),_o(n)}function OT(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function Tc(){const t=ve(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>nm(t.value)}),e}const X1=["top","bottom"],LT=["start","end","left","right"];function Af(t,e){let[n,i]=t.split(" ");return i||(i=Cc(X1,n)?"start":Cc(LT,n)?"top":"center"),{side:ky(n,e),align:ky(i,e)}}function ky(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function kd(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Od(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Oy(t){return{side:t.align,align:t.side}}function Ly(t){return Cc(X1,t.side)?"y":"x"}class Xr{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Fy(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function K1(t){return Array.isArray(t)?new Xr({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function sm(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Xr(e);const u=n.transformOrigin,c=e.x-o-(1-r)*parseFloat(u),h=e.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),d=r?e.width/r:t.offsetWidth+1,g=a?e.height/a:t.offsetHeight+1;return new Xr({x:c,y:h,width:d,height:g})}else return new Xr(e)}function Br(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const ac=new WeakMap;function FT(t,e){Object.keys(e).forEach(n=>{if(Ch(n)){const i=W1(n),s=ac.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),ac.has(t)||ac.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function DT(t,e){Object.keys(e).forEach(n=>{if(Ch(n)){const i=W1(n),s=ac.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const _a=2.4,Dy=.2126729,Ny=.7151522,Vy=.072175,NT=.55,VT=.58,BT=.57,$T=.62,Lu=.03,By=1.45,GT=5e-4,UT=1.25,zT=1.25,$y=.078,Gy=12.82051282051282,Fu=.06,Uy=.001;function zy(t,e){const n=(t.r/255)**_a,i=(t.g/255)**_a,s=(t.b/255)**_a,r=(e.r/255)**_a,a=(e.g/255)**_a,o=(e.b/255)**_a;let l=n*Dy+i*Ny+s*Vy,u=r*Dy+a*Ny+o*Vy;if(l<=Lu&&(l+=(Lu-l)**By),u<=Lu&&(u+=(Lu-u)**By),Math.abs(u-l)<GT)return 0;let c;if(u>l){const h=(u**NT-l**VT)*UT;c=h<Uy?0:h<$y?h-h*Gy*Fu:h-Fu}else{const h=(u**$T-l**BT)*zT;c=h>-Uy?0:h>-$y?h-h*Gy*Fu:h+Fu}return c*100}function WT(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Ic=.20689655172413793,jT=t=>t>Ic**3?Math.cbrt(t):t/(3*Ic**2)+4/29,HT=t=>t>Ic?t**3:3*Ic**2*(t-4/29);function q1(t){const e=jT,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Z1(t){const e=HT,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const YT=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],XT=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,KT=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],qT=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function J1(t){const e=Array(3),n=XT,i=YT;for(let s=0;s<3;++s)e[s]=Math.round(Pn(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function rm(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=qT,a=KT;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function Pf(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function ZT(t){return Pf(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const Wy=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,JT={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>jy({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>jy({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>bl({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>bl({h:t,s:e,v:n,a:i})};function zi(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&Wy.test(t)){const{groups:e}=t.match(Wy),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return JT[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),e2(e)}else if(typeof t=="object"){if(Pd(t,["r","g","b"]))return t;if(Pd(t,["h","s","l"]))return bl(Q1(t));if(Pd(t,["h","s","v"]))return bl(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function bl(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function jy(t){return bl(Q1(t))}function Q1(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Du(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function QT(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Du(e),Du(n),Du(i),s!==void 0?Du(Math.round(s*255)):""].join("")}`}function e2(t){t=t2(t);let[e,n,i,s]=PT(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function t2(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Iy(Iy(t,6),8,"F")),t}function n2(t,e){const n=q1(rm(t));return n[0]=n[0]+e*10,J1(Z1(n))}function i2(t,e){const n=q1(rm(t));return n[0]=n[0]-e*10,J1(Z1(n))}function s2(t){const e=zi(t);return rm(e)[1]}function eb(t){const e=Math.abs(zy(zi(0),zi(t)));return Math.abs(zy(zi(16777215),zi(t)))>Math.min(e,50)?"#fff":"#000"}function H(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Me=H({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Pt(t,e){const n=Qg();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function es(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Pt(t).type;return Yr((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let tb=0,oc=new WeakMap;function di(){const t=Pt("getUid");if(oc.has(t))return oc.get(t);{const e=tb++;return oc.set(t,e),e}}di.reset=()=>{tb=0,oc=new WeakMap};function r2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const eo=Symbol.for("vuetify:defaults");function a2(t){return J(t)}function am(){const t=He(eo);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Ei(t,e){const n=am(),i=J(t),s=R(()=>{if(Pe(e==null?void 0:e.disabled))return n.value;const a=Pe(e==null?void 0:e.scoped),o=Pe(e==null?void 0:e.reset),l=Pe(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let u=ln(i.value,{prev:n.value});if(a)return u;if(o||l){const c=Number(o||1/0);for(let h=0;h<=c&&!(!u||!("prev"in u));h++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=ln(ln(u,{prev:u}),u[l])),u}return u.prev?ln(u.prev,u):u});return Ct(eo,s),s}function o2(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Yr(e)])<"u"}function l2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:am();const i=Pt("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=R(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,u){var h,d,g,f,m,v,_;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(h=s.value)==null?void 0:h[u],c].filter(p=>p!=null):typeof u=="string"&&!o2(i.vnode,u)?((d=s.value)==null?void 0:d[u])!==void 0?(g=s.value)==null?void 0:g[u]:((m=(f=n.value)==null?void 0:f.global)==null?void 0:m[u])!==void 0?(_=(v=n.value)==null?void 0:v.global)==null?void 0:_[u]:c:c}}),a=ve();$t(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=r2(eo,i);Ct(eo,R(()=>a.value?ln((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function po(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=H(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return G1(i,e)},t.props._as=String,t.setup=function(i,s){const r=am();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=l2(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function ae(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?po:bh)(e)}function u2(t,e){return e.props=t,e}function Zl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ae()({name:n??Qi(ci(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Me()},setup(i,s){let{slots:r}=s;return()=>{var a;return Cr(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function nb(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const xl="cubic-bezier(0.4, 0, 0.2, 1)",c2="cubic-bezier(0.0, 0, 0.2, 1)",h2="cubic-bezier(0.4, 0, 1, 1)";function Hy(t,e,n){return Object.keys(t).filter(i=>Ch(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function ib(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?d2(t):om(t))return t;t=t.parentElement}return document.scrollingElement}function Rc(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(om(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function om(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function d2(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function f2(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function ge(t){const e=Pt("useRender");e.render=t}function ze(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h=>h,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:h=>h;const r=Pt("useProxiedModel"),a=J(t[e]!==void 0?t[e]:n),o=Yr(e),u=R(o!==e?()=>{var h,d,g,f;return t[e],!!(((h=r.vnode.props)!=null&&h.hasOwnProperty(e)||(d=r.vnode.props)!=null&&d.hasOwnProperty(o))&&((g=r.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${e}`)||(f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var h,d;return t[e],!!((h=r.vnode.props)!=null&&h.hasOwnProperty(e)&&((d=r.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${e}`)))});Rs(()=>!u.value,()=>{he(()=>t[e],h=>{a.value=h})});const c=R({get(){const h=t[e];return i(u.value?h:a.value)},set(h){const d=s(h),g=Ae(u.value?t[e]:a.value);g===d||i(g)===h||(a.value=d,r==null||r.emit(`update:${e}`,d))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?t[e]:a.value}),c}const sb={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Yy="$vuetify.",Xy=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),rb=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(Yy))return Xy(i,r);const o=i.replace(Yy,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let c=_l(l,o,null);return c||(`${i}${t.value}`,c=_l(u,o,null)),c||(c=i),typeof c!="string"&&(c=i),Xy(c,r)};function ab(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Ld(t,e,n){const i=ze(t,e,t[e]??n.value);return i.value=t[e]??n.value,he(n,s=>{t[e]==null&&(i.value=n.value)}),i}function ob(t){return e=>{const n=Ld(e,"locale",t.current),i=Ld(e,"fallback",t.fallback),s=Ld(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:rb(n,i,s),n:ab(n,i),provide:ob({current:n,fallback:i,messages:s})}}}function g2(t){const e=ve((t==null?void 0:t.locale)??"en"),n=ve((t==null?void 0:t.fallback)??"en"),i=J({en:sb,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:rb(e,n,i),n:ab(e,n),provide:ob({current:e,fallback:n,messages:i})}}const to=Symbol.for("vuetify:locale");function m2(t){return t.name!=null}function v2(t){const e=t!=null&&t.adapter&&m2(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:g2(t),n=p2(e,t);return{...e,...n}}function fi(){const t=He(to);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function y2(t){const e=He(to);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=b2(n,e.rtl,t),s={...n,...i};return Ct(to,s),s}function _2(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function p2(t,e){const n=J((e==null?void 0:e.rtl)??_2()),i=R(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:R(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function b2(t,e,n){const i=R(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:R(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function gi(){const t=He(to);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Mh={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function x2(t,e,n){const i=[];let s=[];const r=lb(t),a=ub(t),o=n??Mh[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,u=(a.getDay()-o+7)%7;for(let c=0;c<l;c++){const h=new Date(r);h.setDate(h.getDate()-(l-c)),s.push(h)}for(let c=1;c<=a.getDate();c++){const h=new Date(t.getFullYear(),t.getMonth(),c);s.push(h),s.length===7&&(i.push(s),s=[])}for(let c=1;c<7-u;c++){const h=new Date(a);h.setDate(h.getDate()+c),s.push(h)}return s.length>0&&i.push(s),i}function w2(t,e,n){const i=n??Mh[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function S2(t,e){const n=new Date(t),i=((Mh[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function lb(t){return new Date(t.getFullYear(),t.getMonth(),1)}function ub(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function C2(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const E2=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function cb(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(E2.test(t))return C2(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Ky=new Date(2e3,0,2);function M2(t,e){const n=e??Mh[t.slice(-2).toUpperCase()]??0;return tr(7).map(i=>{const s=new Date(Ky);return s.setDate(Ky.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function T2(t,e,n,i){const s=cb(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function I2(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=Ry(String(n.getMonth()+1),2,"0"),r=Ry(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function R2(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function A2(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function P2(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function k2(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function O2(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function L2(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function F2(t){return t.getFullYear()}function D2(t){return t.getMonth()}function N2(t){return t.getDate()}function V2(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function B2(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function $2(t){return t.getHours()}function G2(t){return t.getMinutes()}function U2(t){return new Date(t.getFullYear(),0,1)}function z2(t){return new Date(t.getFullYear(),11,31)}function W2(t,e){return Ac(t,e[0])&&Y2(t,e[1])}function j2(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Ac(t,e){return t.getTime()>e.getTime()}function H2(t,e){return Ac(kf(t),kf(e))}function Y2(t,e){return t.getTime()<e.getTime()}function qy(t,e){return t.getTime()===e.getTime()}function X2(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function K2(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function q2(t,e){return t.getFullYear()===e.getFullYear()}function Z2(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function J2(t,e){const n=new Date(t);return n.setHours(e),n}function Q2(t,e){const n=new Date(t);return n.setMinutes(e),n}function eI(t,e){const n=new Date(t);return n.setMonth(e),n}function tI(t,e){const n=new Date(t);return n.setDate(e),n}function nI(t,e){const n=new Date(t);return n.setFullYear(e),n}function kf(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function iI(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class sI{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return cb(e)}toJsDate(e){return e}toISO(e){return I2(this,e)}parseISO(e){return R2(e)}addMinutes(e,n){return A2(e,n)}addHours(e,n){return P2(e,n)}addDays(e,n){return k2(e,n)}addWeeks(e,n){return O2(e,n)}addMonths(e,n){return L2(e,n)}getWeekArray(e,n){return x2(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return w2(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return S2(e,this.locale)}startOfMonth(e){return lb(e)}endOfMonth(e){return ub(e)}format(e,n){return T2(e,n,this.locale,this.formats)}isEqual(e,n){return qy(e,n)}isValid(e){return j2(e)}isWithinRange(e,n){return W2(e,n)}isAfter(e,n){return Ac(e,n)}isAfterDay(e,n){return H2(e,n)}isBefore(e,n){return!Ac(e,n)&&!qy(e,n)}isSameDay(e,n){return X2(e,n)}isSameMonth(e,n){return K2(e,n)}isSameYear(e,n){return q2(e,n)}setMinutes(e,n){return Q2(e,n)}setHours(e,n){return J2(e,n)}setMonth(e,n){return eI(e,n)}setDate(e,n){return tI(e,n)}setYear(e,n){return nI(e,n)}getDiff(e,n,i){return Z2(e,n,i)}getWeekdays(e){return M2(this.locale,e?Number(e):void 0)}getYear(e){return F2(e)}getMonth(e){return D2(e)}getDate(e){return N2(e)}getNextMonth(e){return V2(e)}getPreviousMonth(e){return B2(e)}getHours(e){return $2(e)}getMinutes(e){return G2(e)}startOfDay(e){return kf(e)}endOfDay(e){return iI(e)}startOfYear(e){return U2(e)}endOfYear(e){return z2(e)}}const hb=Symbol.for("vuetify:date-options"),Zy=Symbol.for("vuetify:date-adapter");function rI(t,e){const n=ln({adapter:sI,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:db(n,e)}}function db(t,e){const n=jt(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return he(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Jl(){const t=He(hb);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=fi();return db(t,e)}function aI(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Th=["sm","md","lg","xl","xxl"],Of=Symbol.for("vuetify:display"),Jy={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},oI=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jy;return ln(Jy,t)};function Qy(t){return gt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function e0(t){return gt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function t0(t){const e=gt&&!t?window.navigator.userAgent:"ssr";function n(f){return!!e.match(f)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),h=n(/win/i),d=n(/mac/i),g=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:u,opera:c,win:h,mac:d,linux:g,touch:TT,ssr:e==="ssr"}}function lI(t,e){const{thresholds:n,mobileBreakpoint:i}=oI(t),s=ve(e0(e)),r=ve(t0(e)),a=jt({}),o=ve(Qy(e));function l(){s.value=e0(),o.value=Qy()}function u(){l(),r.value=t0()}return $t(()=>{const c=o.value<n.sm,h=o.value<n.md&&!c,d=o.value<n.lg&&!(h||c),g=o.value<n.xl&&!(d||h||c),f=o.value<n.xxl&&!(g||d||h||c),m=o.value>=n.xxl,v=c?"xs":h?"sm":d?"md":g?"lg":f?"xl":"xxl",_=typeof i=="number"?i:n[i],p=o.value<_;a.xs=c,a.sm=h,a.md=d,a.lg=g,a.xl=f,a.xxl=m,a.smAndUp=!c,a.mdAndUp=!(c||h),a.lgAndUp=!(c||h||d),a.xlAndUp=!(c||h||d||g),a.smAndDown=!(d||g||f||m),a.mdAndDown=!(g||f||m),a.lgAndDown=!(f||m),a.xlAndDown=!m,a.name=v,a.height=s.value,a.width=o.value,a.mobile=p,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),gt&&window.addEventListener("resize",l,{passive:!0}),{...yh(a),update:u,ssr:!!e}}const Ih=H({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Ls(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();const n=He(Of);if(!n)throw new Error("Could not find Vuetify display injection");const i=R(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=R(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const fb=Symbol.for("vuetify:goto");function gb(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function uI(t){return lm(t)??(document.scrollingElement||document.body)}function lm(t){return typeof t=="string"?document.querySelector(t):nm(t)}function Fd(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=lm(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function cI(t,e){return{rtl:e.isRtl,options:ln(gb(),t)}}async function n0(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=ln((i==null?void 0:i.options)??gb(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:lm(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:uI(r.container),u=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!u)throw new TypeError(`Easing function "${r.easing}" not found.`);let c;if(typeof o=="number")c=Fd(o,n,a);else if(c=Fd(o,n,a)-Fd(l,n,a),r.layout){const f=window.getComputedStyle(o).getPropertyValue("--v-layout-top");f&&(c-=parseInt(f,10))}c+=r.offset,c=dI(l,c,!!a,!!n);const h=l[s]??0;if(c===h)return Promise.resolve(c);const d=performance.now();return new Promise(g=>requestAnimationFrame(function f(m){const _=(m-d)/r.duration,p=Math.floor(h+(c-h)*u(Pn(_,0,1)));if(l[s]=p,_>=1&&Math.abs(p-l[s])<10)return g(c);if(_>2)return g(l[s]);requestAnimationFrame(f)}))}function hI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=He(fb),{isRtl:n}=gi();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:R(()=>e.rtl.value||n.value)};async function s(r,a){return n0(r,ln(t,a),!1,i)}return s.horizontal=async(r,a)=>n0(r,ln(t,a),!0,i),s}function dI(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return i?n?(l=-(s-a),u=0):(l=0,u=s-a):(l=0,u=r+-o),Math.max(Math.min(e,u),l)}const fI={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},mb={component:t=>Cr(yb,{...t,class:"mdi"})},Ve=[String,Function,Object,Array],Lf=Symbol.for("vuetify:icons"),Rh=H({icon:{type:Ve},tag:{type:String,required:!0}},"icon"),i0=ae()({name:"VComponentIcon",props:Rh(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return y(t.tag,null,{default:()=>{var s;return[t.icon?y(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),vb=po({name:"VSvgIcon",inheritAttrs:!1,props:Rh(),setup(t,e){let{attrs:n}=e;return()=>y(t.tag,ce(n,{style:null}),{default:()=>[y("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?y("path",{d:i[0],"fill-opacity":i[1]},null):y("path",{d:i},null)):y("path",{d:t.icon},null)])]})}});po({name:"VLigatureIcon",props:Rh(),setup(t){return()=>y(t.tag,null,{default:()=>[t.icon]})}});const yb=po({name:"VClassIcon",props:Rh(),setup(t){return()=>y(t.tag,{class:t.icon},null)}});function gI(){return{svg:{component:vb},class:{component:yb}}}function mI(t){const e=gI(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=mb),ln({defaultSet:n,sets:e,aliases:{...fI,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const vI=t=>{const e=He(Lf);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:R(()=>{var l;const i=Pe(t);if(!i)return{component:i0};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:vb,icon:s};if(typeof s!="string")return{component:i0,icon:s};const r=Object.keys(e.sets).find(u=>typeof s=="string"&&s.startsWith(`${u}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},Pc=Symbol.for("vuetify:theme"),pt=H({theme:String},"theme");function s0(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function yI(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s0();const e=s0();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=ln(o,a)}return ln(e,{...t,themes:n})}function _I(t){const e=yI(t),n=J(e.defaultTheme),i=J(e.themes),s=R(()=>{const c={};for(const[h,d]of Object.entries(i.value)){const g=c[h]={...d,colors:{...d.colors}};if(e.variations)for(const f of e.variations.colors){const m=g.colors[f];if(m)for(const v of["lighten","darken"]){const _=v==="lighten"?n2:i2;for(const p of tr(e.variations[v],1))g.colors[`${f}-${v}-${p}`]=QT(_(zi(m),p))}}for(const f of Object.keys(g.colors)){if(/^on-[a-z]/.test(f)||g.colors[`on-${f}`])continue;const m=`on-${f}`,v=zi(g.colors[f]);g.colors[m]=eb(v)}}return c}),r=R(()=>s.value[n.value]),a=R(()=>{var f;const c=[];(f=r.value)!=null&&f.dark&&Or(c,":root",["color-scheme: dark"]),Or(c,":root",r0(r.value));for(const[m,v]of Object.entries(s.value))Or(c,`.v-theme--${m}`,[`color-scheme: ${v.dark?"dark":"normal"}`,...r0(v)]);const h=[],d=[],g=new Set(Object.values(s.value).flatMap(m=>Object.keys(m.colors)));for(const m of g)/^on-[a-z]/.test(m)?Or(d,`.${m}`,[`color: rgb(var(--v-theme-${m})) !important`]):(Or(h,`.bg-${m}`,[`--v-theme-overlay-multiplier: var(--v-theme-${m}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${m})) !important`,`color: rgb(var(--v-theme-on-${m})) !important`]),Or(d,`.text-${m}`,[`color: rgb(var(--v-theme-${m})) !important`]),Or(d,`.border-${m}`,[`--v-border-color: var(--v-theme-${m})`]));return c.push(...h,...d),c.map((m,v)=>v===0?m:`    ${m}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(c){if(e.isDisabled)return;const h=c._context.provides.usehead;if(h)if(h.push){const d=h.push(o);gt&&he(a,()=>{d.patch(o)})}else gt?(h.addHeadObjs(R(o)),$t(()=>h.updateDOM())):h.addHeadObjs(o());else{let g=function(){if(typeof document<"u"&&!d){const f=document.createElement("style");f.type="text/css",f.id="vuetify-theme-stylesheet",e.cspNonce&&f.setAttribute("nonce",e.cspNonce),d=f,document.head.appendChild(d)}d&&(d.innerHTML=a.value)},d=gt?document.getElementById("vuetify-theme-stylesheet"):null;gt?he(a,g,{immediate:!0}):g()}}const u=R(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:u,styles:a,global:{name:n,current:r}}}function Et(t){Pt("provideTheme");const e=He(Pc,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=R(()=>t.theme??e.name.value),i=R(()=>e.themes.value[n.value]),s=R(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Ct(Pc,r),r}function Or(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function r0(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=zi(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${s2(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?zi(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function gr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Tc(),i=J();if(gt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Fn(()=>{s.disconnect()}),he(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:_o(i)}}const wl=Symbol.for("vuetify:layout"),_b=Symbol.for("vuetify:layout-item"),a0=1e3,pI=H({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),pb=H({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function bb(){const t=He(wl);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:ct(),getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function xb(t){const e=He(wl);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${di()}`,i=Pt("useLayoutItem");Ct(_b,{id:n});const s=ve(!1);p1(()=>s.value=!0),_1(()=>s.value=!1);const r=ct(),{layoutItemStyles:a,layoutItemScrimStyles:o}=e.register(i,{...t,active:R(()=>s.value?!1:t.active.value),id:n});return Fn(()=>e.unregister(n)),{layoutItemStyles:a,layoutRect:e.layoutRect,layoutItemScrimStyles:o,layoutIsReady:r}}const bI=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),u=i.get(a);if(!o||!l||!u)continue;const c={...s,[o.value]:parseInt(s[o.value],10)+(u.value?parseInt(l.value,10):0)};r.push({id:a,layer:c}),s=c}return r};function xI(t){const e=He(wl,null),n=R(()=>e?e.rootZIndex.value-100:a0),i=J([]),s=jt(new Map),r=jt(new Map),a=jt(new Map),o=jt(new Map),l=jt(new Map),{resizeRef:u,contentRect:c}=gr(),h=Py(()=>{const x=[...new Set([...a.values()].map(E=>E.value))].sort((E,M)=>E-M),C=[];for(const E of x){const M=i.value.filter(w=>{var A;return((A=a.get(w))==null?void 0:A.value)===E});C.push(...M)}return bI(C,s,r,o)}),d=R(()=>!Array.from(l.values()).some(x=>x.value)),g=R(()=>h.value[h.value.length-1].layer),f=R(()=>({"--v-layout-left":_e(g.value.left),"--v-layout-right":_e(g.value.right),"--v-layout-top":_e(g.value.top),"--v-layout-bottom":_e(g.value.bottom),...d.value?void 0:{transition:"none"}})),m=Py(()=>h.value.slice(1).map((x,C)=>{let{id:E}=x;const{layer:M}=h.value[C],w=r.get(E),A=s.get(E);return{id:E,...M,size:Number(w.value),position:A.value}})),v=x=>m.value.find(C=>C.id===x),_=Pt("createLayout"),p=ct();Ct(wl,{register:(x,C)=>{let{id:E,order:M,position:w,layoutSize:A,elementSize:P,active:T,disableTransitions:F,absolute:O}=C;a.set(E,M),s.set(E,w),r.set(E,A),o.set(E,T),F&&l.set(E,F);const I=ka(_b,_==null?void 0:_.vnode).indexOf(x);I>-1?i.value.splice(I,0,E):i.value.push(E);const j=R(()=>m.value.findIndex(U=>U.id===E)),N=R(()=>n.value+h.value.length*2-j.value*2),$=R(()=>{const U=w.value==="left"||w.value==="right",K=w.value==="right",oe=w.value==="bottom",Y=P.value??A.value,G=Y===0?"%":"px",Z={[w.value]:0,zIndex:N.value,transform:`translate${U?"X":"Y"}(${(T.value?0:-(Y===0?100:Y))*(K||oe?-1:1)}${G})`,position:O.value||n.value!==a0?"absolute":"fixed",...d.value?void 0:{transition:"none"}};if(j.value<0)throw new Error(`Layout item "${E}" is missing`);const se=m.value[j.value];if(!se)throw new Error(`[Vuetify] Could not find layout item "${E}"`);return{...Z,height:U?`calc(100% - ${se.top}px - ${se.bottom}px)`:P.value?`${P.value}px`:void 0,left:K?void 0:`${se.left}px`,right:K?`${se.right}px`:void 0,top:w.value!=="bottom"?`${se.top}px`:void 0,bottom:w.value!=="top"?`${se.bottom}px`:void 0,width:U?P.value?`${P.value}px`:void 0:`calc(100% - ${se.left}px - ${se.right}px)`}}),V=R(()=>({zIndex:N.value-1}));return{layoutItemStyles:$,layoutItemScrimStyles:V,zIndex:N}},unregister:x=>{a.delete(x),s.delete(x),r.delete(x),o.delete(x),l.delete(x),i.value=i.value.filter(C=>C!==x)},mainRect:g,mainStyles:f,getLayoutItem:v,items:m,layoutRect:c,rootZIndex:n,layoutIsReady:p});const b=R(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),S=R(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:b,layoutStyles:S,getLayoutItem:v,items:m,layoutRect:c,layoutIsReady:p,layoutRef:u}}function wb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=ln(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=a2(i.defaults),l=lI(i.display,i.ssr),u=_I(i.theme),c=mI(i.icons),h=v2(i.locale),d=rI(i.date,h),g=cI(i.goTo,h);return{install:m=>{for(const v in a)m.directive(v,a[v]);for(const v in r)m.component(v,r[v]);for(const v in s)m.component(v,po({...s[v],name:v,aliasName:s[v].name}));if(u.install(m),m.provide(eo,o),m.provide(Of,l),m.provide(Pc,u),m.provide(Lf,c),m.provide(to,h),m.provide(hb,d.options),m.provide(Zy,d.instance),m.provide(fb,g),gt&&i.ssr)if(m.$nuxt)m.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:v}=m;m.mount=function(){const _=v(...arguments);return ct(()=>l.update()),m.mount=v,_}}di.reset(),m.mixin({computed:{$vuetify(){return jt({defaults:pa.call(this,eo),display:pa.call(this,Of),theme:pa.call(this,Pc),icons:pa.call(this,Lf),locale:pa.call(this,to),date:pa.call(this,Zy)})}}})},defaults:o,display:l,theme:u,icons:c,locale:h,date:d,goTo:g}}const wI="3.6.12";wb.version=wI;function pa(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}var zt=function(t){return typeof t>"u"||t===null};const Dd=function(t){switch(t){case 4:return"color: #1976d2";case 3:return"color: #3D873FFF";case 2:return"color: #ff9800";case 1:return"color: #f44336"}return"background: #dddddd; color: #000"},Nu=function(t){if(typeof t>"u"||t===null)return"";{let e=t.replace(/^Error\s+/,"");return e=e.split(`
`)[1],e=e.replace(/^\s+at Object./,""),e=e.replace(/ \(.+\)$/,""),e=e.replace(/\@.+/,""),e=e.replace("at ","").trim(),e=e.replace("VueComponent.","").trim(),e}},Vu=function(t,e,n,i,...s){let r;switch(e.length>1?r=`${t}::${e}()`:r=`${t}::`,i){case 1:console.error(`%c ${r} ${n}`,Dd(i)),console.trace();break;case 2:console.warn(`%c ${r} ${n}`,Dd(i));break;default:console.log(`%c ${r} ${n}`,Dd(i));break}s.length>0&&s.forEach(a=>console.log(a))};class SI{constructor(e="",n=4){Cu(this,"_moduleName","");Cu(this,"_logLevel",4);this._moduleName=e,this._logLevel=n}l(e,...n){if(this._logLevel>=4){const i=Nu(new Error().stack);Vu(this._moduleName,i,e,4,...n)}}t(e,...n){if(this._logLevel>=3){const i=Nu(new Error().stack);Vu(this._moduleName,i,e,3,...n)}}w(e,...n){if(this._logLevel>=2){const i=Nu(new Error().stack);Vu(this._moduleName,i,e,2,...n)}}e(e,...n){if(this._logLevel>=1){const i=Nu(new Error().stack);Vu(this._moduleName,i,e,1,...n)}}}const Sb=!1,CI="/",Nd=new URL(location.toString()),EI=Nd.href.endsWith("/")?Nd.href.slice(0,-1):Nd.href,MI="http://localhost:9393",cr=EI,um="/goapi/v1",ts=(t,e,n)=>new SI(t,n),Cb=1e4;var TI=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Eb;const Ah=t=>Eb=t,Mb=Symbol();function Ff(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var tl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(tl||(tl={}));function II(){const t=Yl(!0),e=t.run(()=>J({}));let n=[],i=[];const s=vh({install(r){Ah(s),s._a=r,r.provide(Mb,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!TI?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Tb=()=>{};function o0(t,e,n,i=Tb){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&Pp()&&hn(s),s}function ba(t,...e){t.slice().forEach(n=>{n(...e)})}const RI=t=>t();function Df(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Ff(s)&&Ff(i)&&t.hasOwnProperty(n)&&!vt(i)&&!lr(i)?t[n]=Df(s,i):t[n]=i}return t}const AI=Symbol();function PI(t){return!Ff(t)||!t.hasOwnProperty(AI)}const{assign:Xs}=Object;function kI(t){return!!(vt(t)&&t.effect)}function OI(t,e,n,i){const{state:s,actions:r,getters:a}=e,o=n.state.value[t];let l;function u(){o||(n.state.value[t]=s?s():{});const c=yh(n.state.value[t]);return Xs(c,r,Object.keys(a||{}).reduce((h,d)=>(h[d]=vh(R(()=>{Ah(n);const g=n._s.get(t);return a[d].call(g,g)})),h),{}))}return l=Ib(t,u,e,n,i,!0),l}function Ib(t,e,n={},i,s,r){let a;const o=Xs({actions:{}},n),l={deep:!0};let u,c,h=[],d=[],g;const f=i.state.value[t];!r&&!f&&(i.state.value[t]={}),J({});let m;function v(M){let w;u=c=!1,typeof M=="function"?(M(i.state.value[t]),w={type:tl.patchFunction,storeId:t,events:g}):(Df(i.state.value[t],M),w={type:tl.patchObject,payload:M,storeId:t,events:g});const A=m=Symbol();ct().then(()=>{m===A&&(u=!0)}),c=!0,ba(h,w,i.state.value[t])}const _=r?function(){const{state:w}=n,A=w?w():{};this.$patch(P=>{Xs(P,A)})}:Tb;function p(){a.stop(),h=[],d=[],i._s.delete(t)}function b(M,w){return function(){Ah(i);const A=Array.from(arguments),P=[],T=[];function F(I){P.push(I)}function O(I){T.push(I)}ba(d,{args:A,name:M,store:x,after:F,onError:O});let k;try{k=w.apply(this&&this.$id===t?this:x,A)}catch(I){throw ba(T,I),I}return k instanceof Promise?k.then(I=>(ba(P,I),I)).catch(I=>(ba(T,I),Promise.reject(I))):(ba(P,k),k)}}const S={_p:i,$id:t,$onAction:o0.bind(null,d),$patch:v,$reset:_,$subscribe(M,w={}){const A=o0(h,M,w.detached,()=>P()),P=a.run(()=>he(()=>i.state.value[t],T=>{(w.flush==="sync"?c:u)&&M({storeId:t,type:tl.direct,events:g},T)},Xs({},l,w)));return A},$dispose:p},x=jt(S);i._s.set(t,x);const E=(i._a&&i._a.runWithContext||RI)(()=>i._e.run(()=>(a=Yl()).run(e)));for(const M in E){const w=E[M];if(vt(w)&&!kI(w)||lr(w))r||(f&&PI(w)&&(vt(w)?w.value=f[M]:Df(w,f[M])),i.state.value[t][M]=w);else if(typeof w=="function"){const A=b(M,w);E[M]=A,o.actions[M]=w}}return Xs(x,E),Xs(Ae(x),E),Object.defineProperty(x,"$state",{get:()=>i.state.value[t],set:M=>{v(w=>{Xs(w,M)})}}),i._p.forEach(M=>{Xs(x,a.run(()=>M({store:x,app:i._a,pinia:i,options:o})))}),f&&r&&n.hydrate&&n.hydrate(x.$state,f),u=!0,c=!0,x}function Rb(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function a(o,l){const u=fM();return o=o||(u?He(Mb,null):null),o&&Ah(o),o=Eb,o._s.has(i)||(r?Ib(i,e,s,o):OI(i,s,o)),o._s.get(i)}return a.$id=i,a}function cm(t){{t=Ae(t);const e={};for(const n in t){const i=t[n];(vt(i)||lr(i))&&(e[n]=le(t,n))}return e}}const kc=ts("appInfo",4,2);async function LI(t){kc.t(`about to fetch app info from ${t} ... `);try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status} when fetching ${t}`);return await e.json()}catch(e){throw kc.e("Could not fetch app information from "+t+":",e),new Error(`Failed to fetch app information: ${e.message}`)}}async function FI(t){kc.t(`about to fetch jwt status from ${t} ... `);try{const e=await fetch(t,{credentials:"include"});if(!e.ok)throw new Error(`HTTP error! status: ${e.status} when fetch ${t}`);return await e.json()}catch(e){throw kc.w("Could not fetch app information from "+t+":",e),new Error(`Failed to fetch status information: ${e.message}`)}}function Ab(t,e){return function(){return t.apply(e,arguments)}}const{toString:DI}=Object.prototype,{getPrototypeOf:hm}=Object,Ph=(t=>e=>{const n=DI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=t=>(t=t.toLowerCase(),e=>Ph(e)===t),kh=t=>e=>typeof e===t,{isArray:bo}=Array,Sl=kh("undefined");function NI(t){return t!==null&&!Sl(t)&&t.constructor!==null&&!Sl(t.constructor)&&ui(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pb=Ii("ArrayBuffer");function VI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Pb(t.buffer),e}const BI=kh("string"),ui=kh("function"),kb=kh("number"),Oh=t=>t!==null&&typeof t=="object",$I=t=>t===!0||t===!1,lc=t=>{if(Ph(t)!=="object")return!1;const e=hm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GI=Ii("Date"),UI=Ii("File"),zI=Ii("Blob"),WI=Ii("FileList"),jI=t=>Oh(t)&&ui(t.pipe),HI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ui(t.append)&&((e=Ph(t))==="formdata"||e==="object"&&ui(t.toString)&&t.toString()==="[object FormData]"))},YI=Ii("URLSearchParams"),[XI,KI,qI,ZI]=["ReadableStream","Request","Response","Headers"].map(Ii),JI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ql(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),bo(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let o;for(i=0;i<a;i++)o=r[i],e.call(null,t[o],o,t)}}function Ob(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Lb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fb=t=>!Sl(t)&&t!==Lb;function Nf(){const{caseless:t}=Fb(this)&&this||{},e={},n=(i,s)=>{const r=t&&Ob(e,s)||s;lc(e[r])&&lc(i)?e[r]=Nf(e[r],i):lc(i)?e[r]=Nf({},i):bo(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ql(arguments[i],n);return e}const QI=(t,e,n,{allOwnKeys:i}={})=>(Ql(e,(s,r)=>{n&&ui(s)?t[r]=Ab(s,n):t[r]=s},{allOwnKeys:i}),t),eR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),tR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},nR=(t,e,n,i)=>{let s,r,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&hm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},sR=t=>{if(!t)return null;if(bo(t))return t;let e=t.length;if(!kb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&hm(Uint8Array)),aR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},oR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},lR=Ii("HTMLFormElement"),uR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),l0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),cR=Ii("RegExp"),Db=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ql(n,(s,r)=>{let a;(a=e(s,r,t))!==!1&&(i[r]=a||s)}),Object.defineProperties(t,i)},hR=t=>{Db(t,(e,n)=>{if(ui(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ui(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dR=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return bo(t)?i(t):i(String(t).split(e)),n},fR=()=>{},gR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Vd="abcdefghijklmnopqrstuvwxyz",u0="0123456789",Nb={DIGIT:u0,ALPHA:Vd,ALPHA_DIGIT:Vd+Vd.toUpperCase()+u0},mR=(t=16,e=Nb.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function vR(t){return!!(t&&ui(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const yR=t=>{const e=new Array(10),n=(i,s)=>{if(Oh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=bo(i)?[]:{};return Ql(i,(a,o)=>{const l=n(a,s+1);!Sl(l)&&(r[o]=l)}),e[s]=void 0,r}}return i};return n(t,0)},_R=Ii("AsyncFunction"),pR=t=>t&&(Oh(t)||ui(t))&&ui(t.then)&&ui(t.catch),W={isArray:bo,isArrayBuffer:Pb,isBuffer:NI,isFormData:HI,isArrayBufferView:VI,isString:BI,isNumber:kb,isBoolean:$I,isObject:Oh,isPlainObject:lc,isReadableStream:XI,isRequest:KI,isResponse:qI,isHeaders:ZI,isUndefined:Sl,isDate:GI,isFile:UI,isBlob:zI,isRegExp:cR,isFunction:ui,isStream:jI,isURLSearchParams:YI,isTypedArray:rR,isFileList:WI,forEach:Ql,merge:Nf,extend:QI,trim:JI,stripBOM:eR,inherits:tR,toFlatObject:nR,kindOf:Ph,kindOfTest:Ii,endsWith:iR,toArray:sR,forEachEntry:aR,matchAll:oR,isHTMLForm:lR,hasOwnProperty:l0,hasOwnProp:l0,reduceDescriptors:Db,freezeMethods:hR,toObjectSet:dR,toCamelCase:uR,noop:fR,toFiniteNumber:gR,findKey:Ob,global:Lb,isContextDefined:Fb,ALPHABET:Nb,generateString:mR,isSpecCompliantForm:vR,toJSONObject:yR,isAsyncFn:_R,isThenable:pR};function $e(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}W.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Vb=$e.prototype,Bb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bb[t]={value:t}});Object.defineProperties($e,Bb);Object.defineProperty(Vb,"isAxiosError",{value:!0});$e.from=(t,e,n,i,s,r)=>{const a=Object.create(Vb);return W.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),$e.call(a,t.message,e,n,i,s),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const bR=null;function Vf(t){return W.isPlainObject(t)||W.isArray(t)}function $b(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function c0(t,e,n){return t?t.concat(e).map(function(s,r){return s=$b(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function xR(t){return W.isArray(t)&&!t.some(Vf)}const wR=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Lh(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!W.isUndefined(v[m])});const i=n.metaTokens,s=n.visitor||c,r=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(W.isDate(f))return f.toISOString();if(!l&&W.isBlob(f))throw new $e("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(f)||W.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,m,v){let _=f;if(f&&!v&&typeof f=="object"){if(W.endsWith(m,"{}"))m=i?m:m.slice(0,-2),f=JSON.stringify(f);else if(W.isArray(f)&&xR(f)||(W.isFileList(f)||W.endsWith(m,"[]"))&&(_=W.toArray(f)))return m=$b(m),_.forEach(function(b,S){!(W.isUndefined(b)||b===null)&&e.append(a===!0?c0([m],S,r):a===null?m:m+"[]",u(b))}),!1}return Vf(f)?!0:(e.append(c0(v,m,r),u(f)),!1)}const h=[],d=Object.assign(wR,{defaultVisitor:c,convertValue:u,isVisitable:Vf});function g(f,m){if(!W.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(f),W.forEach(f,function(_,p){(!(W.isUndefined(_)||_===null)&&s.call(e,_,W.isString(p)?p.trim():p,m,d))===!0&&g(_,m?m.concat(p):[p])}),h.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return g(t),e}function h0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function dm(t,e){this._pairs=[],t&&Lh(t,this,e)}const Gb=dm.prototype;Gb.append=function(e,n){this._pairs.push([e,n])};Gb.toString=function(e){const n=e?function(i){return e.call(this,i,h0)}:h0;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function SR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ub(t,e,n){if(!e)return t;const i=n&&n.encode||SR,s=n&&n.serialize;let r;if(s?r=s(e,n):r=W.isURLSearchParams(e)?e.toString():new dm(e,n).toString(i),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class d0{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(i){i!==null&&e(i)})}}const zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CR=typeof URLSearchParams<"u"?URLSearchParams:dm,ER=typeof FormData<"u"?FormData:null,MR=typeof Blob<"u"?Blob:null,TR={isBrowser:!0,classes:{URLSearchParams:CR,FormData:ER,Blob:MR},protocols:["http","https","file","blob","url","data"]},fm=typeof window<"u"&&typeof document<"u",IR=(t=>fm&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),RR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AR=fm&&window.location.href||"http://localhost",PR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fm,hasStandardBrowserEnv:IR,hasStandardBrowserWebWorkerEnv:RR,origin:AR},Symbol.toStringTag,{value:"Module"})),wi={...PR,...TR};function kR(t,e){return Lh(t,new wi.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return wi.isNode&&W.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function OR(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LR(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function Wb(t){function e(n,i,s,r){let a=n[r++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=r>=n.length;return a=!a&&W.isArray(s)?s.length:a,l?(W.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!o):((!s[a]||!W.isObject(s[a]))&&(s[a]=[]),e(n,i,s[a],r)&&W.isArray(s[a])&&(s[a]=LR(s[a])),!o)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(i,s)=>{e(OR(i),s,n,0)}),n}return null}function FR(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const eu={transitional:zb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=W.isObject(e);if(r&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return s?JSON.stringify(Wb(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kR(e,this.formSerializer).toString();if((o=W.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Lh(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),FR(e)):e}],transformResponse:[function(e){const n=this.transitional||eu.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(i&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?$e.from(o,$e.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wi.classes.FormData,Blob:wi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{eu.headers[t]={}});const DR=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NR=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!n||e[n]&&DR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},f0=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function uc(t){return t===!1||t==null?t:W.isArray(t)?t.map(uc):String(t)}function VR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const BR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bd(t,e,n,i,s){if(W.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!W.isString(e)){if(W.isString(i))return e.indexOf(i)!==-1;if(W.isRegExp(i))return i.test(e)}}function $R(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function GR(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,a){return this[i].call(this,e,s,r,a)},configurable:!0})})}class kn{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(o,l,u){const c=Fo(l);if(!c)throw new Error("header name must be a non-empty string");const h=W.findKey(s,c);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=uc(o))}const a=(o,l)=>W.forEach(o,(u,c)=>r(u,c,l));if(W.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(W.isString(e)&&(e=e.trim())&&!BR(e))a(NR(e),n);else if(W.isHeaders(e))for(const[o,l]of e.entries())r(l,o,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=Fo(e),e){const i=W.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return VR(s);if(W.isFunction(n))return n.call(this,s,i);if(W.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Fo(e),e){const i=W.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Bd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(a){if(a=Fo(a),a){const o=W.findKey(i,a);o&&(!n||Bd(i,i[o],o,n))&&(delete i[o],s=!0)}}return W.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Bd(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return W.forEach(this,(s,r)=>{const a=W.findKey(i,r);if(a){n[a]=uc(s),delete n[r];return}const o=e?$R(r):String(r).trim();o!==r&&delete n[r],n[o]=uc(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&W.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[f0]=this[f0]={accessors:{}}).accessors,s=this.prototype;function r(a){const o=Fo(a);i[o]||(GR(s,a),i[o]=!0)}return W.isArray(e)?e.forEach(r):r(e),this}}kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});W.freezeMethods(kn);function $d(t,e){const n=this||eu,i=e||n,s=kn.from(i.headers);let r=i.data;return W.forEach(t,function(o){r=o.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function jb(t){return!!(t&&t.__CANCEL__)}function xo(t,e,n){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(xo,$e,{__CANCEL__:!0});function Hb(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function UR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function zR(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[r];a||(a=u),n[s]=l,i[s]=u;let h=r,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-a<e)return;const g=c&&u-c;return g?Math.round(d*1e3/g):void 0}}function WR(t,e){let n=0;const i=1e3/e;let s=null;return function(){const a=this===!0,o=Date.now();if(a||o-n>i)return s&&(clearTimeout(s),s=null),n=o,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,n=Date.now(),t.apply(null,arguments)),i-(o-n)))}}const Oc=(t,e,n=3)=>{let i=0;const s=zR(50,250);return WR(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,l=a-i,u=s(l),c=a<=o;i=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:r,lengthComputable:o!=null};h[e?"download":"upload"]=!0,t(h)},n)},jR=wi.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let a=r;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){const o=W.isString(a)?s(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),HR=wi.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const a=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),W.isString(i)&&a.push("path="+i),W.isString(s)&&a.push("domain="+s),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function XR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Yb(t,e){return t&&!YR(e)?XR(t,e):e}const g0=t=>t instanceof kn?{...t}:t;function ea(t,e){e=e||{};const n={};function i(u,c,h){return W.isPlainObject(u)&&W.isPlainObject(c)?W.merge.call({caseless:h},u,c):W.isPlainObject(c)?W.merge({},c):W.isArray(c)?c.slice():c}function s(u,c,h){if(W.isUndefined(c)){if(!W.isUndefined(u))return i(void 0,u,h)}else return i(u,c,h)}function r(u,c){if(!W.isUndefined(c))return i(void 0,c)}function a(u,c){if(W.isUndefined(c)){if(!W.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,h){if(h in e)return i(u,c);if(h in t)return i(void 0,u)}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>s(g0(u),g0(c),!0)};return W.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||s,d=h(t[c],e[c],c);W.isUndefined(d)&&h!==o||(n[c]=d)}),n}const Xb=t=>{const e=ea({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:o}=e;e.headers=a=kn.from(a),e.url=Ub(Yb(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(W.isFormData(n)){if(wi.hasStandardBrowserEnv||wi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(wi.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(e)),i||i!==!1&&jR(e.url))){const u=s&&r&&HR.read(r);u&&a.set(s,u)}return e},KR=typeof XMLHttpRequest<"u",qR=KR&&function(t){return new Promise(function(n,i){const s=Xb(t);let r=s.data;const a=kn.from(s.headers).normalize();let{responseType:o}=s,l;function u(){s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(s.method.toUpperCase(),s.url,!0),c.timeout=s.timeout;function h(){if(!c)return;const g=kn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};Hb(function(_){n(_),u()},function(_){i(_),u()},m),c=null}"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(i(new $e("Request aborted",$e.ECONNABORTED,s,c)),c=null)},c.onerror=function(){i(new $e("Network Error",$e.ERR_NETWORK,s,c)),c=null},c.ontimeout=function(){let f=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const m=s.transitional||zb;s.timeoutErrorMessage&&(f=s.timeoutErrorMessage),i(new $e(f,m.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,s,c)),c=null},r===void 0&&a.setContentType(null),"setRequestHeader"in c&&W.forEach(a.toJSON(),function(f,m){c.setRequestHeader(m,f)}),W.isUndefined(s.withCredentials)||(c.withCredentials=!!s.withCredentials),o&&o!=="json"&&(c.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&c.addEventListener("progress",Oc(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Oc(s.onUploadProgress)),(s.cancelToken||s.signal)&&(l=g=>{c&&(i(!g||g.type?new xo(null,t,c):g),c.abort(),c=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const d=UR(s.url);if(d&&wi.protocols.indexOf(d)===-1){i(new $e("Unsupported protocol "+d+":",$e.ERR_BAD_REQUEST,t));return}c.send(r||null)})},ZR=(t,e)=>{let n=new AbortController,i;const s=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof $e?u:new xo(u instanceof Error?u.message:u))}};let r=e&&setTimeout(()=>{s(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",s):l.unsubscribe(s))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",s));const{signal:o}=n;return o.unsubscribe=a,[o,()=>{r&&clearTimeout(r),r=null}]},JR=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},QR=async function*(t,e,n){for await(const i of t)yield*JR(ArrayBuffer.isView(i)?i:await n(String(i)),e)},m0=(t,e,n,i,s)=>{const r=QR(t,e,s);let a=0;return new ReadableStream({type:"bytes",async pull(o){const{done:l,value:u}=await r.next();if(l){o.close(),i();return}let c=u.byteLength;n&&n(a+=c),o.enqueue(new Uint8Array(u))},cancel(o){return i(o),r.return()}},{highWaterMark:2})},v0=(t,e)=>{const n=t!=null;return i=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:i}))},Fh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kb=Fh&&typeof ReadableStream=="function",Bf=Fh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eA=Kb&&(()=>{let t=!1;const e=new Request(wi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),y0=64*1024,$f=Kb&&!!(()=>{try{return W.isReadableStream(new Response("").body)}catch{}})(),Lc={stream:$f&&(t=>t.body)};Fh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lc[e]&&(Lc[e]=W.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,i)})})})(new Response);const tA=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(W.isArrayBufferView(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await Bf(t)).byteLength},nA=async(t,e)=>{const n=W.toFiniteNumber(t.getContentLength());return n??tA(e)},iA=Fh&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:d}=Xb(t);u=u?(u+"").toLowerCase():"text";let[g,f]=s||r||a?ZR([s,r],a):[],m,v;const _=()=>{!m&&setTimeout(()=>{g&&g.unsubscribe()}),m=!0};let p;try{if(l&&eA&&n!=="get"&&n!=="head"&&(p=await nA(c,i))!==0){let C=new Request(e,{method:"POST",body:i,duplex:"half"}),E;W.isFormData(i)&&(E=C.headers.get("content-type"))&&c.setContentType(E),C.body&&(i=m0(C.body,y0,v0(p,Oc(l)),null,Bf))}W.isString(h)||(h=h?"cors":"omit"),v=new Request(e,{...d,signal:g,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",withCredentials:h});let b=await fetch(v);const S=$f&&(u==="stream"||u==="response");if($f&&(o||S)){const C={};["status","statusText","headers"].forEach(M=>{C[M]=b[M]});const E=W.toFiniteNumber(b.headers.get("content-length"));b=new Response(m0(b.body,y0,o&&v0(E,Oc(o,!0)),S&&_,Bf),C)}u=u||"text";let x=await Lc[W.findKey(Lc,u)||"text"](b,t);return!S&&_(),f&&f(),await new Promise((C,E)=>{Hb(C,E,{data:x,headers:kn.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(b){throw _(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,v),{cause:b.cause||b}):$e.from(b,b&&b.code,t,v)}}),Gf={http:bR,xhr:qR,fetch:iA};W.forEach(Gf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _0=t=>`- ${t}`,sA=t=>W.isFunction(t)||t===null||t===!1,qb={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let a;if(i=n,!sA(n)&&(i=Gf[(a=String(n)).toLowerCase()],i===void 0))throw new $e(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+r]=i}if(!i){const r=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(_0).join(`
`):" "+_0(r[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Gf};function Gd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xo(null,t)}function p0(t){return Gd(t),t.headers=kn.from(t.headers),t.data=$d.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qb.getAdapter(t.adapter||eu.adapter)(t).then(function(i){return Gd(t),i.data=$d.call(t,t.transformResponse,i),i.headers=kn.from(i.headers),i},function(i){return jb(i)||(Gd(t),i&&i.response&&(i.response.data=$d.call(t,t.transformResponse,i.response),i.response.headers=kn.from(i.response.headers))),Promise.reject(i)})}const Zb="1.7.2",gm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const b0={};gm.transitional=function(e,n,i){function s(r,a){return"[Axios v"+Zb+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,o)=>{if(e===!1)throw new $e(s(a," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!b0[a]&&(b0[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,o):!0}};function rA(t,e,n){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const o=t[r],l=o===void 0||a(o,r,t);if(l!==!0)throw new $e("option "+r+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+r,$e.ERR_BAD_OPTION)}}const Uf={assertOptions:rA,validators:gm},Gs=Uf.validators;class Kr{constructor(e){this.defaults=e,this.interceptors={request:new d0,response:new d0}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ea(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Uf.assertOptions(i,{silentJSONParsing:Gs.transitional(Gs.boolean),forcedJSONParsing:Gs.transitional(Gs.boolean),clarifyTimeoutError:Gs.transitional(Gs.boolean)},!1),s!=null&&(W.isFunction(s)?n.paramsSerializer={serialize:s}:Uf.assertOptions(s,{encode:Gs.function,serialize:Gs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&W.merge(r.common,r[n.method]);r&&W.forEach(["delete","get","head","post","put","patch","common"],f=>{delete r[f]}),n.headers=kn.concat(a,r);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,h=0,d;if(!l){const f=[p0.bind(this),void 0];for(f.unshift.apply(f,o),f.push.apply(f,u),d=f.length,c=Promise.resolve(n);h<d;)c=c.then(f[h++],f[h++]);return c}d=o.length;let g=n;for(h=0;h<d;){const f=o[h++],m=o[h++];try{g=f(g)}catch(v){m.call(this,v);break}}try{c=p0.call(this,g)}catch(f){return Promise.reject(f)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ea(this.defaults,e);const n=Yb(e.baseURL,e.url);return Ub(n,e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){Kr.prototype[e]=function(n,i){return this.request(ea(i||{},{method:e,url:n,data:(i||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(i){return function(r,a,o){return this.request(ea(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Kr.prototype[e]=n(),Kr.prototype[e+"Form"]=n(!0)});class mm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(o=>{i.subscribe(o),r=o}).then(s);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,o){i.reason||(i.reason=new xo(r,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new mm(function(s){e=s}),cancel:e}}}function aA(t){return function(n){return t.apply(null,n)}}function oA(t){return W.isObject(t)&&t.isAxiosError===!0}const zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zf).forEach(([t,e])=>{zf[e]=t});function Jb(t){const e=new Kr(t),n=Ab(Kr.prototype.request,e);return W.extend(n,Kr.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Jb(ea(t,s))},n}const et=Jb(eu);et.Axios=Kr;et.CanceledError=xo;et.CancelToken=mm;et.isCancel=jb;et.VERSION=Zb;et.toFormData=Lh;et.AxiosError=$e;et.Cancel=et.CanceledError;et.all=function(e){return Promise.all(e)};et.spread=aA;et.isAxiosError=oA;et.mergeConfig=ea;et.AxiosHeaders=kn;et.formToJSON=t=>Wb(W.isHTMLForm(t)?new FormData(t):t);et.getAdapter=qb.getAdapter;et.HttpStatusCode=zf;et.default=et;const Qs=ts("Utils",2,2),Vi=t=>typeof t>"u"||t===null,lA=t=>typeof t>"u"||t===null||t==="",uA=function(t){if(lA(t))return"";const[e,n,i]=t.split("-");return[i,n,e].join("-")},cA=t=>{if(Qs.t(`#> entering : ${t}`,t),typeof t!="string")return"not_date";if(Vi(t)||t.indexOf("T")<0)return"";const e=uA(t.split("T")[0]);return Qs.l(`dateTS : ${e}`,t),e},hA=(t,e=50)=>{Qs.t(">parseJsonWithDetailedError ");try{const n=JSON.parse(t);return Qs.l("Parsing successful",n),n}catch(n){if(n instanceof SyntaxError){const i=n.message.match(/position (\d+)/);if(i){const s=parseInt(i[1],10),r=t.substring(0,s).split(`
`),a=r.length,o=r[r.length-1].length+1,l=Math.max(0,s-e),u=Math.min(t.length,s+e),c=`...${t.slice(l,s)}${t.charAt(s)}${t.substring(s+1,u)}...`;Qs.w(`Error parsing JSON at [${a}:${o}] ${n.message}: "${c}"`),Qs.l(t)}else Qs.w("Error parsing JSON:",n.message)}else Qs.w("Unexpected error:",n)}},Ot=ts("AuthService",4,1),Nt={JWT_TOKEN:"_goapi_jwt_session_token",USER_ID:"_goapi_idgouser",USER_EXTERNAL_ID:"_goapi_user_external_id",NAME:"_goapi_name",USERNAME:"_goapi_username",EMAIL:"_goapi_email",IS_ADMIN:"_goapi_isadmin",DATE_EXPIRATION:"_goapi_date_expiration",SESSION_UUID:"_goapi_session_uuid",GROUPS:"_goapi_groups"};class $r extends Error{constructor(e,n){super(e),this.status=n,this.name="AuthError"}}const Fc=(t,e)=>`${t}${e}`,us=(t,e,n)=>{sessionStorage.setItem(Fc(t,e),n)},Di=(t,e)=>(Ot.t(`session get called with key:${e}, appName:${Fc(t,e)}`),sessionStorage.getItem(Fc(t,e))),dA=(t,e)=>{sessionStorage.removeItem(Fc(t,e))},Wf=t=>{Ot.t(`# entering clearSession... ${t} `),Object.values(Nt).forEach(e=>dA(t,e)),Ot.t("Session storage cleared for app:",t)},fA=t=>{try{const e=t.split(".")[1];if(!e)throw new Error("Invalid JWT format: Missing payload.");const n=e.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(window.atob(n).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(i)}catch(e){throw Ot.e("Error parsing JWT:",e),new $r(`Invalid JWT token: ${e instanceof Error?e.message:String(e)}`)}},gA=async(t,e=8)=>{if(t.trim().length>=e){const i=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}else throw new $r(`Password must be at least ${e} characters long`)},Qb=async(t,e,n,i,s,r=!1)=>{var o;const a=`${e}${n}`;Ot.t(`# entering getToken... ${a} isF5: ${r}, username: ${i}`);try{let l=null;if(r)l=await et.get(a),Ot.l("getToken() isF5 axios.get Success! response:",l.data);else{if(!(t!=null&&t.trim())||!(i!=null&&i.trim())||!(s!=null&&s.trim()))throw new $r("appName, username, and passwordHash are required");l=await et.post(a,{username:i,password_hash:s}),Ot.l("getToken() axios.post Success! response:",l.data)}if(Vi(l.data))return{msg:"getToken() backend did not send data.",err:new $r("backend did not send data"),status:l.status,data:l.data,receivedValidToken:!1};if(Vi(l.data.jwtStatus))return{msg:"getToken() backend did not send jwtStatus.",err:new $r("backend did not send jwtStatus"),status:l.status,data:l.data,receivedValidToken:!1};if(l.data.jwtStatus!=="success")return{msg:`getToken() backend got problem jwtStatus : ${l.data.jwtStatus}`,err:new $r(`backend got problem jwtStatus : ${l.data.jwtStatus}`),status:l.status,data:l.data,receivedValidToken:!1};const u=fA(l.data.token);Ot.l("getToken() parsed token values:",u);const c=new Date(0);return c.setUTCSeconds(u.exp),Ot.l(`getToken() JWT token expiration: ${c}`),us(t,Nt.JWT_TOKEN,l.data.token),l.data.session&&us(t,Nt.SESSION_UUID,l.data.session),us(t,Nt.USER_ID,String(u.User.user_id)),us(t,Nt.USER_EXTERNAL_ID,u.User.external_id),us(t,Nt.NAME,u.name),us(t,Nt.USERNAME,u.User.login),us(t,Nt.EMAIL,u.User.email),us(t,Nt.IS_ADMIN,String(u.User.is_admin)),us(t,Nt.DATE_EXPIRATION,String(u.exp)),{msg:"getToken() axios.post Success.",err:null,status:l.status,data:l.data,receivedValidToken:!0}}catch(l){if(et.isAxiosError(l)){const c=`getToken() Axios Error: ${l.message}`;return Ot.w(c,l.response),{msg:c,err:l,status:(o=l.response)==null?void 0:o.status,data:null,receivedValidToken:!1}}const u=`getToken() Unexpected Error: ${l}`;return Ot.e(u),{msg:u,err:l instanceof Error?l:new Error(String(l)),status:void 0,data:null,receivedValidToken:!1}}},tu=t=>{Ot.t("# entering getUserProfile validation...");const e=Di(t,Nt.JWT_TOKEN),n=Di(t,Nt.DATE_EXPIRATION),i=Di(t,Nt.USER_ID),s=Di(t,Nt.EMAIL);if(!e||!n||!i||!s)return Ot.w(`# IN getUserProfile() - Missing required session keys: jwtToken: ${e}, expiration: ${n}, userId: ${i}, email: ${s}`),null;const r=new Date(parseInt(n,10)*1e3),a=new Date;if(a>r)return Ot.w(`# IN getUserProfile() - SESSION EXPIRED. Expiration was: ${r.toString()}`),Wf(t),null;const o=Math.floor((r.getTime()-a.getTime())/1e3/60);return Ot.l(`Yes, session exists and is valid for ${o} more minutes.`),{jwtToken:e,dateExpiration:parseInt(n,10),userId:parseInt(i,10),email:s,isAdmin:Di(t,Nt.IS_ADMIN)==="true",name:Di(t,Nt.NAME)??"",username:Di(t,Nt.USERNAME)??"",userExternalId:Di(t,Nt.USER_EXTERNAL_ID)??"",sessionUuid:Di(t,Nt.SESSION_UUID)??"",groups:Di(t,Nt.GROUPS)}},mA=t=>(Ot.t("# entering doesCurrentSessionExist..."),tu(t)!==null),vA=async(t,e=cr)=>{var i;Ot.t("# entering getTokenStatus...");const n=tu(t);if(!n)return{msg:"No valid session found locally.",err:new $r("No session"),status:401,data:null};try{const s=await et.get(`${e}${um}/status`,{headers:{Authorization:`Bearer ${n.jwtToken}`,"X-Goeland-Token":n.sessionUuid},timeout:Cb});Ot.l("getTokenStatus() axios.get Success! response:",s);const r=new Date(0);r.setUTCSeconds(s.data.exp);const a=`getTokenStatus() JWT token expiration: ${r}`;return Ot.l(a),{msg:a,err:null,status:s.status,data:s.data}}catch(s){if(et.isAxiosError(s)){const a=`Error in getTokenStatus(): ${s.message}`;return Ot.w(a,s.response),{msg:a,err:s,status:(i=s.response)==null?void 0:i.status,data:null}}const r=`Unexpected error in getTokenStatus(): ${s}`;return Ot.e(r),{msg:r,err:s instanceof Error?s:new Error(String(s)),status:void 0,data:null}}},yA=t=>{var e;return((e=tu(t))==null?void 0:e.jwtToken)??""},ex=t=>{var e;return((e=tu(t))==null?void 0:e.userId)??0},x0=t=>{var e;return((e=tu(t))==null?void 0:e.isAdmin)??!1},vi=ts("appStore",4,4),w0=3e3,_A=Rb("app",{state:()=>({isUserAuthenticated:!1,isHttpOnlyCookieJwt:!1,isNetworkOk:!0,feedbackTimeout:w0,feedbackMsg:" ",feedbackType:"success",feedbackVisible:!1,appData:{},jwtClaims:{}}),getters:{getFeedbackType:t=>`${t.feedbackType}`,getFeedbackVisible:t=>t.feedbackVisible,getAppName:t=>`${t.appData.app}`,getAppVersion:t=>`${t.appData.version}`,getAppRepository:t=>`${t.appData.repository}`,getAppAuthUrl:t=>`${t.appData.authUrl}`,getIsUserAuthenticated:t=>t.isUserAuthenticated,getIsNetworkOk:t=>t.isNetworkOk,getUserIsAdmin:t=>{if(t.isUserAuthenticated){const e=t.appData.app,n=sessionStorage.getItem(`${e}_goapi_isadmin`);return n!==null?n==="true":!1}else return!1},getUserId:t=>{var e;if(t.isUserAuthenticated){if(t.isHttpOnlyCookieJwt)return((e=t.jwtClaims.User)==null?void 0:e.user_id)||0;const n=t.appData.app,i=sessionStorage.getItem(`${n}_goapi_idgouser`);return i!==null?parseInt(i,10):0}else return 0},getUsername:t=>{const e="INCONNU";if(vi.t(`# entering...isUserAuthenticated:${t.isUserAuthenticated}`),t.isUserAuthenticated){const n=t.appData.app,i=sessionStorage.getItem(`${n}_goapi_username`);return i!==null?i:(vi.w(`getUsername  sessionStorage.getItem(${n}_goapi_username is null)`),e)}else return vi.w("getUsername isUserAuthenticated is false"),""},getUserJwtToken:t=>{if(vi.t(`# entering...isUserAuthenticated:${t.isUserAuthenticated}`),t.isUserAuthenticated){if(t.isHttpOnlyCookieJwt)return"";const e=t.appData.app,n=sessionStorage.getItem(`${e}_goapi_jwt_session_token`);return n!==null?n:(vi.w(`getUserJwtToken  sessionStorage.getItem(${e}_goapi_jwt_session_token is null)`),"")}else return vi.w("getUserJwtToken isUserAuthenticated is false"),""}},actions:{setUserAuthenticated(){this.isUserAuthenticated=!0},setUserNotAuthenticated(){this.isUserAuthenticated=!1},networkOffLine(){this.isNetworkOk=!1},networkOnLine(){this.isNetworkOk=!0},displayFeedBack(t,e="info",n=w0){this.feedbackType=e,this.feedbackMsg=t,this.feedbackTimeout=n,this.feedbackVisible=!0},hideFeedBack(){this.feedbackVisible=!1,this.feedbackMsg="",this.feedbackType="success"},async fetchAppInfo(){try{this.appData=await LI(`${cr}/goAppInfo`)}catch(t){this.appData={app:"Impossible d'atteindre le serveur : problme rseau ?",version:"ous pouvez essayer de rafrachir cette page avec la touche F5"},vi.e(`Error fetching app info from ${cr}/goAppInfo} :`,t)}},async checkStatusRoute(t=!1){let n=new URL(location.toString()).origin;try{let i=this.appData.statusUrl;(Sb||MI.includes(window.location.host))&&(n=cr,i=`${this.appData.statusUrl}`.includes("goapi")?`${this.appData.statusUrl}`:`${um}${this.appData.statusUrl}`);const s=await FI(`${n}${i}`);return vi.l(`fetchJwtStatus returned ${JSON.stringify(s)}`,s),this.jwtClaims=s,this.setUserAuthenticated(),this.isHttpOnlyCookieJwt=!0,!0}catch(i){if(!t){const s=this.appData.authUrl,r=`${n}${s}`,a=await Qb(this.appData.app,n,s,"f5-user","",!0);if(a)if(vi.l(`successfully checked auth url ${a.status} `,a),a.receivedValidToken)this.isHttpOnlyCookieJwt=!1,this.setUserAuthenticated();else return await this.checkStatusRoute(!0);else vi.w(`problem doing loginF5Jwt(${r}) : ${a} `)}return vi.e("Error fetching status info:",i),!1}}}}),pA=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},ns=H({border:[Boolean,Number,String]},"border");function Fs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return{borderClasses:R(()=>{const i=vt(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const bA=[null,"default","comfortable","compact"],Dn=H({density:{type:String,default:"default",validator:t=>bA.includes(t)}},"density");function mi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return{densityClasses:R(()=>`${e}--density-${t.density}`)}}const Ri=H({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function is(t){return{elevationClasses:R(()=>{const n=vt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const dn=H({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function bn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return{roundedClasses:R(()=>{const i=vt(t)?t.value:t.rounded,s=vt(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const dt=H({tag:{type:String,default:"div"}},"tag");function vm(t){return im(()=>{const e=[],n={};if(t.value.background)if(Pf(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&ZT(t.value.background)){const i=zi(t.value.background);if(i.a==null||i.a===1){const s=eb(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Pf(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Mi(t,e){const n=R(()=>({text:vt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=vm(n);return{textColorClasses:i,textColorStyles:s}}function _n(t,e){const n=R(()=>({background:vt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=vm(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const xA=["elevated","flat","tonal","outlined","text","plain"];function la(t,e){return y(Re,null,[t&&y("span",{key:"overlay",class:`${e}__overlay`},null),y("span",{key:"underlay",class:`${e}__underlay`},null)])}const Ai=H({color:String,variant:{type:String,default:"elevated",validator:t=>xA.includes(t)}},"variant");function ua(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();const n=R(()=>{const{variant:r}=Pe(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=vm(R(()=>{const{variant:r,color:a}=Pe(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const tx=H({baseColor:String,divided:Boolean,...ns(),...Me(),...Dn(),...Ri(),...dn(),...dt(),...pt(),...Ai()},"VBtnGroup"),S0=ae()({name:"VBtnGroup",props:tx(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{densityClasses:s}=mi(t),{borderClasses:r}=Fs(t),{elevationClasses:a}=is(t),{roundedClasses:o}=bn(t);Ei({VBtn:{height:"auto",baseColor:le(t,"baseColor"),color:le(t,"color"),density:le(t,"density"),flat:!0,variant:le(t,"variant")}}),ge(()=>y(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),ym=H({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),_m=H({value:null,disabled:Boolean,selectedClass:String},"group-item");function pm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Pt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=di();Ct(Symbol.for(`${e.description}:id`),s);const r=He(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=le(t,"value"),o=R(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),Fn(()=>{r.unregister(s)});const l=R(()=>r.isSelected(s)),u=R(()=>r.items.value[0].id===s),c=R(()=>r.items.value[r.items.value.length-1].id===s),h=R(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return he(l,d=>{i.emit("group:selected",{value:d})},{flush:"sync"}),{id:s,isSelected:l,isFirst:u,isLast:c,toggle:()=>r.select(s,!l.value),select:d=>r.select(s,d),selectedClass:h,value:a,disabled:o,group:r}}function Dh(t,e){let n=!1;const i=jt([]),s=ze(t,"modelValue",[],d=>d==null?[]:nx(i,Vt(d)),d=>{const g=SA(i,d);return t.multiple?g:g[0]}),r=Pt("useGroup");function a(d,g){const f=d,m=Symbol.for(`${e.description}:id`),_=ka(m,r==null?void 0:r.vnode).indexOf(g);Pe(f.value)==null&&(f.value=_,f.useIndexAsValue=!0),_>-1?i.splice(_,0,f):i.push(f)}function o(d){if(n)return;l();const g=i.findIndex(f=>f.id===d);i.splice(g,1)}function l(){const d=i.find(g=>!g.disabled);d&&t.mandatory==="force"&&!s.value.length&&(s.value=[d.id])}Ln(()=>{l()}),Fn(()=>{n=!0}),Hg(()=>{for(let d=0;d<i.length;d++)i[d].useIndexAsValue&&(i[d].value=d)});function u(d,g){const f=i.find(m=>m.id===d);if(!(g&&(f!=null&&f.disabled)))if(t.multiple){const m=s.value.slice(),v=m.findIndex(p=>p===d),_=~v;if(g=g??!_,_&&t.mandatory&&m.length<=1||!_&&t.max!=null&&m.length+1>t.max)return;v<0&&g?m.push(d):v>=0&&!g&&m.splice(v,1),s.value=m}else{const m=s.value.includes(d);if(t.mandatory&&m)return;s.value=g??!m?[d]:[]}}function c(d){if(t.multiple,s.value.length){const g=s.value[0],f=i.findIndex(_=>_.id===g);let m=(f+d)%i.length,v=i[m];for(;v.disabled&&m!==f;)m=(m+d)%i.length,v=i[m];if(v.disabled)return;s.value=[i[m].id]}else{const g=i.find(f=>!f.disabled);g&&(s.value=[g.id])}}const h={register:a,unregister:o,selected:s,select:u,disabled:le(t,"disabled"),prev:()=>c(i.length-1),next:()=>c(1),isSelected:d=>s.value.includes(d),selectedClass:R(()=>t.selectedClass),items:R(()=>i),getItemIndex:d=>wA(i,d)};return Ct(e,h),h}function wA(t,e){const n=nx(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function nx(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Er(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function SA(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const ix=Symbol.for("vuetify:v-btn-toggle"),CA=H({...tx(),...ym()},"VBtnToggle");ae()({name:"VBtnToggle",props:CA(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=Dh(t,ix);return ge(()=>{const l=S0.filterProps(t);return y(S0,ce({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}});const EA=H({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),mt=ae(!1)({name:"VDefaultsProvider",props:EA(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=yh(t);return Ei(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),MA=["x-small","small","default","large","x-large"],wo=H({size:{type:[String,Number],default:"default"}},"size");function nu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return im(()=>{let n,i;return Cc(MA,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:_e(t.size),height:_e(t.size)}),{sizeClasses:n,sizeStyles:i}})}const TA=H({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ve,...Me(),...wo(),...dt({tag:"i"}),...pt()},"VIcon"),lt=ae()({name:"VIcon",props:TA(),setup(t,e){let{attrs:n,slots:i}=e;const s=J(),{themeClasses:r}=Et(t),{iconData:a}=vI(R(()=>s.value||t.icon)),{sizeClasses:o}=nu(t),{textColorClasses:l,textColorStyles:u}=Mi(le(t,"color"));return ge(()=>{var d,g;const c=(d=i.default)==null?void 0:d.call(i);c&&(s.value=(g=z1(c).filter(f=>f.type===Kl&&f.children&&typeof f.children=="string")[0])==null?void 0:g.children);const h=!!(n.onClick||n.onClickOnce);return y(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":h,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:_e(t.size),height:_e(t.size),width:_e(t.size)},u.value,t.style],role:h?"button":void 0,"aria-hidden":!h,tabindex:h?t.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function sx(t,e){const n=J(),i=ve(!1);if(tm){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Fn(()=>{s.disconnect()}),he(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const IA=H({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Me(),...wo(),...dt({tag:"div"}),...pt()},"VProgressCircular"),rx=ae()({name:"VProgressCircular",props:IA(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=J(),{themeClasses:a}=Et(t),{sizeClasses:o,sizeStyles:l}=nu(t),{textColorClasses:u,textColorStyles:c}=Mi(le(t,"color")),{textColorClasses:h,textColorStyles:d}=Mi(le(t,"bgColor")),{intersectionRef:g,isIntersecting:f}=sx(),{resizeRef:m,contentRect:v}=gr(),_=R(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),p=R(()=>Number(t.width)),b=R(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(p.value,32)),S=R(()=>i/(1-p.value/b.value)*2),x=R(()=>p.value/b.value*S.value),C=R(()=>_e((100-_.value)/100*s));return $t(()=>{g.value=r.value,m.value=r.value}),ge(()=>y(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":f.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,u.value,t.class],style:[l.value,c.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:_.value},{default:()=>[y("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${S.value} ${S.value}`},[y("circle",{class:["v-progress-circular__underlay",h.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":x.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),y("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":x.value,"stroke-dasharray":s,"stroke-dashoffset":C.value},null)]),n.default&&y("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}}),Pi=H({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ki(t){return{dimensionStyles:R(()=>{const n={},i=_e(t.height),s=_e(t.maxHeight),r=_e(t.maxWidth),a=_e(t.minHeight),o=_e(t.minWidth),l=_e(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}const C0={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},So=H({location:String},"location");function iu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=gi();return{locationStyles:R(()=>{if(!t.location)return{};const{side:r,align:a}=Af(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(u){return n?n(u):0}const l={};return r!=="center"&&(e?l[C0[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[C0[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const RA=H({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Me(),...So({location:"top"}),...dn(),...dt(),...pt()},"VProgressLinear"),ax=ae()({name:"VProgressLinear",props:RA(),emits:{"update:modelValue":t=>!0},setup(t,e){var P;let{slots:n}=e;const i=ze(t,"modelValue"),{isRtl:s,rtlClasses:r}=gi(),{themeClasses:a}=Et(t),{locationStyles:o}=iu(t),{textColorClasses:l,textColorStyles:u}=Mi(t,"color"),{backgroundColorClasses:c,backgroundColorStyles:h}=_n(R(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:g}=_n(R(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:f,backgroundColorStyles:m}=_n(t,"color"),{roundedClasses:v}=bn(t),{intersectionRef:_,isIntersecting:p}=sx(),b=R(()=>parseFloat(t.max)),S=R(()=>parseFloat(t.height)),x=R(()=>Pn(parseFloat(t.bufferValue)/b.value*100,0,100)),C=R(()=>Pn(parseFloat(i.value)/b.value*100,0,100)),E=R(()=>s.value!==t.reverse),M=R(()=>t.indeterminate?"fade-transition":"slide-x-transition"),w=gt&&((P=window.matchMedia)==null?void 0:P.call(window,"(forced-colors: active)").matches);function A(T){if(!_.value)return;const{left:F,right:O,width:k}=_.value.getBoundingClientRect(),I=E.value?k-T.clientX+(O-k):T.clientX-F;i.value=Math.round(I/k*b.value)}return ge(()=>y(t.tag,{ref:_,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&p.value,"v-progress-linear--reverse":E.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},v.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?_e(S.value):0,"--v-progress-linear-height":_e(S.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:C.value,onClick:t.clickable&&A},{default:()=>[t.stream&&y("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[E.value?"left":"right"]:_e(-S.value),borderTop:`${_e(S.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${_e(S.value/4)})`,width:_e(100-x.value,"%"),"--v-progress-linear-stream-to":_e(S.value*(E.value?1:-1))}},null),y("div",{class:["v-progress-linear__background",w?void 0:c.value],style:[h.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),y("div",{class:["v-progress-linear__buffer",w?void 0:d.value],style:[g.value,{opacity:parseFloat(t.bufferOpacity),width:_e(x.value,"%")}]},null),y(Ts,{name:M.value},{default:()=>[t.indeterminate?y("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(T=>y("div",{key:T,class:["v-progress-linear__indeterminate",T,w?void 0:f.value],style:m.value},null))]):y("div",{class:["v-progress-linear__determinate",w?void 0:f.value],style:[m.value,{width:_e(C.value,"%")}]},null)]}),n.default&&y("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:x.value})])]})),{}}}),Nh=H({loading:[Boolean,String]},"loader");function Vh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return{loaderClasses:R(()=>({[`${e}--loading`]:t.loading}))}}function bm(t,e){var i;let{slots:n}=e;return y("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||y(ax,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const AA=["static","relative","fixed","absolute","sticky"],su=H({position:{type:String,validator:t=>AA.includes(t)}},"position");function ru(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();return{positionClasses:R(()=>t.position?`${e}--${t.position}`:void 0)}}function PA(){const t=Pt("useRoute");return R(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function kA(){var t,e;return(e=(t=Pt("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Bh(t,e){var u,c;const n=jE("RouterLink"),i=R(()=>!!(t.href||t.to)),s=R(()=>(i==null?void 0:i.value)||Ay(e,"click")||Ay(t,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:i,isClickable:s,href:le(t,"href")};const r=R(()=>({...t,to:le(()=>t.to||"")})),a=n.useLink(r.value),o=R(()=>t.to?a:void 0),l=PA();return{isLink:i,isClickable:s,route:(u=o.value)==null?void 0:u.route,navigate:(c=o.value)==null?void 0:c.navigate,isActive:R(()=>{var h,d,g;return o.value?t.exact?l.value?((g=o.value.isExactActive)==null?void 0:g.value)&&Er(o.value.route.value.query,l.value.query):((d=o.value.isExactActive)==null?void 0:d.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),href:R(()=>{var h;return t.to?(h=o.value)==null?void 0:h.route.value.href:t.href})}}const $h=H({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Ud=!1;function OA(t,e){let n=!1,i,s;gt&&(ct(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,o,l)=>{Ud?n?e(l):l():setTimeout(()=>n?e(l):l()),Ud=!0}),s=t==null?void 0:t.afterEach(()=>{Ud=!1})}),hn(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function LA(t,e){he(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&ct(()=>{e(!0)})},{immediate:!0})}const jf=Symbol("rippleStop"),FA=80;function E0(t,e){t.style.transform=e,t.style.webkitTransform=e}function Hf(t){return t.constructor.name==="TouchEvent"}function ox(t){return t.constructor.name==="KeyboardEvent"}const DA=function(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!ox(t)){const d=e.getBoundingClientRect(),g=Hf(t)?t.touches[t.touches.length-1]:t;i=g.clientX-d.left,s=g.clientY-d.top}let r=0,a=.3;(h=e._ripple)!=null&&h.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,u=n.center?o:`${i-r}px`,c=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:u,y:c,centerX:o,centerY:l}},Dc={show(t,e){var g;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((g=e==null?void 0:e._ripple)!=null&&g.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:u,centerY:c}=DA(t,e,n),h=`${r*2}px`;s.className="v-ripple__animation",s.style.width=h,s.style.height=h,e.appendChild(i);const d=window.getComputedStyle(e);d&&d.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),E0(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),E0(s,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function lx(t){return typeof t>"u"||!!t}function Cl(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[jf])){if(t[jf]=!0,Hf(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||ox(t),n._ripple.class&&(e.class=n._ripple.class),Hf(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Dc.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},FA)}else Dc.show(t,n,e)}}function M0(t){t[jf]=!0}function Yn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Yn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Dc.hide(e)}}function ux(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let El=!1;function cx(t){!El&&(t.keyCode===Ey.enter||t.keyCode===Ey.space)&&(El=!0,Cl(t))}function hx(t){El=!1,Yn(t)}function dx(t){El&&(El=!1,Yn(t))}function fx(t,e,n){const{value:i,modifiers:s}=e,r=lx(i);if(r||Dc.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Sc(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",M0,{passive:!0}),t.addEventListener("mousedown",M0);return}t.addEventListener("touchstart",Cl,{passive:!0}),t.addEventListener("touchend",Yn,{passive:!0}),t.addEventListener("touchmove",ux,{passive:!0}),t.addEventListener("touchcancel",Yn),t.addEventListener("mousedown",Cl),t.addEventListener("mouseup",Yn),t.addEventListener("mouseleave",Yn),t.addEventListener("keydown",cx),t.addEventListener("keyup",hx),t.addEventListener("blur",dx),t.addEventListener("dragstart",Yn,{passive:!0})}else!r&&n&&gx(t)}function gx(t){t.removeEventListener("mousedown",Cl),t.removeEventListener("touchstart",Cl),t.removeEventListener("touchend",Yn),t.removeEventListener("touchmove",ux),t.removeEventListener("touchcancel",Yn),t.removeEventListener("mouseup",Yn),t.removeEventListener("mouseleave",Yn),t.removeEventListener("keydown",cx),t.removeEventListener("keyup",hx),t.removeEventListener("dragstart",Yn),t.removeEventListener("blur",dx)}function NA(t,e){fx(t,e,!1)}function VA(t){delete t._ripple,gx(t)}function BA(t,e){if(e.value===e.oldValue)return;const n=lx(e.oldValue);fx(t,e,n)}const au={mounted:NA,unmounted:VA,updated:BA},xm=H({active:{type:Boolean,default:void 0},baseColor:String,symbol:{type:null,default:ix},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ve,appendIcon:Ve,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ns(),...Me(),...Dn(),...Pi(),...Ri(),..._m(),...Nh(),...So(),...su(),...dn(),...$h(),...wo(),...dt({tag:"button"}),...pt(),...Ai({variant:"elevated"})},"VBtn"),Ye=ae()({name:"VBtn",props:xm(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Et(t),{borderClasses:r}=Fs(t),{densityClasses:a}=mi(t),{dimensionStyles:o}=ki(t),{elevationClasses:l}=is(t),{loaderClasses:u}=Vh(t),{locationStyles:c}=iu(t),{positionClasses:h}=ru(t),{roundedClasses:d}=bn(t),{sizeClasses:g,sizeStyles:f}=nu(t),m=pm(t,t.symbol,!1),v=Bh(t,n),_=R(()=>{var A;return t.active!==void 0?t.active:v.isLink.value?(A=v.isActive)==null?void 0:A.value:m==null?void 0:m.isSelected.value}),p=R(()=>{var P,T;return{color:(m==null?void 0:m.isSelected.value)&&(!v.isLink.value||((P=v.isActive)==null?void 0:P.value))||!m||((T=v.isActive)==null?void 0:T.value)?t.color??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:b,colorStyles:S,variantClasses:x}=ua(p),C=R(()=>(m==null?void 0:m.disabled.value)||t.disabled),E=R(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),M=R(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function w(A){var P;C.value||v.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||n.target==="_blank")||((P=v.navigate)==null||P.call(v,A),m==null||m.toggle())}return LA(v,m==null?void 0:m.select),ge(()=>{const A=v.isLink.value?"a":t.tag,P=!!(t.prependIcon||i.prepend),T=!!(t.appendIcon||i.append),F=!!(t.icon&&t.icon!==!0);return Bt(y(A,{type:A==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":t.block,"v-btn--disabled":C.value,"v-btn--elevated":E.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,b.value,a.value,l.value,u.value,h.value,d.value,g.value,x.value,t.class],style:[S.value,o.value,c.value,f.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:C.value||void 0,href:v.href.value,tabindex:t.loading||t.readonly?-1:void 0,onClick:w,value:M.value},{default:()=>{var O;return[la(!0,"v-btn"),!t.icon&&P&&y("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?y(mt,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):y(lt,{key:"prepend-icon",icon:t.prependIcon},null)]),y("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&F?y(lt,{key:"content-icon",icon:t.icon},null):y(mt,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var k;return[((k=i.default)==null?void 0:k.call(i))??t.text]}})]),!t.icon&&T&&y("span",{key:"append",class:"v-btn__append"},[i.append?y(mt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):y(lt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&y("span",{key:"loader",class:"v-btn__loader"},[((O=i.loader)==null?void 0:O.call(i))??y(rx,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[au,!C.value&&!!t.ripple,"",{center:!!t.icon}]])}),{group:m}}}),Ml=ae()({name:"VCardActions",props:Me(),setup(t,e){let{slots:n}=e;return Ei({VBtn:{slim:!0,variant:"text"}}),ge(()=>{var i;return y("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),$A=H({opacity:[Number,String],...Me(),...dt()},"VCardSubtitle"),GA=ae()({name:"VCardSubtitle",props:$A(),setup(t,e){let{slots:n}=e;return ge(()=>y(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),wm=Zl("v-card-title");function UA(t){return{aspectStyles:R(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const mx=H({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Me(),...Pi()},"VResponsive"),Tl=ae()({name:"VResponsive",props:mx(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=UA(t),{dimensionStyles:s}=ki(t);return ge(()=>{var r;return y("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[y("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&y("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),ou=H({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),xi=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?em:Ts,...l}=typeof i=="object"?i:{};return Cr(o,ce(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(u=>{let[c,h]=u;return h!==void 0})),a),n)};function zA(t,e){if(!tm)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var h;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(h=t._observe)==null?void 0:h[e.instance.$.uid];if(!u)return;const c=o.some(d=>d.isIntersecting);s&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&s(c,o,l),c&&n.once?vx(t,e):u.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function vx(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Sm={mounted:zA,unmounted:vx},WA=H({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...mx(),...Me(),...dn(),...ou()},"VImg"),Cm=ae()({name:"VImg",directives:{intersect:Sm},props:WA(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=_n(le(t,"color")),{roundedClasses:a}=bn(t),o=Pt("VImg"),l=ve(""),u=J(),c=ve(t.eager?"loading":"idle"),h=ve(),d=ve(),g=R(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),f=R(()=>g.value.aspect||h.value/d.value||0);he(()=>t.src,()=>{m(c.value!=="idle")}),he(f,(T,F)=>{!T&&F&&u.value&&S(u.value)}),jg(()=>m());function m(T){if(!(t.eager&&T)&&!(tm&&!T&&!t.eager)){if(c.value="loading",g.value.lazySrc){const F=new Image;F.src=g.value.lazySrc,S(F,null)}g.value.src&&ct(()=>{var F;n("loadstart",((F=u.value)==null?void 0:F.currentSrc)||g.value.src),setTimeout(()=>{var O;if(!o.isUnmounted)if((O=u.value)!=null&&O.complete){if(u.value.naturalWidth||_(),c.value==="error")return;f.value||S(u.value,null),c.value==="loading"&&v()}else f.value||S(u.value),p()})})}}function v(){var T;o.isUnmounted||(p(),S(u.value),c.value="loaded",n("load",((T=u.value)==null?void 0:T.currentSrc)||g.value.src))}function _(){var T;o.isUnmounted||(c.value="error",n("error",((T=u.value)==null?void 0:T.currentSrc)||g.value.src))}function p(){const T=u.value;T&&(l.value=T.currentSrc||T.src)}let b=-1;Fn(()=>{clearTimeout(b)});function S(T){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{if(clearTimeout(b),o.isUnmounted)return;const{naturalHeight:k,naturalWidth:I}=T;k||I?(h.value=I,d.value=k):!T.complete&&c.value==="loading"&&F!=null?b=window.setTimeout(O,F):(T.currentSrc.endsWith(".svg")||T.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,d.value=1)};O()}const x=R(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),C=()=>{var O;if(!g.value.src||c.value==="idle")return null;const T=y("img",{class:["v-img__img",x.value],style:{objectPosition:t.position},src:g.value.src,srcset:g.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:u,onLoad:v,onError:_},null),F=(O=i.sources)==null?void 0:O.call(i);return y(xi,{transition:t.transition,appear:!0},{default:()=>[Bt(F?y("picture",{class:"v-img__picture"},[F,T]):T,[[Is,c.value==="loaded"]])]})},E=()=>y(xi,{transition:t.transition},{default:()=>[g.value.lazySrc&&c.value!=="loaded"&&y("img",{class:["v-img__img","v-img__img--preload",x.value],style:{objectPosition:t.position},src:g.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),M=()=>i.placeholder?y(xi,{transition:t.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&y("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?y(xi,{transition:t.transition,appear:!0},{default:()=>[c.value==="error"&&y("div",{class:"v-img__error"},[i.error()])]}):null,A=()=>t.gradient?y("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,P=ve(!1);{const T=he(f,F=>{F&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.value=!0})}),T())})}return ge(()=>{const T=Tl.filterProps(t);return Bt(y(Tl,ce({class:["v-img",{"v-img--booting":!P.value},s.value,a.value,t.class],style:[{width:_e(t.width==="auto"?h.value:t.width)},r.value,t.style]},T,{aspectRatio:f.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>y(Re,null,[y(C,null,null),y(E,null,null),y(A,null,null),y(M,null,null),y(w,null,null)]),default:i.default}),[[ks("intersect"),{handler:m,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:h,naturalHeight:d}}}),jA=H({start:Boolean,end:Boolean,icon:Ve,image:String,text:String,...Me(),...Dn(),...dn(),...wo(),...dt(),...pt(),...Ai({variant:"flat"})},"VAvatar"),ta=ae()({name:"VAvatar",props:jA(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{colorClasses:s,colorStyles:r,variantClasses:a}=ua(t),{densityClasses:o}=mi(t),{roundedClasses:l}=bn(t),{sizeClasses:u,sizeStyles:c}=nu(t);return ge(()=>y(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,o.value,l.value,u.value,a.value,t.class],style:[r.value,c.value,t.style]},{default:()=>[n.default?y(mt,{key:"content-defaults",defaults:{VImg:{cover:!0,image:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?y(Cm,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?y(lt,{key:"icon",icon:t.icon},null):t.text,la(!1,"v-avatar")]})),{}}}),HA=H({appendAvatar:String,appendIcon:Ve,prependAvatar:String,prependIcon:Ve,subtitle:[String,Number],title:[String,Number],...Me(),...Dn()},"VCardItem"),yx=ae()({name:"VCardItem",props:HA(),setup(t,e){let{slots:n}=e;return ge(()=>{var u;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return y("div",{class:["v-card-item",t.class],style:t.style},[s&&y("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?y(mt,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):y(Re,null,[t.prependAvatar&&y(ta,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&y(lt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),y("div",{class:"v-card-item__content"},[o&&y(wm,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??t.title]}}),l&&y(GA,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??t.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),a&&y("div",{key:"append",class:"v-card-item__append"},[n.append?y(mt,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):y(Re,null,[t.appendIcon&&y(lt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&y(ta,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),YA=H({opacity:[Number,String],...Me(),...dt()},"VCardText"),na=ae()({name:"VCardText",props:YA(),setup(t,e){let{slots:n}=e;return ge(()=>y(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),XA=H({appendAvatar:String,appendIcon:Ve,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ve,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ns(),...Me(),...Dn(),...Pi(),...Ri(),...Nh(),...So(),...su(),...dn(),...$h(),...dt(),...pt(),...Ai({variant:"elevated"})},"VCard"),qr=ae()({name:"VCard",directives:{Ripple:au},props:XA(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Et(t),{borderClasses:r}=Fs(t),{colorClasses:a,colorStyles:o,variantClasses:l}=ua(t),{densityClasses:u}=mi(t),{dimensionStyles:c}=ki(t),{elevationClasses:h}=is(t),{loaderClasses:d}=Vh(t),{locationStyles:g}=iu(t),{positionClasses:f}=ru(t),{roundedClasses:m}=bn(t),v=Bh(t,n),_=R(()=>t.link!==!1&&v.isLink.value),p=R(()=>!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value));return ge(()=>{const b=_.value?"a":t.tag,S=!!(i.title||t.title!=null),x=!!(i.subtitle||t.subtitle!=null),C=S||x,E=!!(i.append||t.appendAvatar||t.appendIcon),M=!!(i.prepend||t.prependAvatar||t.prependIcon),w=!!(i.image||t.image),A=C||M||E,P=!!(i.text||t.text!=null);return Bt(y(b,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":p.value},s.value,r.value,a.value,u.value,h.value,d.value,f.value,m.value,l.value,t.class],style:[o.value,c.value,g.value,t.style],href:v.href.value,onClick:p.value&&v.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var T;return[w&&y("div",{key:"image",class:"v-card__image"},[i.image?y(mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):y(Cm,{key:"image-img",cover:!0,src:t.image},null)]),y(bm,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),A&&y(yx,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),P&&y(na,{key:"text"},{default:()=>{var F;return[((F=i.text)==null?void 0:F.call(i))??t.text]}}),(T=i.default)==null?void 0:T.call(i),i.actions&&y(Ml,null,{default:i.actions}),la(p.value,"v-card")]}}),[[ks("ripple"),p.value&&t.ripple]])}),{}}}),_x=Symbol.for("vuetify:form"),KA=H({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function qA(t){const e=ze(t,"modelValue"),n=R(()=>t.disabled),i=R(()=>t.readonly),s=ve(!1),r=J([]),a=J([]);async function o(){const c=[];let h=!0;a.value=[],s.value=!0;for(const d of r.value){const g=await d.validate();if(g.length>0&&(h=!1,c.push({id:d.id,errorMessages:g})),!h&&t.fastFail)break}return a.value=c,s.value=!1,{valid:h,errors:a.value}}function l(){r.value.forEach(c=>c.reset())}function u(){r.value.forEach(c=>c.resetValidation())}return he(r,()=>{let c=0,h=0;const d=[];for(const g of r.value)g.isValid===!1?(h++,d.push({id:g.id,errorMessages:g.errorMessages})):g.isValid===!0&&c++;a.value=d,e.value=h>0?!1:c===r.value.length?!0:null},{deep:!0,flush:"post"}),Ct(_x,{register:c=>{let{id:h,vm:d,validate:g,reset:f,resetValidation:m}=c;r.value.some(v=>v.id===h),r.value.push({id:h,validate:g,reset:f,resetValidation:m,vm:vh(d),isValid:null,errorMessages:[]})},unregister:c=>{r.value=r.value.filter(h=>h.id!==c)},update:(c,h,d)=>{const g=r.value.find(f=>f.id===c);g&&(g.isValid=h,g.errorMessages=d)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:le(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:u}}function px(){return He(_x,null)}const zd=Symbol("Forwarded refs");function Wd(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Mr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[zd]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Wd(l.value,r)??("_"in l.value?Wd((o=l.value._)==null?void 0:o.setupState,r):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[zd];if(!u)continue;const c=u.slice();for(;c.length;){const h=c.shift(),d=Wd(h.value,r);if(d)return d;const g=h.value&&h.value[zd];g&&c.push(...g)}}}}})}const ZA=H({...Me(),...KA()},"VForm"),JA=ae()({name:"VForm",props:ZA(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=qA(t),r=J();function a(l){l.preventDefault(),s.reset()}function o(l){const u=l,c=s.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),i("submit",u),u.defaultPrevented||c.then(h=>{var g;let{valid:d}=h;d&&((g=r.value)==null||g.submit())}),u.preventDefault()}return ge(()=>{var l;return y("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),Mr(s,r)}}),QA=H({fluid:{type:Boolean,default:!1},...Me(),...dt()},"VContainer"),Nc=ae()({name:"VContainer",props:QA(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=gi();return ge(()=>y(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:t.style},n)),{}}}),bx=Th.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),xx=Th.reduce((t,e)=>{const n="offset"+Qi(e);return t[n]={type:[String,Number],default:null},t},{}),wx=Th.reduce((t,e)=>{const n="order"+Qi(e);return t[n]={type:[String,Number],default:null},t},{}),T0={col:Object.keys(bx),offset:Object.keys(xx),order:Object.keys(wx)};function eP(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const tP=["auto","start","end","center","baseline","stretch"],nP=H({cols:{type:[Boolean,String,Number],default:!1},...bx,offset:{type:[String,Number],default:null},...xx,order:{type:[String,Number],default:null},...wx,alignSelf:{type:String,default:null,validator:t=>tP.includes(t)},...Me(),...dt()},"VCol"),Ue=ae()({name:"VCol",props:nP(),setup(t,e){let{slots:n}=e;const i=R(()=>{const s=[];let r;for(r in T0)T0[r].forEach(o=>{const l=t[o],u=eP(r,o,l);u&&s.push(u)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Cr(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),Em=["start","end","center"],Sx=["space-between","space-around","space-evenly"];function Mm(t,e){return Th.reduce((n,i)=>{const s=t+Qi(i);return n[s]=e(),n},{})}const iP=[...Em,"baseline","stretch"],Cx=t=>iP.includes(t),Ex=Mm("align",()=>({type:String,default:null,validator:Cx})),sP=[...Em,...Sx],Mx=t=>sP.includes(t),Tx=Mm("justify",()=>({type:String,default:null,validator:Mx})),rP=[...Em,...Sx,"stretch"],Ix=t=>rP.includes(t),Rx=Mm("alignContent",()=>({type:String,default:null,validator:Ix})),I0={align:Object.keys(Ex),justify:Object.keys(Tx),alignContent:Object.keys(Rx)},aP={align:"align",justify:"justify",alignContent:"align-content"};function oP(t,e,n){let i=aP[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const lP=H({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Cx},...Ex,justify:{type:String,default:null,validator:Mx},...Tx,alignContent:{type:String,default:null,validator:Ix},...Rx,...Me(),...dt()},"VRow"),zn=ae()({name:"VRow",props:lP(),setup(t,e){let{slots:n}=e;const i=R(()=>{const s=[];let r;for(r in I0)I0[r].forEach(a=>{const o=t[a],l=oP(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Cr(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),bs=Zl("v-spacer","div","VSpacer"),uP=H({text:String,onClick:Yt(),...Me(),...pt()},"VLabel"),Il=ae()({name:"VLabel",props:uP(),setup(t,e){let{slots:n}=e;return ge(()=>{var i;return y("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),cP=H({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Kn(t,e,n){return ae()({name:t,props:cP({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:h}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${c}px`,o.style.height=`${h}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:c,width:h,height:d}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=c||"",o.style.width=h||"",o.style.height=d||""}}};return()=>{const o=i.group?em:Ts;return Cr(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function Ax(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ae()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?em:Ts;return()=>Cr(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function Px(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=ci(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const hP=H({target:[Object,Array]},"v-dialog-transition"),Tm=ae()({name:"VDialogTransition",props:hP(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var d;await new Promise(g=>requestAnimationFrame(g)),await new Promise(g=>requestAnimationFrame(g)),s.style.visibility="";const{x:a,y:o,sx:l,sy:u,speed:c}=A0(t.target,s),h=Br(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:c2});(d=R0(s))==null||d.forEach(g=>{Br(g,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:xl})}),h.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var d;await new Promise(g=>requestAnimationFrame(g));const{x:a,y:o,sx:l,sy:u,speed:c}=A0(t.target,s);Br(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:h2}).finished.then(()=>r()),(d=R0(s))==null||d.forEach(g=>{Br(g,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:xl})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?y(Ts,ce({name:"dialog-transition"},i,{css:!1}),n):y(Ts,{name:"dialog-transition"},n)}});function R0(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function A0(t,e){const n=K1(t),i=sm(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(_=>parseFloat(_)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;a==="top"||o==="top"?u-=n.height/2:(a==="bottom"||o==="bottom")&&(u+=n.height/2);const c=n.width/i.width,h=n.height/i.height,d=Math.max(1,c,h),g=c/d||0,f=h/d||0,m=i.width*i.height/(window.innerWidth*window.innerHeight),v=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:l-(s+i.left),y:u-(r+i.top),sx:g,sy:f,speed:v}}Kn("fab-transition","center center","out-in");Kn("dialog-bottom-transition");Kn("dialog-top-transition");const Yf=Kn("fade-transition");Kn("scale-transition");Kn("scroll-x-transition");Kn("scroll-x-reverse-transition");Kn("scroll-y-transition");Kn("scroll-y-reverse-transition");Kn("slide-x-transition");Kn("slide-x-reverse-transition");const kx=Kn("slide-y-transition");Kn("slide-y-reverse-transition");const Ox=Ax("expand-transition",Px()),Lx=Ax("expand-x-transition",Px("",!0)),dP=H({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Me(),...ou({transition:{component:kx}})},"VCounter"),Fx=ae()({name:"VCounter",functional:!0,props:dP(),setup(t,e){let{slots:n}=e;const i=R(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return ge(()=>y(xi,{transition:t.transition},{default:()=>[Bt(y("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[Is,t.active]])]})),{}}}),fP=H({floating:Boolean,...Me()},"VFieldLabel"),Bu=ae()({name:"VFieldLabel",props:fP(),setup(t,e){let{slots:n}=e;return ge(()=>y(Il,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function Dx(t){const{t:e}=fi();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],o=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return y(lt,{icon:t[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const Nx=H({focused:Boolean,"onUpdate:focused":Yt()},"focus");function Gh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es();const n=ze(t,"focused"),i=R(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const gP=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Im=H({appendInnerIcon:Ve,bgColor:String,clearable:Boolean,clearIcon:{type:Ve,default:"$clear"},active:Boolean,centerAffix:Boolean,color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ve,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>gP.includes(t)},"onClick:clear":Yt(),"onClick:appendInner":Yt(),"onClick:prependInner":Yt(),...Me(),...Nh(),...dn(),...pt()},"VField"),Rm=ae()({name:"VField",inheritAttrs:!1,props:{id:String,...Nx(),...Im()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Et(t),{loaderClasses:a}=Vh(t),{focusClasses:o,isFocused:l,focus:u,blur:c}=Gh(t),{InputIcon:h}=Dx(t),{roundedClasses:d}=bn(t),{rtlClasses:g}=gi(),f=R(()=>t.singleLine||t.centerAffix),m=R(()=>t.dirty||t.active),v=R(()=>!f.value&&!!(t.label||s.label)),_=di(),p=R(()=>t.id||`input-${_}`),b=R(()=>`${p.value}-messages`),S=J(),x=J(),C=J(),E=R(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:M,backgroundColorStyles:w}=_n(le(t,"bgColor")),{textColorClasses:A,textColorStyles:P}=Mi(R(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor));he(m,k=>{if(v.value){const I=S.value.$el,j=x.value.$el;requestAnimationFrame(()=>{const N=sm(I),$=j.getBoundingClientRect(),V=$.x-N.x,U=$.y-N.y-(N.height/2-$.height/2),K=$.width/.75,oe=Math.abs(K-N.width)>1?{maxWidth:_e(K)}:void 0,Y=getComputedStyle(I),G=getComputedStyle(j),Z=parseFloat(Y.transitionDuration)*1e3||150,se=parseFloat(G.getPropertyValue("--v-field-label-scale")),Ge=G.getPropertyValue("color");I.style.visibility="visible",j.style.visibility="hidden",Br(I,{transform:`translate(${V}px, ${U}px) scale(${se})`,color:Ge,...oe},{duration:Z,easing:xl,direction:k?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),j.style.removeProperty("visibility")})})}},{flush:"post"});const T=R(()=>({isActive:m,isFocused:l,controlRef:C,blur:c,focus:u}));function F(k){k.target!==document.activeElement&&k.preventDefault()}function O(k){var I;k.key!=="Enter"&&k.key!==" "||(k.preventDefault(),k.stopPropagation(),(I=t["onClick:clear"])==null||I.call(t,new MouseEvent("click")))}return ge(()=>{var V,U,K;const k=t.variant==="outlined",I=!!(s["prepend-inner"]||t.prependInnerIcon),j=!!(t.clearable||s.clear),N=!!(s["append-inner"]||t.appendInnerIcon||j),$=()=>s.label?s.label({...T.value,label:t.label,props:{for:p.value}}):t.label;return y("div",ce({class:["v-field",{"v-field--active":m.value,"v-field--appended":N,"v-field--center-affix":t.centerAffix,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":I,"v-field--reverse":t.reverse,"v-field--single-line":f.value,"v-field--no-label":!$(),[`v-field--variant-${t.variant}`]:!0},r.value,M.value,o.value,a.value,d.value,g.value,t.class],style:[w.value,t.style],onClick:F},n),[y("div",{class:"v-field__overlay"},null),y(bm,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),I&&y("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&y(h,{key:"prepend-icon",name:"prependInner"},null),(V=s["prepend-inner"])==null?void 0:V.call(s,T.value)]),y("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&y(Bu,{key:"floating-label",ref:x,class:[A.value],floating:!0,for:p.value,style:P.value},{default:()=>[$()]}),y(Bu,{ref:S,for:p.value},{default:()=>[$()]}),(U=s.default)==null?void 0:U.call(s,{...T.value,props:{id:p.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:c})]),j&&y(Lx,{key:"clear"},{default:()=>[Bt(y("div",{class:"v-field__clearable",onMousedown:oe=>{oe.preventDefault(),oe.stopPropagation()}},[y(mt,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...T.value,props:{onKeydown:O,onFocus:u,onBlur:c,onClick:t["onClick:clear"]}}):y(h,{name:"clear",onKeydown:O,onFocus:u,onBlur:c},null)]})]),[[Is,t.dirty]])]}),N&&y("div",{key:"append",class:"v-field__append-inner"},[(K=s["append-inner"])==null?void 0:K.call(s,T.value),t.appendInnerIcon&&y(h,{key:"append-icon",name:"appendInner"},null)]),y("div",{class:["v-field__outline",A.value],style:P.value},[k&&y(Re,null,[y("div",{class:"v-field__outline__start"},null),v.value&&y("div",{class:"v-field__outline__notch"},[y(Bu,{ref:x,floating:!0,for:p.value},{default:()=>[$()]})]),y("div",{class:"v-field__outline__end"},null)]),E.value&&v.value&&y(Bu,{ref:x,floating:!0,for:p.value},{default:()=>[$()]})])])}),{controlRef:C}}});function Vx(t){const e=Object.keys(Rm.props).filter(n=>!Ch(n)&&n!=="class"&&n!=="style");return G1(t,e)}const mP=H({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Me(),...ou({transition:{component:kx,leaveAbsolute:!0,group:!0}})},"VMessages"),vP=ae()({name:"VMessages",props:mP(),setup(t,e){let{slots:n}=e;const i=R(()=>Vt(t.messages)),{textColorClasses:s,textColorStyles:r}=Mi(R(()=>t.color));return ge(()=>y(xi,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>y("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),yP=H({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Nx()},"validation");function _P(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:es(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:di();const i=ze(t,"modelValue"),s=R(()=>t.validationValue===void 0?i.value:t.validationValue),r=px(),a=J([]),o=ve(!0),l=R(()=>!!(Vt(i.value===""?null:i.value).length||Vt(s.value===""?null:s.value).length)),u=R(()=>!!(t.disabled??(r==null?void 0:r.isDisabled.value))),c=R(()=>!!(t.readonly??(r==null?void 0:r.isReadonly.value))),h=R(()=>{var x;return(x=t.errorMessages)!=null&&x.length?Vt(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),d=R(()=>{let x=(t.validateOn??(r==null?void 0:r.validateOn.value))||"input";x==="lazy"&&(x="input lazy");const C=new Set((x==null?void 0:x.split(" "))??[]);return{blur:C.has("blur")||C.has("input"),input:C.has("input"),submit:C.has("submit"),lazy:C.has("lazy")}}),g=R(()=>{var x;return t.error||(x=t.errorMessages)!=null&&x.length?!1:t.rules.length?o.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),f=ve(!1),m=R(()=>({[`${e}--error`]:g.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:u.value,[`${e}--readonly`]:c.value})),v=Pt("validation"),_=R(()=>t.name??Pe(n));jg(()=>{r==null||r.register({id:_.value,vm:v,validate:S,reset:p,resetValidation:b})}),Fn(()=>{r==null||r.unregister(_.value)}),Ln(async()=>{d.value.lazy||await S(!0),r==null||r.update(_.value,g.value,h.value)}),Rs(()=>d.value.input,()=>{he(s,()=>{if(s.value!=null)S();else if(t.focused){const x=he(()=>t.focused,C=>{C||S(),x()})}})}),Rs(()=>d.value.blur,()=>{he(()=>t.focused,x=>{x||S()})}),he([g,h],()=>{r==null||r.update(_.value,g.value,h.value)});async function p(){i.value=null,await ct(),await b()}async function b(){o.value=!0,d.value.lazy?a.value=[]:await S(!0)}async function S(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=[];f.value=!0;for(const E of t.rules){if(C.length>=+(t.maxErrors??1))break;const w=await(typeof E=="function"?E:()=>E)(s.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}C.push(w||"")}}return a.value=C,f.value=!1,o.value=x,a.value}return{errorMessages:h,isDirty:l,isDisabled:u,isReadonly:c,isPristine:o,isValid:g,isValidating:f,reset:p,resetValidation:b,validate:S,validationClasses:m}}const Uh=H({id:String,appendIcon:Ve,centerAffix:Boolean,prependIcon:Ve,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Yt(),"onClick:append":Yt(),...Me(),...Dn(),...IT(Pi(),["maxWidth","minWidth","width"]),...pt(),...yP()},"VInput"),no=ae()({name:"VInput",props:{...Uh()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=mi(t),{dimensionStyles:a}=ki(t),{themeClasses:o}=Et(t),{rtlClasses:l}=gi(),{InputIcon:u}=Dx(t),c=di(),h=R(()=>t.id||`input-${c}`),d=R(()=>`${h.value}-messages`),{errorMessages:g,isDirty:f,isDisabled:m,isReadonly:v,isPristine:_,isValid:p,isValidating:b,reset:S,resetValidation:x,validate:C,validationClasses:E}=_P(t,"v-input",h),M=R(()=>({id:h,messagesId:d,isDirty:f,isDisabled:m,isReadonly:v,isPristine:_,isValid:p,isValidating:b,reset:S,resetValidation:x,validate:C})),w=R(()=>{var A;return(A=t.errorMessages)!=null&&A.length||!_.value&&g.value.length?g.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return ge(()=>{var O,k,I,j;const A=!!(i.prepend||t.prependIcon),P=!!(i.append||t.appendIcon),T=w.value.length>0,F=!t.hideDetails||t.hideDetails==="auto"&&(T||!!i.details);return y("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,E.value,t.class],style:[a.value,t.style]},[A&&y("div",{key:"prepend",class:"v-input__prepend"},[(O=i.prepend)==null?void 0:O.call(i,M.value),t.prependIcon&&y(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&y("div",{class:"v-input__control"},[(k=i.default)==null?void 0:k.call(i,M.value)]),P&&y("div",{key:"append",class:"v-input__append"},[t.appendIcon&&y(u,{key:"append-icon",name:"append"},null),(I=i.append)==null?void 0:I.call(i,M.value)]),F&&y("div",{class:"v-input__details"},[y(vP,{id:d.value,active:T,messages:w.value},{message:i.message}),(j=i.details)==null?void 0:j.call(i,M.value)])])}),{reset:S,resetValidation:x,validate:C,isValid:p,errorMessages:g}}}),pP=["color","file","time","date","datetime-local","week","month"],Bx=H({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Uh(),...Im()},"VTextField"),nt=ae()({name:"VTextField",directives:{Intersect:Sm},inheritAttrs:!1,props:Bx(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=ze(t,"modelValue"),{isFocused:a,focus:o,blur:l}=Gh(t),u=R(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),c=R(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),h=R(()=>["plain","underlined"].includes(t.variant));function d(C,E){var M,w;!t.autofocus||!C||(w=(M=E[0].target)==null?void 0:M.focus)==null||w.call(M)}const g=J(),f=J(),m=J(),v=R(()=>pP.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function _(){var C;m.value!==document.activeElement&&((C=m.value)==null||C.focus()),a.value||o()}function p(C){i("mousedown:control",C),C.target!==m.value&&(_(),C.preventDefault())}function b(C){_(),i("click:control",C)}function S(C){C.stopPropagation(),_(),ct(()=>{r.value=null,j1(t["onClick:clear"],C)})}function x(C){var M;const E=C.target;if(r.value=E.value,(M=t.modelModifiers)!=null&&M.trim&&["text","search","password","tel","url"].includes(t.type)){const w=[E.selectionStart,E.selectionEnd];ct(()=>{E.selectionStart=w[0],E.selectionEnd=w[1]})}}return ge(()=>{const C=!!(s.counter||t.counter!==!1&&t.counter!=null),E=!!(C||s.details),[M,w]=Eh(n),{modelValue:A,...P}=no.filterProps(t),T=Vx(t);return y(no,ce({ref:g,modelValue:r.value,"onUpdate:modelValue":F=>r.value=F,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":h.value},t.class],style:t.style},M,P,{focused:a.value}),{...s,default:F=>{let{id:O,isDisabled:k,isDirty:I,isReadonly:j,isValid:N}=F;return y(Rm,ce({ref:f,onMousedown:p,onClick:b,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},T,{id:O.value,active:v.value||I.value,dirty:I.value||t.dirty,disabled:k.value,focused:a.value,centerAffix:t.centerAffix,error:N.value===!1}),{...s,default:$=>{let{props:{class:V,...U}}=$;const K=Bt(y("input",ce({ref:m,value:r.value,onInput:x,autofocus:t.autofocus,readonly:j.value,disabled:k.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:_,onBlur:l},U,w),null),[[ks("intersect"),{handler:d},null,{once:!0}]]);return y(Re,null,[t.prefix&&y("span",{class:"v-text-field__prefix"},[y("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?y("div",{class:V,"data-no-activator":""},[s.default(),K]):Ms(K,{class:V}),t.suffix&&y("span",{class:"v-text-field__suffix"},[y("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:E?F=>{var O;return y(Re,null,[(O=s.details)==null?void 0:O.call(s,F),C&&y(Re,null,[y("span",null,null),y(Fx,{active:t.persistentCounter||a.value,value:u.value,max:c.value,disabled:t.disabled},s.counter)])])}:void 0})}),Mr({},g,f,m)}}),bP=H({text:String,...Me(),...dt()},"VToolbarTitle"),io=ae()({name:"VToolbarTitle",props:bP(),setup(t,e){let{slots:n}=e;return ge(()=>{const i=!!(n.default||n.text||t.text);return y(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&y("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),xP=[null,"prominent","default","comfortable","compact"],$x=H({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>xP.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ns(),...Me(),...Ri(),...dn(),...dt({tag:"header"}),...pt()},"VToolbar"),so=ae()({name:"VToolbar",props:$x(),setup(t,e){var g;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=_n(le(t,"color")),{borderClasses:r}=Fs(t),{elevationClasses:a}=is(t),{roundedClasses:o}=bn(t),{themeClasses:l}=Et(t),{rtlClasses:u}=gi(),c=ve(!!(t.extended||(g=n.extension)!=null&&g.call(n))),h=R(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),d=R(()=>c.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Ei({VBtn:{variant:"text"}}),ge(()=>{var _;const f=!!(t.title||n.title),m=!!(n.image||t.image),v=(_=n.extension)==null?void 0:_.call(n);return c.value=!!(t.extended||v),y(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,u.value,t.class],style:[s.value,t.style]},{default:()=>[m&&y("div",{key:"image",class:"v-toolbar__image"},[n.image?y(mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):y(Cm,{key:"image-img",cover:!0,src:t.image},null)]),y(mt,{defaults:{VTabs:{height:_e(h.value)}}},{default:()=>{var p,b,S;return[y("div",{class:"v-toolbar__content",style:{height:_e(h.value)}},[n.prepend&&y("div",{class:"v-toolbar__prepend"},[(p=n.prepend)==null?void 0:p.call(n)]),f&&y(io,{key:"title",text:t.title},{text:n.title}),(b=n.default)==null?void 0:b.call(n),n.append&&y("div",{class:"v-toolbar__append"},[(S=n.append)==null?void 0:S.call(n)])])]}}),y(mt,{defaults:{VTabs:{height:_e(d.value)}}},{default:()=>[y(Ox,null,{default:()=>[c.value&&y("div",{class:"v-toolbar__extension",style:{height:_e(d.value)}},[v])]})]})]})}),{contentHeight:h,extensionHeight:d}}}),yi=ts("Login-Vue",4,2),wP={name:"LoginVue",data:()=>({drawer:null,username:null,password:null,showPassword:!1,validLoginForm:!1,feedbackVisible:!1,feedbackText:"Veuillez vous authentifier SVP.",feedbackType:"info"}),props:{base_server_url:{type:String,default:cr},app:{type:String,default:"APP"},jwt_auth_url:{type:String}},mounted(){yi.t("# IN mounted()"),this.$refs.username.focus()},methods:{onEnterKey(){return yi.t("# IN onEnterKey()"),this.username.trim().length<1?(this.displayFeedBack("Veuillez saisir votre utilisateur, il est obligatoire!"),this.$refs.username.focus(),!1):this.password.trim().length<1?(this.displayFeedBack("Veuillez saisir votre mot de passe, il est obligatoire!"),!1):(this.getJwtToken(),!0)},displayFeedBack(t,e){this.feedbackText=t,this.feedbackType=e,this.feedbackVisible=!0},resetFeedBack(){this.feedbackText="",this.feedbackType="info",this.feedbackVisible=!1},getJwtToken:async function(){if(yi.t("# IN getJwtToken()"),this.resetFeedBack(),await this.$refs["login-form"].validate())try{const t=await gA(this.password);yi.l(`password hash: ${t}`);const e=await Qb(this.app,this.base_server_url,this.jwt_auth_url,this.username,t).then(n=>{n.data==null?(Vi(n.err)?(yi.w(`# getToken received status ${n.status}`,n),this.displayFeedBack("Vos informations de connexions sont errones !","warning")):(yi.w(`# getJwtToken() ${n.msg}, ERROR is: `,n.err),this.displayFeedBack(`Le serveur est inaccessible : ${n.err}`,"error")),this.$emit("loginError","LOGIN FAILED",n.err)):(yi.l("# getJwtToken() SUCCESS val.data: ",n.data),this.$emit("login-ok","LOGIN SUCCESS"))}).catch(n=>{yi.e("# getJwtToken() in catch ERROR err: ",n),this.displayFeedBack(`Il semble qu'il y a un problme de rseau !${n}`,"error"),this.$emit("loginError","LOGIN ERROR",n)});yi.l("# getJwtToken() after getToken res:",e)}catch(t){yi.t("# getJwtToken() TRY CATCH ERROR : ",t)}else this.username.trim().length<1?this.displayFeedBack("Veuillez saisir votre utilisateur, il est obligatoire!"):this.password.trim().length<1&&this.displayFeedBack("Veuillez saisir votre mot de passe, il est obligatoire!");yi.t("# GOING OUT getJwtToken()")}}};function SP(t,e,n,i,s,r){return ii(),Qr(Nc,{class:"fluid fill-height"},{default:B(()=>[y(Tl,{class:"d-flex align-center text-center fill-height"},{default:B(()=>[y(zn,{class:"d-flex align-center justify-center"},{default:B(()=>[y(Ue,{cols:"auto"},{default:B(()=>[y(qr,{class:"mx-auto elevation-12","min-width":"385"},{default:B(()=>[y(so,{density:"compact",dark:"",color:"primary"},{default:B(()=>[y(io,null,{default:B(()=>[Be(xt(n.app),1)]),_:1})]),_:1}),y(na,null,{default:B(()=>[y(JA,{ref:"login-form",modelValue:t.validLoginForm,"onUpdate:modelValue":e[3]||(e[3]=a=>t.validLoginForm=a),"lazy-validation":""},{default:B(()=>[y(nt,{id:"username",name:"username",ref:"username",modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.username=a),required:"",autocomplete:"username","prepend-icon":"mdi-account",cleareable:"","hide-details":"auto",rules:[()=>!!t.username||"Veuillez saisir votre login, il est obligatoire"],onKeyup:Sy(r.onEnterKey,["enter"]),label:"Utilisateur",hint:"Entrez votre utilisateur",type:"text"},null,8,["modelValue","rules","onKeyup"]),y(nt,{id:"password",name:"password",ref:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a),required:"",autocomplete:"current-password","prepend-icon":"mdi-key",rules:[()=>!!t.password||"Veuillez saisir votre mot de passe, il est obligatoire"],label:"Mot de passe",hint:"Veuillez saisir votre mot de passe","append-inner-icon":t.showPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=a=>t.showPassword=!t.showPassword),onKeyup:Sy(r.onEnterKey,["enter"]),type:t.showPassword?"text":"password"},null,8,["modelValue","rules","append-inner-icon","onKeyup","type"]),t.feedbackVisible?(ii(),ic(Re,{key:0},[y(lt,{color:"red",icon:"mdi-alert-circle"}),y(Il,{class:"pl-1",value:t.feedbackVisible,color:t.feedbackType,icon:t.feedbackType,outlined:""},{default:B(()=>[Be(xt(t.feedbackText),1)]),_:1},8,["value","color","icon"])],64)):pc("",!0)]),_:1},8,["modelValue"])]),_:1}),y(Ml,null,{default:B(()=>[y(bs),y(Ye,{dark:"",color:"primary",variant:"flat","prepend-icon":"mdi-location-enter",onClick:Qa(r.getJwtToken,["prevent"])},{default:B(()=>[Be("Connexion")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const CP=pA(wP,[["render",SP]]),Vc=100,Oe=ts("ThingStore",4,2);let ei;const P0=1e3;crypto.randomUUID();crypto.randomUUID();const Am=Rb("Thing",{state:()=>({records:[],arrListTypeThing:[],dicoTypeThing:{},dicoTypeThingIconPath:{},searchParameters:{inactivated:!1,limit:Vc,offset:0},areWeReady:!1,isThereAnError:!1,lastErrorMessage:"",isInitDone:!1}),getters:{numRecords:t=>t.records.length,numTypeThings:t=>t.arrListTypeThing.length,busyDoingNetWork:t=>!t.areWeReady,getGeoJson:t=>{if(Oe.t(`> Entering getGeoJson.. records.length : ${t.records.length}`),t.records.length>0){let e=null,n='{"type": "FeatureCollection", "features": [';t.records.forEach(i=>{const s=`
           {
            "type": "Feature",
            "geometry": {
              "type": "Point",
              "crs": {
                "type": "name",
                "properties": {
                  "name": "EPSG:2056"
                }
              },
              "coordinates": [${i.pos_x}, ${i.pos_y}]
              },
              "properties": {
                "id": "${i.id}",
                "type_id": ${i.type_id},
                "name": "${i.name}",
                "external_id": ${i.external_id},
                "icon_path": "${t.dicoTypeThingIconPath[i.type_id]}"
              }},`;n+=s}),n.endsWith(",")&&(n=n.slice(0,-1)),n+="]}";try{e=hA(n)}catch(i){Oe.w(`> Error in getGeoJson.. JSON.parse(result) : ${i}`,n)}return e}return{type:"FeatureCollection",features:[]}}},actions:{setAuthToken(t){Oe.t(`# entering setAuthToken... ${t}`),(t==null||t==="")&&Oe.w("cannot set Authorization Header with null or undefined token"),ei.defaults.headers.common.Authorization=`Bearer ${t}`},setAxiosWithCredentials(t){Oe.t(`# entering setAxiosWithCredentials(${t})`),ei.defaults.withCredentials=t},async get(t){Oe.t(`> Entering getThing: ${t}`),this.clearError(),this.areWeReady=!1;try{const e=await ei.get("thing/"+t);return Oe.l(`SUCCESS myAPi.get(id:${e.data.id}`),e.status==200?(this.areWeReady=!0,{data:e.data,err:null}):(this.areWeReady=!0,Oe.w("getThing got problem",e),{data:null,err:Error(`problem in getThing status : ${e.status}, ${e.statusText}`)})}catch(e){if(et.isAxiosError(e))if(Oe.w(`Try Catch Axios ERROR message:${e.message}, error:`,e),e.response!==void 0&&e.response.data!==void 0){const n=Vi(e.response.data.message)?"":e.response.data.message,i=`getThing error : ${e.message}. Server says : ${n}`;return Oe.w(i),{data:null,err:Error(i)}}else return{data:null,err:Error(`getThing error : ${e.message}.`)};else return Oe.e("unexpected error: ",e),{data:null,err:Error(`unexpected error: in getThing Try catch : ${e}`)}}},async search(t){Oe.t(`> Entering searchThing.. typeThing: ${t.typeThing}, createdBy: ${t.createdBy} `),this.clearError();const e=performance.now();this.areWeReady=!1;const n=()=>{this.records.length>0&&this.records.splice(0)},i=k0(t);n();const s=performance.now();Oe.l(`>> in searchThing.. afterClearRecordsTime: ${Math.round(s-e)} milliseconds `);try{const r=await ei.get("thing/search"+i),a=performance.now();Oe.l(`>> in searchThing.. afterAwaitMyAxiosGetTime: ${Math.round(a-s)} milliseconds `),Oe.l("myAxios.get(thing/search) : "),this.records=r.data;const o=performance.now();return Oe.l(`>> in searchThing.. afterRespDataForEachTime: ${Math.round(o-a)} milliseconds `),this.areWeReady=!0,{data:r.data,err:null}}catch(r){if(this.areWeReady=!0,this.isThereAnError=!0,et.isAxiosError(r))if(Oe.w(`Try Catch Axios ERROR message:${r.message}, error:`,r),this.lastErrorMessage=r.message,r.response!==void 0&&r.response.data!==void 0){const a=Vi(r.response.data.message)?"":r.response.data.message;return{data:null,err:Error(`searchThing error : ${r.message}. Server says : ${a}`)}}else return{data:null,err:Error(`searchThing error : ${r.message}.`)};else return Oe.e(" unexpected error: ",r),this.lastErrorMessage=`${r}`,{data:null,err:Error(` searchThing error: in Try catch : ${r}`)}}},async create(t,e){Oe.t(`> Entering.. createThing: ${t}`),e.pos_x!==void 0&&(e.pos_x=+e.pos_x),e.pos_y!==void 0&&(e.pos_y=+e.pos_y),this.clearError(),this.areWeReady=!1;try{const n=await ei.post("thing",e);return Oe.l("myAxios.post(thing) : ",n),this.areWeReady=!0,{data:n.data,err:null}}catch(n){if(this.areWeReady=!0,et.isAxiosError(n))if(Oe.w(`Try Catch Axios ERROR message:${n.message}, error:`,n),n.response!==void 0&&n.response.data!==void 0){const i=Vi(n.response.data.message)?"":n.response.data.message;return{data:null,err:Error(`createThing error : ${n.message}. Server says : ${i}`)}}else return{data:null,err:Error(`createThing error : ${n.message}.`)};else return Oe.e(" unexpected error: ",n),{data:null,err:Error(` createThing error: in deleteThing Try catch : ${n}`)}}},async update(t,e){Oe.t(`> Entering.. updateThing: ${t}`),e.pos_x!==void 0&&(e.pos_x=+e.pos_x),e.pos_y!==void 0&&(e.pos_y=+e.pos_y),this.clearError(),this.areWeReady=!1;try{const n=await ei.put("thing/"+t,e);return Oe.l("myAxios.put(thing/id) : ",n),this.areWeReady=!0,{data:n.data,err:null}}catch(n){if(this.areWeReady=!0,et.isAxiosError(n))if(Oe.w(`Try Catch Axios ERROR message:${n.message}, error:`,n),n.response!==void 0&&n.response.data!==void 0){const i=Vi(n.response.data.message)?"":n.response.data.message;return{data:null,err:Error(`updateThing error : ${n.message}. Server says : ${i}`)}}else return{data:null,err:Error(`updateThing error : ${n.message}.`)};else return Oe.e(" unexpected error: ",n),{data:null,err:Error(` updateThing error: in deleteThing Try catch : ${n}`)}}},async count(t){Oe.t(`> Entering.. typeThing: ${t.typeThing}, createdBy: ${t.createdBy} `),this.clearError();const e=k0(t);try{return(await ei.get("thing/search"+e)).data}catch(n){return et.isAxiosError(n)?n.response!==void 0?Oe.w(`countThing error : ${n.message}. Server says : ${n.response.data}`):Oe.w(`countThing error : ${n.message}.`):Oe.e("unexpected error: ",n),0}},async delete(t){Oe.t(`> Entering.. deleteThing: ${t}`),this.clearError(),this.areWeReady=!1;try{const e=await ei.delete("thing/"+t);return Oe.l("myAPi._delete : ",e),this.areWeReady=!0,{data:null,err:null}}catch(e){if(this.areWeReady=!0,et.isAxiosError(e))if(Oe.w(`Try Catch Axios ERROR message:${e.message}, error:`,e),e.response!==void 0&&e.response.data!==void 0){const n=Vi(e.response.data.message)?"":e.response.data.message;return{data:null,err:Error(`deleteThing error : ${e.message}. Server says : ${n}`)}}else return{data:null,err:Error(`deleteThing error : ${e.message}.`)};else return Oe.e(" unexpected error: ",e),{data:null,err:Error(` unexpected error: in deleteThing Try catch : ${e}`)}}},async getTypes(){Oe.t("> Entering getTypes:"),this.clearError(),this.areWeReady=!1;try{const t=await ei.get("types");return Oe.l("SUCCESS myAPi.getTypes"),t.status==200?(t.data.forEach(e=>{this.arrListTypeThing.push(e)}),this.areWeReady=!0,{data:t.data,err:null}):(this.areWeReady=!0,Oe.w("getTypes got problem",t),{data:null,err:Error(`problem in getTypes status : ${t.status}, ${t.statusText}`)})}catch(t){if(et.isAxiosError(t))if(Oe.w(`getTypes Try Catch Axios ERROR message:${t.message}, error:`,t),t.response!==void 0&&t.response.data!==void 0){const e=Vi(t.response.data.message)?"":t.response.data.message,n=`getTypes error : ${t.message}. Server says : ${e}`;return Oe.w(n),{data:null,err:Error(n)}}else return{data:null,err:Error(`getTypes error : ${t.message}.`)};else return Oe.e("unexpected error: ",t),{data:null,err:Error(`unexpected error: in getTypes Try catch : ${t}`)}}},getIconPath(t){return this.arrListTypeThing.forEach(e=>{if(e.id==t)return e.icon_path}),"/img/gomarker_star_blue.png"},async init(t,e,n){Oe.t(`> Entering ThingStore init token:${e}`),this.clearError(),this.areWeReady=!1,this.searchParameters=Object.assign({},t);const i=cr+um;Oe.w(`init about to create myAxios baseUrl: ${i},  isHttpOnlyCookieJwt:${n}`),ei=et.create({baseURL:i,timeout:Cb}),n?ei.defaults.withCredentials=!0:((e==null||e==="")&&Oe.w("cannot set Authorization Header with null or undefined token"),ei.defaults.headers.common.Authorization=`Bearer ${e}`);const s=await this.getTypes();if(s.err===null)Oe.l("ok, doing getTypes() ");else{const r=`problem in ThingStore init doing getTypes() error:${s.err.message}`;Oe.w(r)}this.dicoTypeThing=Object.fromEntries(this.arrListTypeThing.map(r=>[r.id,r.name])),this.dicoTypeThingIconPath=Object.fromEntries(this.arrListTypeThing.map(r=>[r.id,r.icon_path])),this.areWeReady=!0,this.isInitDone=!0},clearError(){this.isThereAnError=!1,this.lastErrorMessage=""}}}),k0=t=>{const e=Object.assign({},t);e.limit==null&&(e.limit=Vc),e.offset==null&&(e.offset=0),e.inactivated==null&&(e.inactivated=!1),t.typeThing!=null&&(e.typeThing=t.typeThing==0?void 0:t.typeThing),t.searchKeywords!=null&&(e.searchKeywords=t.searchKeywords==""?void 0:t.searchKeywords),t.createdBy!=null&&(e.createdBy=t.createdBy==0?void 0:t.createdBy);let n=`?inactivated=${e.inactivated}&limit=${e.limit}&offset=${e.offset}`;return n+=e.searchKeywords!=null?`&keywords=${e.searchKeywords}`:"",n+=e.typeThing!=null?`&type=${e.typeThing}`:"",n+=e.createdBy!=null?`&created_by=${e.createdBy}`:"",n+=e.validated!==void 0?`&validated=${e.validated}`:"",Oe.t(`After adjusting typeThing: ${e.typeThing}, keywords: ${e.searchKeywords}, createdBy: ${e.createdBy} `),n},Gx=Zl("v-alert-title"),EP=["success","info","warning","error"],MP=H({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ve,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>EP.includes(t)},...Me(),...Dn(),...Pi(),...Ri(),...So(),...su(),...dn(),...dt(),...pt(),...Ai({variant:"flat"})},"VAlert"),Xf=ae()({name:"VAlert",props:MP(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=ze(t,"modelValue"),r=R(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=R(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Et(t),{colorClasses:l,colorStyles:u,variantClasses:c}=ua(a),{densityClasses:h}=mi(t),{dimensionStyles:d}=ki(t),{elevationClasses:g}=is(t),{locationStyles:f}=iu(t),{positionClasses:m}=ru(t),{roundedClasses:v}=bn(t),{textColorClasses:_,textColorStyles:p}=Mi(le(t,"borderColor")),{t:b}=fi(),S=R(()=>({"aria-label":b(t.closeLabel),onClick(x){s.value=!1,n("click:close",x)}}));return()=>{const x=!!(i.prepend||r.value),C=!!(i.title||t.title),E=!!(i.close||t.closable);return s.value&&y(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,h.value,g.value,m.value,v.value,c.value,t.class],style:[u.value,d.value,f.value,t.style],role:"alert"},{default:()=>{var M,w;return[la(!1,"v-alert"),t.border&&y("div",{key:"border",class:["v-alert__border",_.value],style:p.value},null),x&&y("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?y(mt,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):y(lt,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),y("div",{class:"v-alert__content"},[C&&y(Gx,{key:"title"},{default:()=>{var A;return[((A=i.title)==null?void 0:A.call(i))??t.title]}}),((M=i.text)==null?void 0:M.call(i))??t.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&y("div",{key:"append",class:"v-alert__append"},[i.append()]),E&&y("div",{key:"close",class:"v-alert__close"},[i.close?y(mt,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var A;return[(A=i.close)==null?void 0:A.call(i,{props:S.value})]}}):y(Ye,ce({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},S.value),null)])]}})}}}),Ux=Symbol.for("vuetify:selection-control-group"),zx=H({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ve,trueIcon:Ve,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Er},...Me(),...Dn(),...pt()},"SelectionControlGroup"),TP=H({...zx({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");ae()({name:"VSelectionControlGroup",props:TP(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),s=di(),r=R(()=>t.id||`v-selection-control-group-${s}`),a=R(()=>t.name||r.value),o=new Set;return Ct(Ux,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),hn(()=>{o.delete(l)})}}),Ei({[t.defaultsTarget]:{color:le(t,"color"),disabled:le(t,"disabled"),density:le(t,"density"),error:le(t,"error"),inline:le(t,"inline"),modelValue:i,multiple:R(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:le(t,"falseIcon"),trueIcon:le(t,"trueIcon"),readonly:le(t,"readonly"),ripple:le(t,"ripple"),type:le(t,"type"),valueComparator:le(t,"valueComparator")}}),ge(()=>{var l;return y("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const Wx=H({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Me(),...zx()},"VSelectionControl");function IP(t){const e=He(Ux,void 0),{densityClasses:n}=mi(t),i=ze(t,"modelValue"),s=R(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=R(()=>t.falseValue!==void 0?t.falseValue:!1),a=R(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=R({get(){const g=e?e.modelValue.value:i.value;return a.value?Vt(g).some(f=>t.valueComparator(f,s.value)):t.valueComparator(g,s.value)},set(g){if(t.readonly)return;const f=g?s.value:r.value;let m=f;a.value&&(m=g?[...Vt(i.value),f]:Vt(i.value).filter(v=>!t.valueComparator(v,s.value))),e?e.modelValue.value=m:i.value=m}}),{textColorClasses:l,textColorStyles:u}=Mi(R(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:h}=_n(R(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),d=R(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,icon:d}}const O0=ae()({name:"VSelectionControl",directives:{Ripple:au},inheritAttrs:!1,props:Wx(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,trueValue:d}=IP(t),g=di(),f=ve(!1),m=ve(!1),v=J(),_=R(()=>t.id||`input-${g}`),p=R(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{v.value&&(v.value.checked=o.value)});function b(E){p.value&&(f.value=!0,Mc(E.target,":focus-visible")!==!1&&(m.value=!0))}function S(){f.value=!1,m.value=!1}function x(E){E.stopPropagation()}function C(E){if(!p.value){v.value&&(v.value.checked=o.value);return}t.readonly&&s&&ct(()=>s.forceUpdate()),o.value=E.target.checked}return ge(()=>{var P,T;const E=i.label?i.label({label:t.label,props:{for:_.value}}):t.label,[M,w]=Eh(n),A=y("input",ce({ref:v,checked:o.value,disabled:!!t.disabled,id:_.value,onBlur:S,onFocus:b,onInput:C,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:d.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},w),null);return y("div",ce({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":f.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},r.value,t.class]},M,{style:t.style}),[y("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(P=i.default)==null?void 0:P.call(i,{backgroundColorClasses:c,backgroundColorStyles:h}),Bt(y("div",{class:["v-selection-control__input"]},[((T=i.input)==null?void 0:T.call(i,{model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,inputNode:A,icon:a.value,props:{onFocus:b,onBlur:S,id:_.value}}))??y(Re,null,[a.value&&y(lt,{key:"icon",icon:a.value},null),A])]),[[ks("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),E&&y(Il,{for:_.value,onClick:x},{default:()=>[E]})])}),{isFocused:f,input:v}}}),jx=H({indeterminate:Boolean,indeterminateIcon:{type:Ve,default:"$checkboxIndeterminate"},...Wx({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),mr=ae()({name:"VCheckboxBtn",props:jx(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"indeterminate"),s=ze(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=R(()=>i.value?t.indeterminateIcon:t.falseIcon),o=R(()=>i.value?t.indeterminateIcon:t.trueIcon);return ge(()=>{const l=cn(O0.filterProps(t),["modelValue"]);return y(O0,ce(l,{modelValue:s.value,"onUpdate:modelValue":[u=>s.value=u,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}}),RP=H({...Uh(),...cn(jx(),["inline"])},"VCheckbox"),nl=ae()({name:"VCheckbox",inheritAttrs:!1,props:RP(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ze(t,"modelValue"),{isFocused:r,focus:a,blur:o}=Gh(t),l=di(),u=R(()=>t.id||`checkbox-${l}`);return ge(()=>{const[c,h]=Eh(n),d=no.filterProps(t),g=mr.filterProps(t);return y(no,ce({class:["v-checkbox",t.class]},c,d,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,id:u.value,focused:r.value,style:t.style}),{...i,default:f=>{let{id:m,messagesId:v,isDisabled:_,isReadonly:p,isValid:b}=f;return y(mr,ce(g,{id:m.value,"aria-describedby":v.value,disabled:_.value,readonly:p.value},h,{error:b.value===!1,modelValue:s.value,"onUpdate:modelValue":S=>s.value=S,onFocus:a,onBlur:o}),i)}})}),{}}});function AP(){const t=J([]);s1(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const PP=H({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ve,default:"$first"},prevIcon:{type:Ve,default:"$prev"},nextIcon:{type:Ve,default:"$next"},lastIcon:{type:Ve,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ns(),...Me(),...Dn(),...Ri(),...dn(),...wo(),...dt({tag:"nav"}),...pt(),...Ai({variant:"text"})},"VPagination"),L0=ae()({name:"VPagination",props:PP(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=ze(t,"modelValue"),{t:r,n:a}=fi(),{isRtl:o}=gi(),{themeClasses:l}=Et(t),{width:u}=Ls(),c=ve(-1);Ei(void 0,{scoped:!0});const{resizeRef:h}=gr(M=>{if(!M.length)return;const{target:w,contentRect:A}=M[0],P=w.querySelector(".v-pagination__list > *");if(!P)return;const T=A.width,F=P.offsetWidth+parseFloat(getComputedStyle(P).marginRight)*2;c.value=m(T,F)}),d=R(()=>parseInt(t.length,10)),g=R(()=>parseInt(t.start,10)),f=R(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):c.value>=0?c.value:m(u.value,58));function m(M,w){const A=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((M-w*A)/w).toFixed(2)))}const v=R(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(f.value<=0)return[];if(f.value===1)return[s.value];if(d.value<=f.value)return tr(d.value,g.value);const M=f.value%2===0,w=M?f.value/2:Math.floor(f.value/2),A=M?w:w+1,P=d.value-w;if(A-s.value>=0)return[...tr(Math.max(1,f.value-1),g.value),t.ellipsis,d.value];if(s.value-P>=(M?1:0)){const T=f.value-1,F=d.value-T+g.value;return[g.value,t.ellipsis,...tr(T,F)]}else{const T=Math.max(1,f.value-3),F=T===1?s.value:s.value-Math.ceil(T/2)+g.value;return[g.value,t.ellipsis,...tr(T,F),t.ellipsis,d.value]}});function _(M,w,A){M.preventDefault(),s.value=w,A&&i(A,w)}const{refs:p,updateRef:b}=AP();Ei({VPaginationBtn:{color:le(t,"color"),border:le(t,"border"),density:le(t,"density"),size:le(t,"size"),variant:le(t,"variant"),rounded:le(t,"rounded"),elevation:le(t,"elevation")}});const S=R(()=>v.value.map((M,w)=>{const A=P=>b(P,w);if(typeof M=="string")return{isActive:!1,key:`ellipsis-${w}`,page:M,props:{ref:A,ellipsis:!0,icon:!0,disabled:!0}};{const P=M===s.value;return{isActive:P,key:M,page:a(M),props:{ref:A,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:P?t.activeColor:t.color,"aria-current":P,"aria-label":r(P?t.currentPageAriaLabel:t.pageAriaLabel,M),onClick:T=>_(T,M)}}}})),x=R(()=>{const M=!!t.disabled||s.value<=g.value,w=!!t.disabled||s.value>=g.value+d.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:A=>_(A,g.value,"first"),disabled:M,"aria-label":r(t.firstAriaLabel),"aria-disabled":M}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:A=>_(A,s.value-1,"prev"),disabled:M,"aria-label":r(t.previousAriaLabel),"aria-disabled":M},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:A=>_(A,s.value+1,"next"),disabled:w,"aria-label":r(t.nextAriaLabel),"aria-disabled":w},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:A=>_(A,g.value+d.value-1,"last"),disabled:w,"aria-label":r(t.lastAriaLabel),"aria-disabled":w}:void 0}});function C(){var w;const M=s.value-g.value;(w=p.value[M])==null||w.$el.focus()}function E(M){M.key===My.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,ct(C)):M.key===My.right&&!t.disabled&&s.value<g.value+d.value-1&&(s.value=s.value+1,ct(C))}return ge(()=>y(t.tag,{ref:h,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:E,"data-test":"v-pagination-root"},{default:()=>[y("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&y("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(x.value.first):y(Ye,ce({_as:"VPaginationBtn"},x.value.first),null)]),y("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(x.value.prev):y(Ye,ce({_as:"VPaginationBtn"},x.value.prev),null)]),S.value.map((M,w)=>y("li",{key:M.key,class:["v-pagination__item",{"v-pagination__item--is-active":M.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(M):y(Ye,ce({_as:"VPaginationBtn"},M.props),{default:()=>[M.page]})])),y("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(x.value.next):y(Ye,ce({_as:"VPaginationBtn"},x.value.next),null)]),t.showFirstLastPage&&y("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(x.value.last):y(Ye,ce({_as:"VPaginationBtn"},x.value.last),null)])])]})),{}}});function kP(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Rl(s,n),a=Hx(s,i,n),o=Rl(s,e),l=Yx(s,e),u=o*.4;return a>l?l-u:a+r<l+o?l-r+o+u:a}function OP(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Rl(i,n),r=Yx(i,e),a=Rl(i,e);return r-s/2+a/2}function F0(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function LP(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function Hx(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Rl(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function Yx(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const FP=Symbol.for("vuetify:v-slide-group"),Pm=H({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:FP},nextIcon:{type:Ve,default:"$next"},prevIcon:{type:Ve,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Me(),...Ih({mobile:null}),...dt(),...ym({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Bc=ae()({name:"VSlideGroup",props:Pm(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=gi(),{displayClasses:s,mobile:r}=Ls(t),a=Dh(t,t.symbol),o=ve(!1),l=ve(0),u=ve(0),c=ve(0),h=R(()=>t.direction==="horizontal"),{resizeRef:d,contentRect:g}=gr(),{resizeRef:f,contentRect:m}=gr(),v=hI(),_=R(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),p=R(()=>a.selected.value.length?a.items.value.findIndex(V=>V.id===a.selected.value[0]):-1),b=R(()=>a.selected.value.length?a.items.value.findIndex(V=>V.id===a.selected.value[a.selected.value.length-1]):-1);if(gt){let V=-1;he(()=>[a.selected.value,g.value,m.value,h.value],()=>{cancelAnimationFrame(V),V=requestAnimationFrame(()=>{if(g.value&&m.value){const U=h.value?"width":"height";u.value=g.value[U],c.value=m.value[U],o.value=u.value+1<c.value}if(p.value>=0&&f.el){const U=f.el.children[b.value];x(U,t.centerActive)}})})}const S=ve(!1);function x(V,U){let K=0;U?K=OP({containerElement:d.el,isHorizontal:h.value,selectedElement:V}):K=kP({containerElement:d.el,isHorizontal:h.value,isRtl:i.value,selectedElement:V}),C(K)}function C(V){if(!gt||!d.el)return;const U=Rl(h.value,d.el),K=Hx(h.value,i.value,d.el);if(!(F0(h.value,d.el)<=U||Math.abs(V-K)<16)){if(h.value&&i.value&&d.el){const{scrollWidth:Y,offsetWidth:G}=d.el;V=Y-G-V}h.value?v.horizontal(V,_.value):v(V,_.value)}}function E(V){const{scrollTop:U,scrollLeft:K}=V.target;l.value=h.value?K:U}function M(V){if(S.value=!0,!(!o.value||!f.el)){for(const U of V.composedPath())for(const K of f.el.children)if(K===U){x(K);return}}}function w(V){S.value=!1}let A=!1;function P(V){var U;!A&&!S.value&&!(V.relatedTarget&&((U=f.el)!=null&&U.contains(V.relatedTarget)))&&O(),A=!1}function T(){A=!0}function F(V){if(!f.el)return;function U(K){V.preventDefault(),O(K)}h.value?V.key==="ArrowRight"?U(i.value?"prev":"next"):V.key==="ArrowLeft"&&U(i.value?"next":"prev"):V.key==="ArrowDown"?U("next"):V.key==="ArrowUp"&&U("prev"),V.key==="Home"?U("first"):V.key==="End"&&U("last")}function O(V){var K,oe;if(!f.el)return;let U;if(!V)U=pl(f.el)[0];else if(V==="next"){if(U=(K=f.el.querySelector(":focus"))==null?void 0:K.nextElementSibling,!U)return O("first")}else if(V==="prev"){if(U=(oe=f.el.querySelector(":focus"))==null?void 0:oe.previousElementSibling,!U)return O("last")}else V==="first"?U=f.el.firstElementChild:V==="last"&&(U=f.el.lastElementChild);U&&U.focus({preventScroll:!0})}function k(V){const U=h.value&&i.value?-1:1,K=(V==="prev"?-U:U)*u.value;let oe=l.value+K;if(h.value&&i.value&&d.el){const{scrollWidth:Y,offsetWidth:G}=d.el;oe+=Y-G}C(oe)}const I=R(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),j=R(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),N=R(()=>Math.abs(l.value)>1),$=R(()=>{if(!d.value)return!1;const V=F0(h.value,d.el),U=LP(h.value,d.el);return V-U-Math.abs(l.value)>1});return ge(()=>y(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":j.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:S.value||a.selected.value.length?-1:0,onFocus:P},{default:()=>{var V,U,K;return[j.value&&y("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!N.value}],onMousedown:T,onClick:()=>N.value&&k("prev")},[((V=n.prev)==null?void 0:V.call(n,I.value))??y(Yf,null,{default:()=>[y(lt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),y("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:E},[y("div",{ref:f,class:"v-slide-group__content",onFocusin:M,onFocusout:w,onKeydown:F},[(U=n.default)==null?void 0:U.call(n,I.value)])]),j.value&&y("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!$.value}],onMousedown:T,onClick:()=>$.value&&k("next")},[((K=n.next)==null?void 0:K.call(n,I.value))??y(Yf,null,{default:()=>[y(lt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:k,scrollOffset:l,focus:O}}}),Xx=Symbol.for("vuetify:v-chip-group"),DP=H({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Er},...Pm(),...Me(),...ym({selectedClass:"v-chip--selected"}),...dt(),...pt(),...Ai({variant:"tonal"})},"VChipGroup");ae()({name:"VChipGroup",props:DP(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=Dh(t,Xx);return Ei({VChip:{color:le(t,"color"),disabled:le(t,"disabled"),filter:le(t,"filter"),variant:le(t,"variant")}}),ge(()=>{const u=Bc.filterProps(t);return y(Bc,ce(u,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}});const NP=H({activeClass:String,appendAvatar:String,appendIcon:Ve,closable:Boolean,closeIcon:{type:Ve,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ve,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Yt(),onClickOnce:Yt(),...ns(),...Me(),...Dn(),...Ri(),..._m(),...dn(),...$h(),...wo(),...dt({tag:"span"}),...pt(),...Ai({variant:"tonal"})},"VChip"),Kx=ae()({name:"VChip",directives:{Ripple:au},props:NP(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=fi(),{borderClasses:a}=Fs(t),{colorClasses:o,colorStyles:l,variantClasses:u}=ua(t),{densityClasses:c}=mi(t),{elevationClasses:h}=is(t),{roundedClasses:d}=bn(t),{sizeClasses:g}=nu(t),{themeClasses:f}=Et(t),m=ze(t,"modelValue"),v=pm(t,Xx,!1),_=Bh(t,n),p=R(()=>t.link!==!1&&_.isLink.value),b=R(()=>!t.disabled&&t.link!==!1&&(!!v||t.link||_.isClickable.value)),S=R(()=>({"aria-label":r(t.closeLabel),onClick(E){E.preventDefault(),E.stopPropagation(),m.value=!1,i("click:close",E)}}));function x(E){var M;i("click",E),b.value&&((M=_.navigate)==null||M.call(_,E),v==null||v.toggle())}function C(E){(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),x(E))}return()=>{const E=_.isLink.value?"a":t.tag,M=!!(t.appendIcon||t.appendAvatar),w=!!(M||s.append),A=!!(s.close||t.closable),P=!!(s.filter||t.filter)&&v,T=!!(t.prependIcon||t.prependAvatar),F=!!(T||s.prepend),O=!v||v.isSelected.value;return m.value&&Bt(y(E,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":b.value,"v-chip--filter":P,"v-chip--pill":t.pill},f.value,a.value,O?o.value:void 0,c.value,h.value,d.value,g.value,u.value,v==null?void 0:v.selectedClass.value,t.class],style:[O?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:_.href.value,tabindex:b.value?0:void 0,onClick:x,onKeydown:b.value&&!p.value&&C},{default:()=>{var k;return[la(b.value,"v-chip"),P&&y(Lx,{key:"filter"},{default:()=>[Bt(y("div",{class:"v-chip__filter"},[s.filter?y(mt,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):y(lt,{key:"filter-icon",icon:t.filterIcon},null)]),[[Is,v.isSelected.value]])]}),F&&y("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?y(mt,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):y(Re,null,[t.prependIcon&&y(lt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&y(ta,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),y("div",{class:"v-chip__content","data-no-activator":""},[((k=s.default)==null?void 0:k.call(s,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:t.disabled}))??t.text]),w&&y("div",{key:"append",class:"v-chip__append"},[s.append?y(mt,{key:"append-defaults",disabled:!M,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):y(Re,null,[t.appendIcon&&y(lt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&y(ta,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),A&&y("button",ce({key:"close",class:"v-chip__close",type:"button"},S.value),[s.close?y(mt,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):y(lt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[ks("ripple"),b.value&&t.ripple,null]])}}}),Kf=Symbol.for("vuetify:list");function qx(){const t=He(Kf,{hasPrepend:ve(!1),updateHasPrepend:()=>null}),e={hasPrepend:ve(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Ct(Kf,e),t}function Zx(){return He(Kf,null)}const km=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Ae(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of Vt(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},Jx=t=>{const e=km(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=Ae(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=Vt(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},VP=t=>{const e=km(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Ae(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},BP=t=>{const e=Jx(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Ae(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},$P={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},Qx={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},GP={open:Qx.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},Om=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Ae(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[u,c]=l;return c==="on"&&o.push(u),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},ew=t=>{const e=Om(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=Ae(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},UP=t=>{const e=Om(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Ae(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},zP=t=>{const e=ew(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Ae(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},WP=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=Ae(i);const l=new Map(r),u=[i];for(;u.length;){const h=u.shift();r.set(h,s?"on":"off"),a.has(h)&&u.push(...a.get(h))}let c=o.get(i);for(;c;){const h=a.get(c),d=h.every(f=>r.get(f)==="on"),g=h.every(f=>!r.has(f)||r.get(f)==="off");r.set(c,d?"on":g?"off":"indeterminate"),c=o.get(c)}return t&&!s&&Array.from(r.entries()).reduce((d,g)=>{let[f,m]=g;return m==="on"&&d.push(f),d},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Al=Symbol.for("vuetify:nested"),tw={id:ve(),root:{register:()=>null,unregister:()=>null,parents:J(new Map),children:J(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:J(!1),selectable:J(!1),opened:J(new Set),activated:J(new Set),selected:J(new Map),selectedValues:J([])}},jP=H({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),HP=t=>{let e=!1;const n=J(new Map),i=J(new Map),s=ze(t,"opened",t.opened,g=>new Set(g),g=>[...g.values()]),r=R(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return VP(t.mandatory);case"single-leaf":return BP(t.mandatory);case"independent":return km(t.mandatory);case"single-independent":default:return Jx(t.mandatory)}}),a=R(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return zP(t.mandatory);case"leaf":return UP(t.mandatory);case"independent":return Om(t.mandatory);case"single-independent":return ew(t.mandatory);case"classic":default:return WP(t.mandatory)}}),o=R(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return GP;case"single":return $P;case"multiple":default:return Qx}}),l=ze(t,"activated",t.activated,g=>r.value.in(g,n.value,i.value),g=>r.value.out(g,n.value,i.value)),u=ze(t,"selected",t.selected,g=>a.value.in(g,n.value,i.value),g=>a.value.out(g,n.value,i.value));Fn(()=>{e=!0});function c(g){const f=[];let m=g;for(;m!=null;)f.unshift(m),m=i.value.get(m);return f}const h=Pt("nested"),d={id:ve(),root:{opened:s,activatable:le(t,"activatable"),selectable:le(t,"selectable"),activated:l,selected:u,selectedValues:R(()=>{const g=[];for(const[f,m]of u.value.entries())m==="on"&&g.push(f);return g}),register:(g,f,m)=>{f&&g!==f&&i.value.set(g,f),m&&n.value.set(g,[]),f!=null&&n.value.set(f,[...n.value.get(f)||[],g])},unregister:g=>{if(e)return;n.value.delete(g);const f=i.value.get(g);if(f){const m=n.value.get(f)??[];n.value.set(f,m.filter(v=>v!==g))}i.value.delete(g),s.value.delete(g)},open:(g,f,m)=>{h.emit("click:open",{id:g,value:f,path:c(g),event:m});const v=o.value.open({id:g,value:f,opened:new Set(s.value),children:n.value,parents:i.value,event:m});v&&(s.value=v)},openOnSelect:(g,f,m)=>{const v=o.value.select({id:g,value:f,selected:new Map(u.value),opened:new Set(s.value),children:n.value,parents:i.value,event:m});v&&(s.value=v)},select:(g,f,m)=>{h.emit("click:select",{id:g,value:f,path:c(g),event:m});const v=a.value.select({id:g,value:f,selected:new Map(u.value),children:n.value,parents:i.value,event:m});v&&(u.value=v),d.root.openOnSelect(g,f,m)},activate:(g,f,m)=>{if(!t.activatable)return d.root.select(g,!0,m);h.emit("click:activate",{id:g,value:f,path:c(g),event:m});const v=r.value.activate({id:g,value:f,activated:new Set(l.value),children:n.value,parents:i.value,event:m});v&&(l.value=v)},children:n,parents:i}};return Ct(Al,d),d.root},nw=(t,e)=>{const n=He(Al,tw),i=Symbol(di()),s=R(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:R(()=>n.root.opened.value.has(s.value)),parent:R(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:R(()=>n.root.activated.value.has(Ae(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:R(()=>n.root.selected.value.get(Ae(s.value))==="on"),isIndeterminate:R(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:R(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,e),Fn(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Ct(Al,r),r},YP=()=>{const t=He(Al,tw);Ct(Al,{...t,isGroupActivator:!0})};function zh(){const t=ve(!1);return Ln(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:R(()=>t.value?void 0:{transition:"none !important"}),isBooted:_o(t)}}const XP=po({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return YP(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),KP=H({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ve,default:"$collapse"},expandIcon:{type:Ve,default:"$expand"},prependIcon:Ve,appendIcon:Ve,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Me(),...dt()},"VListGroup"),D0=ae()({name:"VListGroup",props:KP(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=nw(le(t,"value"),!0),a=R(()=>`v-list-group--id-${String(r.value)}`),o=Zx(),{isBooted:l}=zh();function u(g){g.stopPropagation(),s(!i.value,g)}const c=R(()=>({onClick:u,class:"v-list-group__header",id:a.value})),h=R(()=>i.value?t.collapseIcon:t.expandIcon),d=R(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&h.value,appendIcon:t.appendIcon||!t.subgroup&&h.value,title:t.title,value:t.value}}));return ge(()=>y(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&y(mt,{defaults:d.value},{default:()=>[y(XP,null,{default:()=>[n.activator({props:c.value,isOpen:i.value})]})]}),y(xi,{transition:{component:Ox},disabled:!l.value},{default:()=>{var g;return[Bt(y("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(g=n.default)==null?void 0:g.call(n)]),[[Is,i.value]])]}})]})),{isOpen:i}}}),qP=H({opacity:[Number,String],...Me(),...dt()},"VListItemSubtitle"),ZP=ae()({name:"VListItemSubtitle",props:qP(),setup(t,e){let{slots:n}=e;return ge(()=>y(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),JP=Zl("v-list-item-title"),QP=H({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ve,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ve,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Yt(),onClickOnce:Yt(),...ns(),...Me(),...Dn(),...Pi(),...Ri(),...dn(),...$h(),...dt(),...pt(),...Ai({variant:"text"})},"VListItem"),$c=ae()({name:"VListItem",directives:{Ripple:au},props:QP(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Bh(t,n),a=R(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:u,isSelected:c,isIndeterminate:h,isGroupActivator:d,root:g,parent:f,openOnSelect:m}=nw(a,!1),v=Zx(),_=R(()=>{var V;return t.active!==!1&&(t.active||((V=r.isActive)==null?void 0:V.value)||(g.activatable.value?l.value:c.value))}),p=R(()=>t.link!==!1&&r.isLink.value),b=R(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||!!v&&(g.selectable.value||g.activatable.value||t.value!=null))),S=R(()=>t.rounded||t.nav),x=R(()=>t.color??t.activeColor),C=R(()=>({color:_.value?x.value??t.baseColor:t.baseColor,variant:t.variant}));he(()=>{var V;return(V=r.isActive)==null?void 0:V.value},V=>{V&&f.value!=null&&g.open(f.value,!0),V&&m(V)},{immediate:!0});const{themeClasses:E}=Et(t),{borderClasses:M}=Fs(t),{colorClasses:w,colorStyles:A,variantClasses:P}=ua(C),{densityClasses:T}=mi(t),{dimensionStyles:F}=ki(t),{elevationClasses:O}=is(t),{roundedClasses:k}=bn(S),I=R(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),j=R(()=>({isActive:_.value,select:u,isSelected:c.value,isIndeterminate:h.value}));function N(V){var U;s("click",V),b.value&&((U=r.navigate)==null||U.call(r,V),!d&&(g.activatable.value?o(!l.value,V):(g.selectable.value||t.value!=null)&&u(!c.value,V)))}function $(V){(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),N(V))}return ge(()=>{const V=p.value?"a":t.tag,U=i.title||t.title!=null,K=i.subtitle||t.subtitle!=null,oe=!!(t.appendAvatar||t.appendIcon),Y=!!(oe||i.append),G=!!(t.prependAvatar||t.prependIcon),Z=!!(G||i.prepend);return v==null||v.updateHasPrepend(Z),t.activeColor&&WT("active-color",["color","base-color"]),Bt(y(V,{class:["v-list-item",{"v-list-item--active":_.value,"v-list-item--disabled":t.disabled,"v-list-item--link":b.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Z&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&_.value},E.value,M.value,w.value,T.value,O.value,I.value,k.value,P.value,t.class],style:[A.value,F.value,t.style],href:r.href.value,tabindex:b.value?v?-2:0:void 0,onClick:N,onKeydown:b.value&&!p.value&&$},{default:()=>{var se;return[la(b.value||_.value,"v-list-item"),Z&&y("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?y(mt,{key:"prepend-defaults",disabled:!G,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Ge;return[(Ge=i.prepend)==null?void 0:Ge.call(i,j.value)]}}):y(Re,null,[t.prependAvatar&&y(ta,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&y(lt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),y("div",{class:"v-list-item__spacer"},null)]),y("div",{class:"v-list-item__content","data-no-activator":""},[U&&y(JP,{key:"title"},{default:()=>{var Ge;return[((Ge=i.title)==null?void 0:Ge.call(i,{title:t.title}))??t.title]}}),K&&y(ZP,{key:"subtitle"},{default:()=>{var Ge;return[((Ge=i.subtitle)==null?void 0:Ge.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(se=i.default)==null?void 0:se.call(i,j.value)]),Y&&y("div",{key:"append",class:"v-list-item__append"},[i.append?y(mt,{key:"append-defaults",disabled:!oe,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Ge;return[(Ge=i.append)==null?void 0:Ge.call(i,j.value)]}}):y(Re,null,[t.appendIcon&&y(lt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&y(ta,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),y("div",{class:"v-list-item__spacer"},null)])]}}),[[ks("ripple"),b.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:d,isSelected:c,list:v,select:u}}}),ek=H({color:String,inset:Boolean,sticky:Boolean,title:String,...Me(),...dt()},"VListSubheader"),tk=ae()({name:"VListSubheader",props:ek(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Mi(le(t,"color"));return ge(()=>{const r=!!(n.default||t.title);return y(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&y("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),nk=H({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Me(),...pt()},"VDivider"),Lm=ae()({name:"VDivider",props:nk(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Et(t),{textColorClasses:r,textColorStyles:a}=Mi(le(t,"color")),o=R(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=_e(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=_e(t.thickness)),l});return ge(()=>{const l=y("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?y("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,y("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),ik=H({items:Array,returnObject:Boolean},"VListChildren"),iw=ae()({name:"VListChildren",props:ik(),setup(t,e){let{slots:n}=e;return qx(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var d,g;let{children:a,props:o,type:l,raw:u}=r;if(l==="divider")return((d=n.divider)==null?void 0:d.call(n,{props:o}))??y(Lm,o,null);if(l==="subheader")return((g=n.subheader)==null?void 0:g.call(n,{props:o}))??y(tk,o,null);const c={subtitle:n.subtitle?f=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...f,item:u})}:void 0,prepend:n.prepend?f=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...f,item:u})}:void 0,append:n.append?f=>{var m;return(m=n.append)==null?void 0:m.call(n,{...f,item:u})}:void 0,title:n.title?f=>{var m;return(m=n.title)==null?void 0:m.call(n,{...f,item:u})}:void 0},h=D0.filterProps(o);return a?y(D0,ce({value:o==null?void 0:o.value},h),{activator:f=>{let{props:m}=f;const v={...o,...m,value:t.returnObject?u:o.value};return n.header?n.header({props:v}):y($c,v,c)},default:()=>y(iw,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):y($c,ce(o,{value:t.returnObject?u:o.value}),c)}))}}}),sw=H({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Er}},"list-items");function qf(t,e){const n=In(e,t.itemTitle,e),i=In(e,t.itemValue,n),s=In(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?cn(e,["children"]):e:void 0:In(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?rw(t,s):void 0,raw:e}}function rw(t,e){const n=[];for(const i of e)n.push(qf(t,i));return n}function sk(t){const e=R(()=>rw(t,t.items)),n=R(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?qf(t,a):e.value.find(o=>t.valueComparator(a,o.value))||qf(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function rk(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function ak(t,e){const n=In(e,t.itemType,"item"),i=rk(e)?e:In(e,t.itemTitle),s=In(e,t.itemValue,void 0),r=In(e,t.itemChildren),a=t.itemProps===!0?cn(e,["children"]):In(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?aw(t,r):void 0,raw:e}}function aw(t,e){const n=[];for(const i of e)n.push(ak(t,i));return n}function ok(t){return{items:R(()=>aw(t,t.items))}}const lk=H({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Yt(),"onClick:select":Yt(),"onUpdate:opened":Yt(),...jP({selectStrategy:"single-leaf",openStrategy:"list"}),...ns(),...Me(),...Dn(),...Pi(),...Ri(),itemType:{type:String,default:"type"},...sw(),...dn(),...dt(),...pt(),...Ai({variant:"text"})},"VList"),uk=ae()({name:"VList",props:lk(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=ok(t),{themeClasses:s}=Et(t),{backgroundColorClasses:r,backgroundColorStyles:a}=_n(le(t,"bgColor")),{borderClasses:o}=Fs(t),{densityClasses:l}=mi(t),{dimensionStyles:u}=ki(t),{elevationClasses:c}=is(t),{roundedClasses:h}=bn(t),{children:d,open:g,parents:f,select:m}=HP(t),v=R(()=>t.lines?`v-list--${t.lines}-line`:void 0),_=le(t,"activeColor"),p=le(t,"baseColor"),b=le(t,"color");qx(),Ei({VListGroup:{activeColor:_,baseColor:p,color:b,expandIcon:le(t,"expandIcon"),collapseIcon:le(t,"collapseIcon")},VListItem:{activeClass:le(t,"activeClass"),activeColor:_,baseColor:p,color:b,density:le(t,"density"),disabled:le(t,"disabled"),lines:le(t,"lines"),nav:le(t,"nav"),slim:le(t,"slim"),variant:le(t,"variant")}});const S=ve(!1),x=J();function C(T){S.value=!0}function E(T){S.value=!1}function M(T){var F;!S.value&&!(T.relatedTarget&&((F=x.value)!=null&&F.contains(T.relatedTarget)))&&P()}function w(T){const F=T.target;if(!(!x.value||["INPUT","TEXTAREA"].includes(F.tagName))){if(T.key==="ArrowDown")P("next");else if(T.key==="ArrowUp")P("prev");else if(T.key==="Home")P("first");else if(T.key==="End")P("last");else return;T.preventDefault()}}function A(T){S.value=!0}function P(T){if(x.value)return Ec(x.value,T)}return ge(()=>y(t.tag,{ref:x,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,c.value,v.value,h.value,t.class],style:[a.value,u.value,t.style],tabindex:t.disabled||S.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:C,onFocusout:E,onFocus:M,onKeydown:w,onMousedown:A},{default:()=>[y(iw,{items:i.value,returnObject:t.returnObject},n)]})),{open:g,select:m,focus:P,children:d,parents:f}}});function jd(t,e){return{x:t.x+e.x,y:t.y+e.y}}function ck(t,e){return{x:t.x-e.x,y:t.y-e.y}}function N0(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return jd({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return jd({x:s,y:r},e)}return jd({x:e.width/2,y:e.height/2},e)}const ow={static:fk,connected:mk},hk=H({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in ow},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function dk(t,e){const n=J({}),i=J();gt&&Rs(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;he(()=>t.locationStrategy,r),hn(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=ow[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function fk(){}function gk(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const n=sm(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function mk(t,e,n){(Array.isArray(t.target.value)||f2(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=im(()=>{const f=Af(e.location,t.isRtl.value),m=e.origin==="overlap"?f:e.origin==="auto"?kd(f):Af(e.origin,t.isRtl.value);return f.side===m.side&&f.align===Od(m).align?{preferredAnchor:Oy(f),preferredOrigin:Oy(m)}:{preferredAnchor:f,preferredOrigin:m}}),[a,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(f=>R(()=>{const m=parseFloat(e[f]);return isNaN(m)?1/0:m})),c=R(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const f=e.offset.split(" ").map(parseFloat);return f.length<2&&f.push(0),f}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let h=!1;const d=new ResizeObserver(()=>{h&&g()});he([t.target,t.contentEl],(f,m)=>{let[v,_]=f,[p,b]=m;p&&!Array.isArray(p)&&d.unobserve(p),v&&!Array.isArray(v)&&d.observe(v),b&&d.unobserve(b),_&&d.observe(_)},{immediate:!0}),hn(()=>{d.disconnect()});function g(){if(h=!1,requestAnimationFrame(()=>h=!0),!t.target.value||!t.contentEl.value)return;const f=K1(t.target.value),m=gk(t.contentEl.value,t.isRtl.value),v=Rc(t.contentEl.value),_=12;v.length||(v.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const p=v.reduce((P,T)=>{const F=T.getBoundingClientRect(),O=new Xr({x:T===document.documentElement?0:F.x,y:T===document.documentElement?0:F.y,width:T.clientWidth,height:T.clientHeight});return P?new Xr({x:Math.max(P.left,O.left),y:Math.max(P.top,O.top),width:Math.min(P.right,O.right)-Math.max(P.left,O.left),height:Math.min(P.bottom,O.bottom)-Math.max(P.top,O.top)}):O},void 0);p.x+=_,p.y+=_,p.width-=_*2,p.height-=_*2;let b={anchor:s.value,origin:r.value};function S(P){const T=new Xr(m),F=N0(P.anchor,f),O=N0(P.origin,T);let{x:k,y:I}=ck(F,O);switch(P.anchor.side){case"top":I-=c.value[0];break;case"bottom":I+=c.value[0];break;case"left":k-=c.value[0];break;case"right":k+=c.value[0];break}switch(P.anchor.align){case"top":I-=c.value[1];break;case"bottom":I+=c.value[1];break;case"left":k-=c.value[1];break;case"right":k+=c.value[1];break}return T.x+=k,T.y+=I,T.width=Math.min(T.width,l.value),T.height=Math.min(T.height,u.value),{overflows:Fy(T,p),x:k,y:I}}let x=0,C=0;const E={x:0,y:0},M={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:P,y:T,overflows:F}=S(b);x+=P,C+=T,m.x+=P,m.y+=T;{const O=Ly(b.anchor),k=F.x.before||F.x.after,I=F.y.before||F.y.after;let j=!1;if(["x","y"].forEach(N=>{if(N==="x"&&k&&!M.x||N==="y"&&I&&!M.y){const $={anchor:{...b.anchor},origin:{...b.origin}},V=N==="x"?O==="y"?Od:kd:O==="y"?kd:Od;$.anchor=V($.anchor),$.origin=V($.origin);const{overflows:U}=S($);(U[N].before<=F[N].before&&U[N].after<=F[N].after||U[N].before+U[N].after<(F[N].before+F[N].after)/2)&&(b=$,j=M[N]=!0)}}),j)continue}F.x.before&&(x+=F.x.before,m.x+=F.x.before),F.x.after&&(x-=F.x.after,m.x-=F.x.after),F.y.before&&(C+=F.y.before,m.y+=F.y.before),F.y.after&&(C-=F.y.after,m.y-=F.y.after);{const O=Fy(m,p);E.x=p.width-O.x.before-O.x.after,E.y=p.height-O.y.before-O.y.after,x+=O.x.before,m.x+=O.x.before,C+=O.y.before,m.y+=O.y.before}break}const A=Ly(b.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${b.anchor.side} ${b.anchor.align}`,transformOrigin:`${b.origin.side} ${b.origin.align}`,top:_e(Hd(C)),left:t.isRtl.value?void 0:_e(Hd(x)),right:t.isRtl.value?_e(Hd(-x)):void 0,minWidth:_e(A==="y"?Math.min(a.value,f.width):a.value),maxWidth:_e(V0(Pn(E.x,a.value===1/0?0:a.value,l.value))),maxHeight:_e(V0(Pn(E.y,o.value===1/0?0:o.value,u.value)))}),{available:E,contentBox:m}}return he(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>g()),ct(()=>{const f=g();if(!f)return;const{available:m,contentBox:v}=f;v.height>m.y&&requestAnimationFrame(()=>{g(),requestAnimationFrame(()=>{g()})})}),{updateLocation:g}}function Hd(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function V0(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Zf=!0;const Gc=[];function vk(t){!Zf||Gc.length?(Gc.push(t),Jf()):(Zf=!1,t(),Jf())}let B0=-1;function Jf(){cancelAnimationFrame(B0),B0=requestAnimationFrame(()=>{const t=Gc.shift();t&&t(),Gc.length?Jf():Zf=!0})}const cc={none:null,close:pk,block:bk,reposition:xk},yk=H({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in cc}},"VOverlay-scroll-strategies");function _k(t,e){if(!gt)return;let n;$t(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Yl(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=cc[t.scrollStrategy])==null||i.call(cc,e,t,n)}))}),hn(()=>{n==null||n.stop()})}function pk(t){function e(n){t.isActive.value=!1}lw(t.targetEl.value??t.contentEl.value,e)}function bk(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Rc(t.targetEl.value,e.contained?n:void 0),...Rc(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>om(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",_e(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",_e(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",_e(s)),o.classList.add("v-overlay-scroll-blocked")}),hn(()=>{i.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),h=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-c,o.style.scrollBehavior=h}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function xk(t,e,n){let i=!1,s=-1,r=-1;function a(o){vk(()=>{var c,h;const l=performance.now();(h=(c=t.updateLocation).value)==null||h.call(c,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{lw(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),hn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function lw(t,e){const n=[document,...Rc(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),hn(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const Qf=Symbol.for("vuetify:v-menu"),wk=H({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Sk(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=kT(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const Ck=H({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...wk()},"VOverlay-activator");function Ek(t,e){let{isActive:n,isTop:i}=e;const s=Pt("useActivator"),r=J();let a=!1,o=!1,l=!0;const u=R(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=R(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:h,runCloseDelay:d}=Sk(t,E=>{E===(t.openOnHover&&a||u.value&&o)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==E&&(l=!0),n.value=E)}),g=J(),f={onClick:E=>{E.stopPropagation(),r.value=E.currentTarget||E.target,n.value||(g.value=[E.clientX,E.clientY]),n.value=!n.value},onMouseenter:E=>{var M;(M=E.sourceCapabilities)!=null&&M.firesTouchEvents||(a=!0,r.value=E.currentTarget||E.target,h())},onMouseleave:E=>{a=!1,d()},onFocus:E=>{Mc(E.target,":focus-visible")!==!1&&(o=!0,E.stopPropagation(),r.value=E.currentTarget||E.target,h())},onBlur:E=>{o=!1,E.stopPropagation(),d()}},m=R(()=>{const E={};return c.value&&(E.onClick=f.onClick),t.openOnHover&&(E.onMouseenter=f.onMouseenter,E.onMouseleave=f.onMouseleave),u.value&&(E.onFocus=f.onFocus,E.onBlur=f.onBlur),E}),v=R(()=>{const E={};if(t.openOnHover&&(E.onMouseenter=()=>{a=!0,h()},E.onMouseleave=()=>{a=!1,d()}),u.value&&(E.onFocusin=()=>{o=!0,h()},E.onFocusout=()=>{o=!1,d()}),t.closeOnContentClick){const M=He(Qf,null);E.onClick=()=>{n.value=!1,M==null||M.closeParents()}}return E}),_=R(()=>{const E={};return t.openOnHover&&(E.onMouseenter=()=>{l&&(a=!0,l=!1,h())},E.onMouseleave=()=>{a=!1,d()}),E});he(i,E=>{E&&(t.openOnHover&&!a&&(!u.value||!o)||u.value&&!o&&(!t.openOnHover||!a))&&(n.value=!1)}),he(n,E=>{E||setTimeout(()=>{g.value=void 0})},{flush:"post"});const p=Tc();$t(()=>{p.value&&ct(()=>{r.value=p.el})});const b=Tc(),S=R(()=>t.target==="cursor"&&g.value?g.value:b.value?b.el:uw(t.target,s)||r.value),x=R(()=>Array.isArray(S.value)?void 0:S.value);let C;return he(()=>!!t.activator,E=>{E&&gt?(C=Yl(),C.run(()=>{Mk(t,s,{activatorEl:r,activatorEvents:m})})):C&&C.stop()},{flush:"post",immediate:!0}),hn(()=>{C==null||C.stop()}),{activatorEl:r,activatorRef:p,target:S,targetEl:x,targetRef:b,activatorEvents:m,contentEvents:v,scrimEvents:_}}function Mk(t,e,n){let{activatorEl:i,activatorEvents:s}=n;he(()=>t.activator,(l,u)=>{if(u&&l!==u){const c=o(u);c&&a(c)}l&&ct(()=>r())},{immediate:!0}),he(()=>t.activatorProps,()=>{r()}),hn(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&FT(l,ce(s.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&DT(l,ce(s.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const u=uw(l,e);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function uw(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function Tk(){if(!gt)return ve(!1);const{ssr:t}=Ls();if(t){const e=ve(!1);return Ln(()=>{e.value=!0}),e}else return ve(!0)}const cw=H({eager:Boolean},"lazy");function hw(t,e){const n=ve(!1),i=R(()=>n.value||t.eager||e.value);he(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function lu(){const e=Pt("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const $0=Symbol.for("vuetify:stack"),Do=jt([]);function Ik(t,e,n){const i=Pt("useStack"),s=!n,r=He($0,void 0),a=jt({activeChildren:new Set});Ct($0,a);const o=ve(+e.value);Rs(t,()=>{var h;const c=(h=Do.at(-1))==null?void 0:h[1];o.value=c?c+10:+e.value,s&&Do.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),hn(()=>{if(s){const d=Ae(Do).findIndex(g=>g[0]===i.uid);Do.splice(d,1)}r==null||r.activeChildren.delete(i.uid)})});const l=ve(!0);s&&$t(()=>{var h;const c=((h=Do.at(-1))==null?void 0:h[0])===i.uid;setTimeout(()=>l.value=c)});const u=R(()=>!a.activeChildren.size);return{globalTop:_o(l),localTop:u,stackStyles:R(()=>({zIndex:o.value}))}}function Rk(t){return{teleportTarget:R(()=>{const n=t();if(n===!0||!gt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=i.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function Ak(){return!0}function dw(t,e,n){if(!t||fw(t,n)===!1)return!1;const i=nb(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function fw(t,e){return(typeof e.value=="object"&&e.value.closeConditional||Ak)(t)}function Pk(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&dw(t,e,n)&&setTimeout(()=>{fw(t,n)&&i&&i(t)},0)}function G0(t,e){const n=nb(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const kk={mounted(t,e){const n=s=>Pk(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=dw(s,t,e)};G0(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},unmounted(t,e){t._clickOutside&&(G0(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Ok(t){const{modelValue:e,color:n,...i}=t;return y(Ts,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&y("div",ce({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Wh=H({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ck(),...Me(),...Pi(),...cw(),...hk(),...yk(),...pt(),...ou()},"VOverlay"),ia=ae()({name:"VOverlay",directives:{ClickOutside:kk},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Wh()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=ze(t,"modelValue"),a=R({get:()=>r.value,set:G=>{G&&t.disabled||(r.value=G)}}),{themeClasses:o}=Et(t),{rtlClasses:l,isRtl:u}=gi(),{hasContent:c,onAfterLeave:h}=hw(t,a),d=_n(R(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:f,stackStyles:m}=Ik(a,le(t,"zIndex"),t._disableGlobalStack),{activatorEl:v,activatorRef:_,target:p,targetEl:b,targetRef:S,activatorEvents:x,contentEvents:C,scrimEvents:E}=Ek(t,{isActive:a,isTop:f}),{teleportTarget:M}=Rk(()=>{var se;const G=t.attach||t.contained;if(G)return G;const Z=(se=v==null?void 0:v.value)==null?void 0:se.getRootNode();return Z instanceof ShadowRoot?Z:!1}),{dimensionStyles:w}=ki(t),A=Tk(),{scopeId:P}=lu();he(()=>t.disabled,G=>{G&&(a.value=!1)});const T=J(),F=J(),O=J(),{contentStyles:k,updateLocation:I}=dk(t,{isRtl:u,contentEl:O,target:p,isActive:a});_k(t,{root:T,contentEl:O,targetEl:b,isActive:a,updateLocation:I});function j(G){s("click:outside",G),t.persistent?K():a.value=!1}function N(G){return a.value&&g.value&&(!t.scrim||G.target===F.value)}gt&&he(a,G=>{G?window.addEventListener("keydown",$):window.removeEventListener("keydown",$)},{immediate:!0}),Fn(()=>{gt&&window.removeEventListener("keydown",$)});function $(G){var Z,se;G.key==="Escape"&&g.value&&(t.persistent?K():(a.value=!1,(Z=O.value)!=null&&Z.contains(document.activeElement)&&((se=v.value)==null||se.focus())))}const V=kA();Rs(()=>t.closeOnBack,()=>{OA(V,G=>{g.value&&a.value?(G(!1),t.persistent?K():a.value=!1):G()})});const U=J();he(()=>a.value&&(t.absolute||t.contained)&&M.value==null,G=>{if(G){const Z=ib(T.value);Z&&Z!==document.scrollingElement&&(U.value=Z.scrollTop)}});function K(){t.noClickAnimation||O.value&&Br(O.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:xl})}function oe(){s("afterEnter")}function Y(){h(),s("afterLeave")}return ge(()=>{var G;return y(Re,null,[(G=n.activator)==null?void 0:G.call(n,{isActive:a.value,targetRef:S,props:ce({ref:_},x.value,t.activatorProps)}),A.value&&c.value&&y(kM,{disabled:!M.value,to:M.value},{default:()=>[y("div",ce({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":a.value,"v-overlay--contained":t.contained},o.value,l.value,t.class],style:[m.value,{"--v-overlay-opacity":t.opacity,top:_e(U.value)},t.style],ref:T},P,i),[y(Ok,ce({color:d,modelValue:a.value&&!!t.scrim,ref:F},E.value),null),y(xi,{appear:!0,persisted:!0,transition:t.transition,target:p.value,onAfterEnter:oe,onAfterLeave:Y},{default:()=>{var Z;return[Bt(y("div",ce({ref:O,class:["v-overlay__content",t.contentClass],style:[w.value,k.value]},C.value,t.contentProps),[(Z=n.default)==null?void 0:Z.call(n,{isActive:a})]),[[Is,a.value],[ks("click-outside"),{handler:j,closeConditional:N,include:()=>[v.value]}]])]}})])]})])}),{activatorEl:v,scrimEl:F,target:p,animateClick:K,contentEl:O,globalTop:g,localTop:f,updateLocation:I}}}),Lk=H({id:String,...cn(Wh({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Tm}}),["absolute"])},"VMenu"),gw=ae()({name:"VMenu",props:Lk(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{scopeId:s}=lu(),r=di(),a=R(()=>t.id||`v-menu-${r}`),o=J(),l=He(Qf,null),u=ve(0);Ct(Qf,{register(){++u.value},unregister(){--u.value},closeParents(m){setTimeout(()=>{!u.value&&!t.persistent&&(m==null||m&&!OT(m,o.value.contentEl))&&(i.value=!1,l==null||l.closeParents())},40)}});async function c(m){var p,b,S;const v=m.relatedTarget,_=m.target;await ct(),i.value&&v!==_&&((p=o.value)!=null&&p.contentEl)&&((b=o.value)!=null&&b.globalTop)&&![document,o.value.contentEl].includes(_)&&!o.value.contentEl.contains(_)&&((S=pl(o.value.contentEl)[0])==null||S.focus())}he(i,m=>{m?(l==null||l.register(),document.addEventListener("focusin",c,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",c))});function h(m){l==null||l.closeParents(m)}function d(m){var v,_,p;if(!t.disabled)if(m.key==="Tab"||m.key==="Enter"&&!t.closeOnContentClick){if(m.key==="Enter"&&(m.target instanceof HTMLTextAreaElement||m.target instanceof HTMLInputElement&&m.target.closest("form")))return;m.key==="Enter"&&m.preventDefault(),H1(pl((v=o.value)==null?void 0:v.contentEl,!1),m.shiftKey?"prev":"next",S=>S.tabIndex>=0)||(i.value=!1,(p=(_=o.value)==null?void 0:_.activatorEl)==null||p.focus())}else["Enter"," "].includes(m.key)&&t.closeOnContentClick&&(i.value=!1,l==null||l.closeParents())}function g(m){var _;if(t.disabled)return;const v=(_=o.value)==null?void 0:_.contentEl;v&&i.value?m.key==="ArrowDown"?(m.preventDefault(),Ec(v,"next")):m.key==="ArrowUp"&&(m.preventDefault(),Ec(v,"prev")):["ArrowDown","ArrowUp"].includes(m.key)&&(i.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>g(m))))}const f=R(()=>ce({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:g},t.activatorProps));return ge(()=>{const m=ia.filterProps(t);return y(ia,ce({ref:o,id:a.value,class:["v-menu",t.class],style:t.style},m,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,absolute:!0,activatorProps:f.value,"onClick:outside":h,onKeydown:d},s),{activator:n.activator,default:function(){for(var v=arguments.length,_=new Array(v),p=0;p<v;p++)_[p]=arguments[p];return y(mt,{root:"VMenu"},{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,..._)]}})}})}),Mr({id:a,openChildren:u},o)}}),Fk=H({renderless:Boolean,...Me()},"VVirtualScrollItem"),Dk=ae()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Fk(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=gr(void 0,"border");he(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),ge(()=>{var o,l;return t.renderless?y(Re,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):y("div",ce({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),Nk=-1,Vk=1,Yd=100,Bk=H({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function $k(t,e){const n=Ls(),i=ve(0);$t(()=>{i.value=parseFloat(t.itemHeight||0)});const s=ve(0),r=ve(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=ve(0),o=ve(0),l=J(),u=J();let c=0;const{resizeRef:h,contentRect:d}=gr();$t(()=>{h.value=l.value});const g=R(()=>{var $;return l.value===document.documentElement?n.height.value:(($=d.value)==null?void 0:$.height)||parseInt(t.height)||0}),f=R(()=>!!(l.value&&u.value&&g.value&&i.value));let m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length});const _=ve(0);let p=-1;function b($){return m[$]||i.value}const S=AT(()=>{const $=performance.now();v[0]=0;const V=e.value.length;for(let U=1;U<=V-1;U++)v[U]=(v[U-1]||0)+b(U-1);_.value=Math.max(_.value,performance.now()-$)},_),x=he(f,$=>{$&&(x(),c=u.value.offsetTop,S.immediate(),k(),~p&&ct(()=>{gt&&window.requestAnimationFrame(()=>{j(p),p=-1})}))});hn(()=>{S.clear()});function C($,V){const U=m[$],K=i.value;i.value=K?Math.min(i.value,V):V,(U!==V||K!==i.value)&&(m[$]=V,S())}function E($){return $=Pn($,0,e.value.length-1),v[$]||0}function M($){return Gk(v,$)}let w=0,A=0,P=0;he(g,($,V)=>{V&&(k(),$<V&&requestAnimationFrame(()=>{A=0,k()}))});function T(){if(!l.value||!u.value)return;const $=l.value.scrollTop,V=performance.now();V-P>500?(A=Math.sign($-w),c=u.value.offsetTop):A=$-w,w=$,P=V,k()}function F(){!l.value||!u.value||(A=0,P=0,k())}let O=-1;function k(){cancelAnimationFrame(O),O=requestAnimationFrame(I)}function I(){if(!l.value||!g.value)return;const $=w-c,V=Math.sign(A),U=Math.max(0,$-Yd),K=Pn(M(U),0,e.value.length),oe=$+g.value+Yd,Y=Pn(M(oe)+1,K+1,e.value.length);if((V!==Nk||K<s.value)&&(V!==Vk||Y>r.value)){const G=E(s.value)-E(K),Z=E(Y)-E(r.value);Math.max(G,Z)>Yd?(s.value=K,r.value=Y):(K<=0&&(s.value=K),Y>=e.value.length&&(r.value=Y))}a.value=E(s.value),o.value=E(e.value.length)-E(r.value)}function j($){const V=E($);!l.value||$&&!V?p=$:l.value.scrollTop=V}const N=R(()=>e.value.slice(s.value,r.value).map(($,V)=>({raw:$,index:V+s.value})));return he(e,()=>{m=Array.from({length:e.value.length}),v=Array.from({length:e.value.length}),S.immediate(),k()},{deep:!0}),{containerRef:l,markerRef:u,computedItems:N,paddingTop:a,paddingBottom:o,scrollToIndex:j,handleScroll:T,handleScrollend:F,handleItemResize:C}}function Gk(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const Uk=H({items:{type:Array,default:()=>[]},renderless:Boolean,...Bk(),...Me(),...Pi()},"VVirtualScroll"),zk=ae()({name:"VVirtualScroll",props:Uk(),setup(t,e){let{slots:n}=e;const i=Pt("VVirtualScroll"),{dimensionStyles:s}=ki(t),{containerRef:r,markerRef:a,handleScroll:o,handleScrollend:l,handleItemResize:u,scrollToIndex:c,paddingTop:h,paddingBottom:d,computedItems:g}=$k(t,le(t,"items"));return Rs(()=>t.renderless,()=>{function f(){var _,p;const v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";r.value===document.documentElement?(document[v]("scroll",o,{passive:!0}),document[v]("scrollend",l)):((_=r.value)==null||_[v]("scroll",o,{passive:!0}),(p=r.value)==null||p[v]("scrollend",l))}Ln(()=>{r.value=ib(i.vnode.el,!0),f(!0)}),hn(f)}),ge(()=>{const f=g.value.map(m=>y(Dk,{key:m.index,renderless:t.renderless,"onUpdate:height":v=>u(m.index,v)},{default:v=>{var _;return(_=n.default)==null?void 0:_.call(n,{item:m.raw,index:m.index,...v})}}));return t.renderless?y(Re,null,[y("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:_e(h.value)}},null),f,y("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:_e(d.value)}},null)]):y("div",{ref:r,class:["v-virtual-scroll",t.class],onScrollPassive:o,onScrollend:l,style:[s.value,t.style]},[y("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:_e(h.value),paddingBottom:_e(d.value)}},[f])])}),{scrollToIndex:c}}});function Wk(t,e){const n=ve(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=he(n,()=>{l(),o()})}else o()})}async function a(o){var c,h;if(o.key==="Tab"&&((c=e.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(h=t.value)==null?void 0:h.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const d=l.getBoundingClientRect().top;for(const g of u)if(g.getBoundingClientRect().top>=d){g.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const g of[...u].reverse())if(g.getBoundingClientRect().bottom<=d){g.focus();break}}}return{onListScroll:s,onListKeydown:a}}const jk=H({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ve,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...sw({itemChildren:!1})},"Select"),Hk=H({...jk(),...cn(Bx({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ou({transition:{component:Tm}})},"VSelect"),jh=ae()({name:"VSelect",props:Hk(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=fi(),s=J(),r=J(),a=J(),o=ze(t,"menu"),l=R({get:()=>o.value,set:N=>{var $;o.value&&!N&&(($=r.value)!=null&&$.openChildren)||(o.value=N)}}),{items:u,transformIn:c,transformOut:h}=sk(t),d=ze(t,"modelValue",[],N=>c(N===null?[null]:Vt(N)),N=>{const $=h(N);return t.multiple?$:$[0]??null}),g=R(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:d.value.length),f=px(),m=R(()=>d.value.map(N=>N.value)),v=ve(!1),_=R(()=>l.value?t.closeText:t.openText);let p="",b;const S=R(()=>t.hideSelected?u.value.filter(N=>!d.value.some($=>t.valueComparator($,N))):u.value),x=R(()=>t.hideNoData&&!S.value.length||t.readonly||(f==null?void 0:f.isReadonly.value)),C=R(()=>{var N;return{...t.menuProps,activatorProps:{...((N=t.menuProps)==null?void 0:N.activatorProps)||{},"aria-haspopup":"listbox"}}}),E=J(),{onListScroll:M,onListKeydown:w}=Wk(E,s);function A(N){t.openOnClear&&(l.value=!0)}function P(){x.value||(l.value=!l.value)}function T(N){var oe,Y;if(!N.key||t.readonly||f!=null&&f.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(N.key)&&N.preventDefault(),["Enter","ArrowDown"," "].includes(N.key)&&(l.value=!0),["Escape","Tab"].includes(N.key)&&(l.value=!1),N.key==="Home"?(oe=E.value)==null||oe.focus("first"):N.key==="End"&&((Y=E.value)==null||Y.focus("last"));const $=1e3;function V(G){const Z=G.key.length===1,se=!G.ctrlKey&&!G.metaKey&&!G.altKey;return Z&&se}if(t.multiple||!V(N))return;const U=performance.now();U-b>$&&(p=""),p+=N.key.toLowerCase(),b=U;const K=u.value.find(G=>G.title.toLowerCase().startsWith(p));if(K!==void 0){d.value=[K];const G=S.value.indexOf(K);gt&&window.requestAnimationFrame(()=>{var Z;G>=0&&((Z=a.value)==null||Z.scrollToIndex(G))})}}function F(N){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!N.props.disabled)if(t.multiple){const V=d.value.findIndex(K=>t.valueComparator(K.value,N.value)),U=$??!~V;if(~V){const K=U?[...d.value,N]:[...d.value];K.splice(V,1),d.value=K}else U&&(d.value=[...d.value,N])}else{const V=$!==!1;d.value=V?[N]:[],ct(()=>{l.value=!1})}}function O(N){var $;($=E.value)!=null&&$.$el.contains(N.relatedTarget)||(l.value=!1)}function k(){var N;v.value&&((N=s.value)==null||N.focus())}function I(N){v.value=!0}function j(N){if(N==null)d.value=[];else if(Mc(s.value,":autofill")||Mc(s.value,":-webkit-autofill")){const $=u.value.find(V=>V.title===N);$&&F($)}else s.value&&(s.value.value="")}return he(l,()=>{if(!t.hideSelected&&l.value&&d.value.length){const N=S.value.findIndex($=>d.value.some(V=>t.valueComparator(V.value,$.value)));gt&&window.requestAnimationFrame(()=>{var $;N>=0&&(($=a.value)==null||$.scrollToIndex(N))})}}),he(()=>t.items,(N,$)=>{l.value||v.value&&!$.length&&N.length&&(l.value=!0)}),ge(()=>{const N=!!(t.chips||n.chip),$=!!(!t.hideNoData||S.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),V=d.value.length>0,U=nt.filterProps(t),K=V||!v.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return y(nt,ce({ref:s},U,{modelValue:d.value.map(oe=>oe.props.value).join(", "),"onUpdate:modelValue":j,focused:v.value,"onUpdate:focused":oe=>v.value=oe,validationValue:d.externalValue,counterValue:g.value,dirty:V,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:K,"onClick:clear":A,"onMousedown:control":P,onBlur:O,onKeydown:T,"aria-label":i(_.value),title:i(_.value)}),{...n,default:()=>y(Re,null,[y(gw,ce({ref:r,modelValue:l.value,"onUpdate:modelValue":oe=>l.value=oe,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:k},C.value),{default:()=>[$&&y(uk,ce({ref:E,selected:m.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:oe=>oe.preventDefault(),onKeydown:w,onFocusin:I,onScrollPassive:M,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},t.listProps),{default:()=>{var oe,Y,G;return[(oe=n["prepend-item"])==null?void 0:oe.call(n),!S.value.length&&!t.hideNoData&&(((Y=n["no-data"])==null?void 0:Y.call(n))??y($c,{title:i(t.noDataText)},null)),y(zk,{ref:a,renderless:!0,items:S.value},{default:Z=>{var Bn;let{item:se,index:Ge,itemRef:yt}=Z;const it=ce(se.props,{ref:yt,key:Ge,onClick:()=>F(se,null)});return((Bn=n.item)==null?void 0:Bn.call(n,{item:se,index:Ge,props:it}))??y($c,ce(it,{role:"option"}),{prepend:$n=>{let{isSelected:L}=$n;return y(Re,null,[t.multiple&&!t.hideSelected?y(mr,{key:se.value,modelValue:L,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&y(ta,{image:se.props.prependAvatar},null),se.props.prependIcon&&y(lt,{icon:se.props.prependIcon},null)])}})}}),(G=n["append-item"])==null?void 0:G.call(n)]}})]}),d.value.map((oe,Y)=>{function G(yt){yt.stopPropagation(),yt.preventDefault(),F(oe,!1)}const Z={"onClick:close":G,onKeydown(yt){yt.key!=="Enter"&&yt.key!==" "||(yt.preventDefault(),yt.stopPropagation(),G(yt))},onMousedown(yt){yt.preventDefault(),yt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=N?!!n.chip:!!n.selection,Ge=se?Y1(N?n.chip({item:oe,index:Y,props:Z}):n.selection({item:oe,index:Y})):void 0;if(!(se&&!Ge))return y("div",{key:oe.value,class:"v-select__selection"},[N?n.chip?y(mt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:oe.title}}},{default:()=>[Ge]}):y(Kx,ce({key:"chip",closable:t.closableChips,size:"small",text:oe.title,disabled:oe.props.disabled},Z),null):Ge??y("span",{class:"v-select__selection-text"},[oe.title,t.multiple&&Y<d.value.length-1&&y("span",{class:"v-select__selection-comma"},[Be(",")])])])})]),"append-inner":function(){var Z;for(var oe=arguments.length,Y=new Array(oe),G=0;G<oe;G++)Y[G]=arguments[G];return y(Re,null,[(Z=n["append-inner"])==null?void 0:Z.call(n,...Y),t.menuIcon?y(lt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Mr({isFocused:v,menu:l,select:F},s)}}),Yk=H({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),mw=Symbol.for("vuetify:data-table-pagination");function Xk(t){const e=ze(t,"page",void 0,i=>+(i??1)),n=ze(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function Kk(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=R(()=>n.value===-1?0:n.value*(e.value-1)),r=R(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=R(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));$t(()=>{e.value>a.value&&(e.value=a.value)});function o(d){n.value=d,e.value=1}function l(){e.value=Pn(e.value+1,1,a.value)}function u(){e.value=Pn(e.value-1,1,a.value)}function c(d){e.value=Pn(d,1,a.value)}const h={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:o};return Ct(mw,h),h}function qk(){const t=He(mw);if(!t)throw new Error("Missing pagination!");return t}function Zk(t){const e=Pt("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=R(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return he(a,o=>{e.emit("update:currentItems",o)}),{paginatedItems:a}}const vw=H({prevIcon:{type:Ve,default:"$prev"},nextIcon:{type:Ve,default:"$next"},firstIcon:{type:Ve,default:"$first"},lastIcon:{type:Ve,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),U0=ae()({name:"VDataTableFooter",props:vw(),setup(t,e){let{slots:n}=e;const{t:i}=fi(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=qk(),h=R(()=>t.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:isNaN(Number(d.title))?i(d.title):d.title}));return ge(()=>{var g;const d=L0.filterProps(t);return y("div",{class:"v-data-table-footer"},[(g=n.prepend)==null?void 0:g.call(n),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",null,[i(t.itemsPerPageText)]),y(jh,{items:h.value,modelValue:u.value,"onUpdate:modelValue":f=>c(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),y("div",{class:"v-data-table-footer__pagination"},[y(L0,ce({modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),Uc=u2({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return y(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:_e(t.height),width:_e(t.width),maxWidth:_e(t.maxWidth),left:_e(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),Jk=H({headers:Array},"DataTable-header"),yw=Symbol.for("vuetify:data-table-headers"),_w={title:"",sortable:!1},Qk={..._w,width:48};function eO(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function eg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)eg(n,e);return e}function pw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&pw(n.children,e);return e}function tO(t){if(t.key){if(t.key==="data-table-group")return _w;if(["data-table-expand","data-table-select"].includes(t.key))return Qk}}function Fm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>Fm(n,e+1))):e}function nO(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function iO(t,e){const n=[];let i=0;const s=eO(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:u,priority:c}=s.dequeue(),h=e-i-Fm(u);if(o.push({...u,rowspan:h??1,colspan:u.children?eg(u).length:1}),u.children)for(const d of u.children){const g=c%1+l/Math.pow(10,i+2);s.enqueue(d,i+h+g)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>eg(a)).flat(),headers:n}}function bw(t){const e=[];for(const n of t){const i={...tO(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?bw(i.children):void 0};e.push(a)}return e}function sO(t,e){const n=J([]),i=J([]),s=J({}),r=J({}),a=J({});$t(()=>{var m,v,_;const u=(t.headers||Object.keys(t.items[0]??{}).map(p=>({key:p,title:Qi(p)}))).slice(),c=pw(u);(m=e==null?void 0:e.groupBy)!=null&&m.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(v=e==null?void 0:e.showSelect)!=null&&v.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=e==null?void 0:e.showExpand)!=null&&_.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const h=bw(u);nO(h);const d=Math.max(...h.map(p=>Fm(p)))+1,g=iO(h,d);n.value=g.headers,i.value=g.columns;const f=g.headers.flat(1);for(const p of f)p.key&&(p.sortable&&(p.sort&&(s.value[p.key]=p.sort),p.sortRaw&&(r.value[p.key]=p.sortRaw)),p.filter&&(a.value[p.key]=p.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Ct(yw,o),o}function Hh(){const t=He(yw);if(!t)throw new Error("Missing headers!");return t}const rO={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},xw={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return xw.select({items:n,value:e,selected:i})}},ww={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return ww.select({items:n,value:e,selected:i})}},aO=H({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Er}},"DataTable-select"),Sw=Symbol.for("vuetify:data-table-selection");function oO(t,e){let{allItems:n,currentPage:i}=e;const s=ze(t,"modelValue",t.modelValue,_=>new Set(Vt(_).map(p=>{var b;return((b=n.value.find(S=>t.valueComparator(p,S.value)))==null?void 0:b.value)??p})),_=>[..._.values()]),r=R(()=>n.value.filter(_=>_.selectable)),a=R(()=>i.value.filter(_=>_.selectable)),o=R(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return rO;case"all":return ww;case"page":default:return xw}});function l(_){return Vt(_).every(p=>s.value.has(p.value))}function u(_){return Vt(_).some(p=>s.value.has(p.value))}function c(_,p){const b=o.value.select({items:_,value:p,selected:new Set(s.value)});s.value=b}function h(_){c([_],!l([_]))}function d(_){const p=o.value.selectAll({value:_,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=p}const g=R(()=>s.value.size>0),f=R(()=>{const _=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!_.length&&l(_)}),m=R(()=>o.value.showSelectAll),v={toggleSelect:h,select:c,selectAll:d,isSelected:l,isSomeSelected:u,someSelected:g,allSelected:f,showSelectAll:m};return Ct(Sw,v),v}function Yh(){const t=He(Sw);if(!t)throw new Error("Missing selection!");return t}const lO=H({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Cw=Symbol.for("vuetify:data-table-sort");function uO(t){const e=ze(t,"sortBy"),n=le(t,"mustSort"),i=le(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function cO(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let u=e.value.map(h=>({...h}))??[];const c=u.find(h=>h.key===l.key);c?c.order==="desc"?n.value?c.order="asc":u=u.filter(h=>h.key!==l.key):c.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],e.value=u,s&&(s.value=1)};function a(l){return!!e.value.find(u=>u.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Ct(Cw,o),o}function Ew(){const t=He(Cw);if(!t)throw new Error("Missing sort!");return t}function hO(t,e,n,i){const s=fi();return{sortedItems:R(()=>{var a,o;return!n.value.length||t.disableSort?e.value:dO(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value})})}}function dO(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,u;for(let c=0;c<e.length;c++){let h=!1;const d=e[c].key,g=e[c].order??"asc";if(g===!1)continue;let f=a[1][d],m=o[1][d],v=a[0].raw,_=o[0].raw;if(g==="desc"&&([f,m]=[m,f],[v,_]=[_,v]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[d]){const p=i.sortRawFunctions[d](v,_);if(p==null)continue;if(h=!0,p)return p}if((u=i==null?void 0:i.sortFunctions)!=null&&u[d]){const p=i.sortFunctions[d](f,m);if(p==null)continue;if(h=!0,p)return p}if(!h){if(f instanceof Date&&m instanceof Date)return f.getTime()-m.getTime();if([f,m]=[f,m].map(p=>p!=null?p.toString().toLocaleLowerCase():p),f!==m)return Ou(f)&&Ou(m)?0:Ou(f)?-1:Ou(m)?1:!isNaN(f)&&!isNaN(m)?Number(f)-Number(m):s.compare(f,m)}}return 0}).map(a=>{let[o]=a;return o})}const Mw=H({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ve,default:"$sortAsc"},sortDescIcon:{type:Ve,default:"$sortDesc"},headerProps:{type:Object},...Ih(),...Nh()},"VDataTableHeaders"),z0=ae()({name:"VDataTableHeaders",props:Mw(),setup(t,e){let{slots:n}=e;const{t:i}=fi(),{toggleSort:s,sortBy:r,isSorted:a}=Ew(),{someSelected:o,allSelected:l,selectAll:u,showSelectAll:c}=Yh(),{columns:h,headers:d}=Hh(),{loaderClasses:g}=Vh(t);function f(M,w){if(!(!t.sticky&&!M.fixed))return{position:"sticky",left:M.fixed?_e(M.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function m(M){const w=r.value.find(A=>A.key===M.key);return w?w.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:_}=_n(t,"color"),{displayClasses:p,mobile:b}=Ls(t),S=R(()=>({headers:d.value,columns:h.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:u,getSortIcon:m})),x=R(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},p.value,g.value]),C=M=>{let{column:w,x:A,y:P}=M;const T=w.key==="data-table-select"||w.key==="data-table-expand",F=ce(t.headerProps??{},w.headerProps??{});return y(Uc,ce({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!t.disableSort,"v-data-table__th--sorted":a(w),"v-data-table__th--fixed":w.fixed},...x.value],style:{width:_e(w.width),minWidth:_e(w.minWidth),maxWidth:_e(w.maxWidth),...f(w,P)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>s(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:T},F),{default:()=>{var I;const O=`header.${w.key}`,k={column:w,selectAll:u,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:m};return n[O]?n[O](k):w.key==="data-table-select"?((I=n["header.data-table-select"])==null?void 0:I.call(n,k))??(c.value&&y(mr,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":u},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[w.title]),w.sortable&&!t.disableSort&&y(lt,{key:"icon",class:"v-data-table-header__sort-icon",icon:m(w)},null),t.multiSort&&a(w)&&y("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:_.value},[r.value.findIndex(j=>j.key===w.key)+1])])}})},E=()=>{const M=ce(t.headerProps??{}??{}),w=R(()=>h.value.filter(P=>(P==null?void 0:P.sortable)&&!t.disableSort)),A=R(()=>{if(h.value.find(T=>T.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return y(Uc,ce({tag:"th",class:[...x.value],colspan:d.value.length+1},M),{default:()=>[y("div",{class:"v-data-table-header__content"},[y(jh,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:A.value,"onClick:append":()=>u(!l.value)},{...n,chip:P=>{var T;return y(Kx,{onClick:(T=P.item.raw)!=null&&T.sortable?()=>s(P.item.raw):void 0,onMousedown:F=>{F.preventDefault(),F.stopPropagation()}},{default:()=>[P.item.title,y(lt,{class:["v-data-table__td-sort-icon",a(P.item.raw)&&"v-data-table__td-sort-icon-active"],icon:m(P.item.raw),size:"small"},null)]})}})])]})};ge(()=>b.value?y("tr",null,[y(E,null,null)]):y(Re,null,[n.headers?n.headers(S.value):d.value.map((M,w)=>y("tr",null,[M.map((A,P)=>y(C,{column:A,x:P,y:w},null))])),t.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:h.value.length},[y(bm,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),fO=H({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Tw=Symbol.for("vuetify:data-table-group");function gO(t){return{groupBy:ze(t,"groupBy")}}function mO(t){const{groupBy:e,sortBy:n}=t,i=J(new Set),s=R(()=>e.value.map(u=>({...u,order:u.order??!1})).concat(n.value));function r(u){return i.value.has(u.id)}function a(u){const c=new Set(i.value);r(u)?c.delete(u.id):c.add(u.id),i.value=c}function o(u){function c(h){const d=[];for(const g of h.items)"type"in g&&g.type==="group"?d.push(...c(g)):d.push(g);return d}return c({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const l={sortByWithGroups:s,toggleGroup:a,opened:i,groupBy:e,extractRows:o,isGroupOpen:r};return Ct(Tw,l),l}function Iw(){const t=He(Tw);if(!t)throw new Error("Missing group!");return t}function vO(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=_l(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function Rw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=vO(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const u=e[0],c=`${i}_${u}_${l}`;r.push({depth:n,id:c,key:u,value:l,items:a.length?Rw(o,a,n+1,c):o,type:"group"})}),r}function Aw(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...Aw(i.items,e))):n.push(i);return n}function yO(t,e,n){return{flatItems:R(()=>{if(!e.value.length)return t.value;const s=Rw(t.value,e.value.map(r=>r.key));return Aw(s,n.value)})}}const _O=H({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),pO=ae()({name:"VDataTableGroupHeaderRow",props:_O(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=Iw(),{isSelected:a,isSomeSelected:o,select:l}=Yh(),{columns:u}=Hh(),c=R(()=>r([t.item]));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[u.value.map(h=>{var d,g;if(h.key==="data-table-group"){const f=i(t.item)?"$expand":"$next",m=()=>s(t.item);return((d=n["data-table-group"])==null?void 0:d.call(n,{item:t.item,count:c.value.length,props:{icon:f,onClick:m}}))??y(Uc,{class:"v-data-table-group-header-row__column"},{default:()=>[y(Ye,{size:"small",variant:"text",icon:f,onClick:m},null),y("span",null,[t.item.value]),y("span",null,[Be("("),c.value.length,Be(")")])]})}if(h.key==="data-table-select"){const f=a(c.value),m=o(c.value)&&!f,v=_=>l(c.value,_);return((g=n["data-table-select"])==null?void 0:g.call(n,{props:{modelValue:f,indeterminate:m,"onUpdate:modelValue":v}}))??y("td",null,[y(mr,{modelValue:f,indeterminate:m,"onUpdate:modelValue":v},null)])}return y("td",null,null)})])}}),bO=H({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Pw=Symbol.for("vuetify:datatable:expanded");function xO(t){const e=le(t,"expandOnClick"),n=ze(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const u=new Set(n.value);l?u.add(o.value):u.delete(o.value),n.value=u}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Ct(Pw,a),a}function kw(){const t=He(Pw);if(!t)throw new Error("foo");return t}const wO=H({index:Number,item:Object,cellProps:[Object,Function],onClick:Yt(),onContextmenu:Yt(),onDblclick:Yt(),...Ih()},"VDataTableRow"),SO=ae()({name:"VDataTableRow",props:wO(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=Ls(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:u}=Yh(),{isExpanded:c,toggleExpand:h}=kw(),{toggleSort:d,sortBy:g,isSorted:f}=Ew(),{columns:m}=Hh();ge(()=>y("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&m.value.map((v,_)=>{const p=t.item,b=`item.${v.key}`,S=`header.${v.key}`,x={index:t.index,item:p.raw,internalItem:p,value:_l(p.columns,v.key),column:v,isSelected:r,toggleSelect:a,isExpanded:c,toggleExpand:h},C={column:v,selectAll:u,isSorted:f,toggleSort:d,sortBy:g.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},E=typeof t.cellProps=="function"?t.cellProps({index:x.index,item:x.item,internalItem:x.internalItem,value:x.value,column:v}):t.cellProps,M=typeof v.cellProps=="function"?v.cellProps({index:x.index,item:x.item,internalItem:x.internalItem,value:x.value}):v.cellProps;return y(Uc,ce({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,maxWidth:s.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:s.value?void 0:v.width},E,M),{default:()=>{var A,P,T,F,O;if(n[b]&&!s.value)return(A=n[b])==null?void 0:A.call(n,x);if(v.key==="data-table-select")return((P=n["item.data-table-select"])==null?void 0:P.call(n,x))??y(mr,{disabled:!p.selectable,modelValue:r([p]),onClick:Qa(()=>a(p),["stop"])},null);if(v.key==="data-table-expand")return((T=n["item.data-table-expand"])==null?void 0:T.call(n,x))??y(Ye,{icon:c(p)?"$collapse":"$expand",size:"small",variant:"text",onClick:Qa(()=>h(p),["stop"])},null);const w=xt(x.value);return s.value?y(Re,null,[y("div",{class:"v-data-table__td-title"},[((F=n[S])==null?void 0:F.call(n,C))??v.title]),y("div",{class:"v-data-table__td-value"},[((O=n[b])==null?void 0:O.call(n,x))??w])]):w}})})]))}}),Ow=H({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ih()},"VDataTableRows"),W0=ae()({name:"VDataTableRows",inheritAttrs:!1,props:Ow(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=Hh(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=kw(),{isSelected:l,toggleSelect:u}=Yh(),{toggleGroup:c,isGroupOpen:h}=Iw(),{t:d}=fi(),{mobile:g}=Ls(t);return ge(()=>{var f,m;return t.loading&&(!t.items.length||i.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:s.value.length},[((f=i.loading)==null?void 0:f.call(i))??d(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:s.value.length},[((m=i["no-data"])==null?void 0:m.call(i))??d(t.noDataText)])]):y(Re,null,[t.items.map((v,_)=>{var S;if(v.type==="group"){const x={index:_,item:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:h};return i["group-header"]?i["group-header"](x):y(pO,ce({key:`group-header_${v.id}`,item:v},Hy(n,":group-header",()=>x)),i)}const p={index:_,item:v.raw,internalItem:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u},b={...p,props:ce({key:`item_${v.key??v.index}`,onClick:r.value?()=>{a(v)}:void 0,index:_,item:v,cellProps:t.cellProps,mobile:g.value},Hy(n,":row",()=>p),typeof t.rowProps=="function"?t.rowProps({item:p.item,index:p.index,internalItem:p.internalItem}):t.rowProps)};return y(Re,{key:b.props.key},[i.item?i.item(b):y(SO,b.props,i),o(v)&&((S=i["expanded-row"])==null?void 0:S.call(i,p))])})])}),{}}}),Lw=H({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Me(),...Dn(),...dt(),...pt()},"VTable"),j0=ae()({name:"VTable",props:Lw(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Et(t),{densityClasses:r}=mi(t);return ge(()=>y(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?y("div",{class:"v-table__wrapper",style:{height:_e(t.height)}},[y("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),CO=H({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function EO(t,e,n,i){const s=t.returnObject?e:In(e,t.itemValue),r=In(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=In(e,l.value)),o),{});return{type:"item",key:t.returnObject?In(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function MO(t,e,n){return e.map((i,s)=>EO(t,i,s,n))}function TO(t,e){return{items:R(()=>MO(t,t.items,e.value))}}function IO(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=Pt("VDataTable"),o=R(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;he(o,()=>{Er(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const RO=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),AO=H({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function PO(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??RO,r=n!=null&&n.filterKeys?Vt(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[u,c=u]=Vt(t[l]),h={},d={};let g=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const v=r||Object.keys(c);for(const _ of v){const p=In(c,_),b=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[_];if(g=b?b(p,e,u):s(p,e,u),g!==-1&&g!==!1)b?h[_]=g:d[_]=g;else if((n==null?void 0:n.filterMode)==="every")continue e}}else g=s(u,e,u),g!==-1&&g!==!1&&(d.title=g);const f=Object.keys(d).length,m=Object.keys(h).length;if(!f&&!m||(n==null?void 0:n.filterMode)==="union"&&m!==a&&!f||(n==null?void 0:n.filterMode)==="intersection"&&(m!==a||!f))continue}i.push({index:l,matches:{...d,...h}})}return i}function kO(t,e,n,i){const s=J([]),r=J(new Map),a=R(()=>i!=null&&i.transform?Pe(e).map(l=>[l,i.transform(l)]):Pe(e));$t(()=>{const l=typeof n=="function"?n():Pe(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=PO(a.value,u,{customKeyFilter:{...t.customKeyFilter,...Pe(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),h=Pe(e),d=[],g=new Map;c.forEach(f=>{let{index:m,matches:v}=f;const _=h[m];d.push(_),g.set(_.value,v)}),s.value=d,r.value=g});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}const OO=H({...Ow(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...bO(),...fO(),...Jk(),...CO(),...aO(),...lO(),...Mw(),...Lw()},"DataTable"),LO=H({...Yk(),...OO(),...AO(),...vw()},"VDataTable"),FO=ae()({name:"VDataTable",props:LO(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=gO(t),{sortBy:r,multiSort:a,mustSort:o}=uO(t),{page:l,itemsPerPage:u}=Xk(t),{columns:c,headers:h,sortFunctions:d,sortRawFunctions:g,filterFunctions:f}=sO(t,{groupBy:s,showSelect:le(t,"showSelect"),showExpand:le(t,"showExpand")}),{items:m}=TO(t,c),v=le(t,"search"),{filteredItems:_}=kO(t,m,v,{transform:Z=>Z.columns,customKeyFilter:f}),{toggleSort:p}=cO({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:b,opened:S,extractRows:x,isGroupOpen:C,toggleGroup:E}=mO({groupBy:s,sortBy:r}),{sortedItems:M}=hO(t,_,b,{transform:Z=>Z.columns,sortFunctions:d,sortRawFunctions:g}),{flatItems:w}=yO(M,s,S),A=R(()=>w.value.length),{startIndex:P,stopIndex:T,pageCount:F,setItemsPerPage:O}=Kk({page:l,itemsPerPage:u,itemsLength:A}),{paginatedItems:k}=Zk({items:w,startIndex:P,stopIndex:T,itemsPerPage:u}),I=R(()=>x(k.value)),{isSelected:j,select:N,selectAll:$,toggleSelect:V,someSelected:U,allSelected:K}=oO(t,{allItems:m,currentPage:I}),{isExpanded:oe,toggleExpand:Y}=xO(t);IO({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:v}),Ei({VDataTableRows:{hideNoData:le(t,"hideNoData"),noDataText:le(t,"noDataText"),loading:le(t,"loading"),loadingText:le(t,"loadingText")}});const G=R(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:F.value,toggleSort:p,setItemsPerPage:O,someSelected:U.value,allSelected:K.value,isSelected:j,select:N,selectAll:$,toggleSelect:V,isExpanded:oe,toggleExpand:Y,isGroupOpen:C,toggleGroup:E,items:I.value.map(Z=>Z.raw),internalItems:I.value,groupedItems:k.value,columns:c.value,headers:h.value}));return ge(()=>{const Z=U0.filterProps(t),se=z0.filterProps(t),Ge=W0.filterProps(t),yt=j0.filterProps(t);return y(j0,ce({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},yt),{top:()=>{var it;return(it=i.top)==null?void 0:it.call(i,G.value)},default:()=>{var it,Bn,$n,L,D,z;return i.default?i.default(G.value):y(Re,null,[(it=i.colgroup)==null?void 0:it.call(i,G.value),!t.hideDefaultHeader&&y("thead",{key:"thead"},[y(z0,se,i)]),(Bn=i.thead)==null?void 0:Bn.call(i,G.value),!t.hideDefaultBody&&y("tbody",null,[($n=i["body.prepend"])==null?void 0:$n.call(i,G.value),i.body?i.body(G.value):y(W0,ce(n,Ge,{items:k.value}),i),(L=i["body.append"])==null?void 0:L.call(i,G.value)]),(D=i.tbody)==null?void 0:D.call(i,G.value),(z=i.tfoot)==null?void 0:z.call(i,G.value)])},bottom:()=>i.bottom?i.bottom(G.value):!t.hideDefaultFooter&&y(Re,null,[y(Lm,null,null),y(U0,Z,{prepend:i["footer.prepend"]})])})}),{}}}),Fw=H({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ve,default:"$next"},prevIcon:{type:Ve,default:"$prev"},modeIcon:{type:Ve,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),H0=ae()({name:"VDatePickerControls",props:Fw(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=R(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=R(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=R(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=R(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return ge(()=>y("div",{class:["v-date-picker-controls"]},[y(Ye,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:c},null),y(Ye,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:u},null),y(bs,{key:"mode-spacer"},null),y("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[y(Ye,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),y(Ye,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),DO=H({appendIcon:String,color:String,header:String,transition:String,onClick:Yt()},"VDatePickerHeader"),Y0=ae()({name:"VDatePickerHeader",props:DO(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=_n(t,"color");function a(){n("click")}function o(){n("click:append")}return ge(()=>{const l=!!(i.default||t.header),u=!!(i.append||t.appendIcon);return y("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&y("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&y(xi,{key:"content",name:t.transition},{default:()=>{var c;return[y("div",{key:t.header,class:"v-date-picker-header__content"},[((c=i.default)==null?void 0:c.call(i))??t.header])]}}),u&&y("div",{class:"v-date-picker-header__append"},[i.append?y(mt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=i.append)==null?void 0:c.call(i)]}}):y(Ye,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),NO=H({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function VO(t){const e=Jl(),n=ze(t,"modelValue",[],g=>Vt(g)),i=R(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=ze(t,"year",void 0,g=>{const f=g!=null?Number(g):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),f))},g=>e.getYear(g)),r=ze(t,"month",void 0,g=>{const f=g!=null?Number(g):e.getMonth(i.value),m=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(m,f)},g=>e.getMonth(g)),a=R(()=>{const g=Number(t.firstDayOfWeek??0);return t.weekdays.map(f=>(f+g)%7)}),o=R(()=>{const g=e.getWeekArray(r.value,t.firstDayOfWeek),f=g.flat(),m=6*7;if(t.weeksInMonth==="static"&&f.length<m){const v=f[f.length-1];let _=[];for(let p=1;p<=m-f.length;p++)_.push(e.addDays(v,p)),p%7===0&&(g.push(_),_=[])}return g});function l(g,f){return g.filter(m=>a.value.includes(e.toJsDate(m).getDay())).map((m,v)=>{const _=e.toISO(m),p=!e.isSameMonth(m,r.value),b=e.isSameDay(m,e.startOfMonth(r.value)),S=e.isSameDay(m,e.endOfMonth(r.value)),x=e.isSameDay(m,r.value);return{date:m,isoDate:_,formatted:e.format(m,"keyboardDate"),year:e.getYear(m),month:e.getMonth(m),isDisabled:d(m),isWeekStart:v%7===0,isWeekEnd:v%7===6,isToday:e.isSameDay(m,f),isAdjacent:p,isHidden:p&&!t.showAdjacentMonths,isStart:b,isSelected:n.value.some(C=>e.isSameDay(m,C)),isEnd:S,isSame:x,localized:e.format(m,"dayOfMonth")}})}const u=R(()=>{const g=e.startOfWeek(i.value,t.firstDayOfWeek),f=[];for(let v=0;v<=6;v++)f.push(e.addDays(g,v));const m=e.date();return l(f,m)}),c=R(()=>{const g=o.value.flat(),f=e.date();return l(g,f)}),h=R(()=>o.value.map(g=>g.length?aI(e,g[0]):null));function d(g){if(t.disabled)return!0;const f=e.date(g);return t.min&&e.isAfter(e.date(t.min),f)||t.max&&e.isAfter(f,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(m=>e.isSameDay(e.date(m),f)):typeof t.allowedDates=="function"?!t.allowedDates(f):!1}return{displayValue:i,daysInMonth:c,daysInWeek:u,genDays:l,model:n,weeksInMonth:o,weekDays:a,weekNumbers:h}}const Dw=H({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...NO()},"VDatePickerMonth"),X0=ae()({name:"VDatePickerMonth",props:Dw(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=J(),{daysInMonth:r,model:a,weekNumbers:o}=VO(t),l=Jl(),u=ve(),c=ve(),h=ve(!1),d=R(()=>h.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(u.value=a.value[0],a.value.length>1&&(c.value=a.value[a.value.length-1]));const g=R(()=>{const _=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=_});he(r,(_,p)=>{p&&(h.value=l.isBefore(_[0].date,p[0].date))});function f(_){const p=l.startOfDay(_);if(a.value.length===0&&(u.value=void 0),!u.value)u.value=p,a.value=[u.value];else if(c.value)u.value=_,c.value=void 0,a.value=[u.value];else{if(l.isSameDay(p,u.value)){u.value=void 0,a.value=[];return}else l.isBefore(p,u.value)?(c.value=l.endOfDay(u.value),u.value=p):c.value=l.endOfDay(p);const b=l.getDiff(c.value,u.value,"days"),S=[u.value];for(let x=1;x<b;x++){const C=l.addDays(u.value,x);S.push(C)}S.push(c.value),a.value=S}}function m(_){const p=a.value.findIndex(b=>l.isSameDay(b,_));if(p===-1)a.value=[...a.value,_];else{const b=[...a.value];b.splice(p,1),a.value=b}}function v(_){t.multiple==="range"?f(_):t.multiple?m(_):a.value=[_]}return()=>y("div",{class:"v-date-picker-month"},[t.showWeek&&y("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&y("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Be("")]),o.value.map(_=>y("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[_]))]),y(xi,{name:d.value},{default:()=>{var _;return[y("div",{ref:s,key:(_=r.value[0].date)==null?void 0:_.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(p=>y("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[p])),r.value.map((p,b)=>{const S={props:{onClick:()=>v(p.date)},item:p,i:b};return g.value&&!p.isSelected&&(p.isDisabled=!0),y("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":p.isAdjacent,"v-date-picker-month__day--hide-adjacent":p.isHidden,"v-date-picker-month__day--selected":p.isSelected,"v-date-picker-month__day--week-end":p.isWeekEnd,"v-date-picker-month__day--week-start":p.isWeekStart}],"data-v-date":p.isDisabled?void 0:p.isoDate},[(t.showAdjacentMonths||!p.isAdjacent)&&y(mt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(p.isSelected||p.isToday)&&!p.isDisabled?t.color:void 0,disabled:p.isDisabled,icon:!0,ripple:!1,text:p.localized,variant:p.isDisabled?p.isToday?"outlined":"text":p.isToday&&!p.isSelected?"outlined":"flat",onClick:()=>v(p.date)}}},{default:()=>{var x;return[((x=i.day)==null?void 0:x.call(i,S))??y(Ye,S.props,null)]}})])})])]}})])}}),Nw=H({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),K0=ae()({name:"VDatePickerMonths",props:Nw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Jl(),r=ze(t,"modelValue"),a=R(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),tr(12).map(l=>{const u=s.format(o,"monthShort"),c=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:c,text:u,value:l}})});return $t(()=>{r.value=r.value??s.getMonth(s.date())}),ge(()=>y("div",{class:"v-date-picker-months",style:{height:_e(t.height)}},[y("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var h;const u={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>c(l)};function c(d){if(r.value===d){n("update:modelValue",r.value);return}r.value=d}return((h=i.month)==null?void 0:h.call(i,{month:o,i:l,props:u}))??y(Ye,ce({key:"month"},u),null)})])])),{}}}),Vw=H({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),q0=ae()({name:"VDatePickerYears",props:Vw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Jl(),r=ze(t,"modelValue"),a=R(()=>{const l=s.getYear(s.date());let u=l-100,c=l+52;t.min&&(u=s.getYear(s.date(t.min))),t.max&&(c=s.getYear(s.date(t.max)));let h=s.startOfYear(s.date());return h=s.setYear(h,u),tr(c-u+1,u).map(d=>{const g=s.format(h,"year");return h=s.setYear(h,s.getYear(h)+1),{text:g,value:d}})});$t(()=>{r.value=r.value??s.getYear(s.date())});const o=Tc();return Ln(async()=>{var l;await ct(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),ge(()=>y("div",{class:"v-date-picker-years",style:{height:_e(t.height)}},[y("div",{class:"v-date-picker-years__content"},[a.value.map((l,u)=>{var h;const c={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((h=i.year)==null?void 0:h.call(i,{year:l,i:u,props:c}))??y(Ye,ce({key:"month"},c),null)})])])),{}}}),BO=Zl("v-picker-title"),Bw=H({color:String,...ns(),...Me(),...Pi(),...Ri(),...So(),...su(),...dn(),...dt(),...pt()},"VSheet"),Z0=ae()({name:"VSheet",props:Bw(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{backgroundColorClasses:s,backgroundColorStyles:r}=_n(le(t,"color")),{borderClasses:a}=Fs(t),{dimensionStyles:o}=ki(t),{elevationClasses:l}=is(t),{locationStyles:u}=iu(t),{positionClasses:c}=ru(t),{roundedClasses:h}=bn(t);return ge(()=>y(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,c.value,h.value,t.class],style:[r.value,o.value,u.value,t.style]},n)),{}}}),$w=H({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...Bw()},"VPicker"),J0=ae()({name:"VPicker",props:$w(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=_n(le(t,"color"));return ge(()=>{const r=Z0.filterProps(t),a=!!(t.title||n.title);return y(Z0,ce(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&y("div",{key:"header",class:[i.value],style:[s.value]},[a&&y(BO,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&y("div",{class:"v-picker__header"},[n.header()])]),y("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&y(mt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[y("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),$O=H({header:{type:String,default:"$vuetify.datePicker.header"},...Fw(),...Dw({weeksInMonth:"static"}),...cn(Nw(),["modelValue"]),...cn(Vw(),["modelValue"]),...$w({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),GO=ae()({name:"VDatePicker",props:$O(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Jl(),{t:r}=fi(),a=ze(t,"modelValue",void 0,w=>Vt(w),w=>t.multiple?w:w[0]),o=ze(t,"viewMode"),l=R(()=>{var A;const w=s.date((A=a.value)==null?void 0:A[0]);return w&&s.isValid(w)?w:s.date()}),u=J(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),c=J(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,u.value))))),h=ve(!1),d=R(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),g=R(()=>{let w=s.date();return w=s.setDate(w,1),w=s.setMonth(w,u.value),w=s.setYear(w,c.value),s.format(w,"monthAndYear")}),f=R(()=>`date-picker-header${h.value?"-reverse":""}-transition`),m=R(()=>{const w=s.date(t.min);return t.min&&s.isValid(w)?w:null}),v=R(()=>{const w=s.date(t.max);return t.max&&s.isValid(w)?w:null}),_=R(()=>{if(t.disabled)return!0;const w=[];if(o.value!=="month")w.push("prev","next");else{let A=s.date();if(A=s.setYear(A,c.value),A=s.setMonth(A,u.value),m.value){const P=s.addDays(s.startOfMonth(A),-1);s.isAfter(m.value,P)&&w.push("prev")}if(v.value){const P=s.addDays(s.endOfMonth(A),1);s.isAfter(P,v.value)&&w.push("next")}}return w});function p(){u.value<11?u.value++:(c.value++,u.value=0,M(c.value)),E(u.value)}function b(){u.value>0?u.value--:(c.value--,u.value=11,M(c.value)),E(u.value)}function S(){o.value="month"}function x(){o.value=o.value==="months"?"month":"months"}function C(){o.value=o.value==="year"?"month":"year"}function E(w){o.value==="months"&&x(),n("update:month",w)}function M(w){o.value==="year"&&C(),n("update:year",w)}return he(a,(w,A)=>{const P=Vt(A),T=Vt(w);if(!T.length)return;const F=s.date(P[P.length-1]),O=s.date(T[T.length-1]),k=s.getMonth(O),I=s.getYear(O);k!==u.value&&(u.value=k,E(u.value)),I!==c.value&&(c.value=I,M(c.value)),h.value=s.isBefore(F,O)}),ge(()=>{const w=J0.filterProps(t),A=H0.filterProps(t),P=Y0.filterProps(t),T=X0.filterProps(t),F=cn(K0.filterProps(t),["modelValue"]),O=cn(q0.filterProps(t),["modelValue"]),k={header:d.value,transition:f.value};return y(J0,ce(w,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var I;return((I=i.title)==null?void 0:I.call(i))??y("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?y(mt,{defaults:{VDatePickerHeader:{...k}}},{default:()=>{var I;return[(I=i.header)==null?void 0:I.call(i,k)]}}):y(Y0,ce({key:"header"},P,k,{onClick:o.value!=="month"?S:void 0}),{...i,default:void 0}),default:()=>y(Re,null,[y(H0,ce(A,{disabled:_.value,text:g.value,"onClick:next":p,"onClick:prev":b,"onClick:month":x,"onClick:year":C}),null),y(Yf,{hideOnLeave:!0},{default:()=>[o.value==="months"?y(K0,ce({key:"date-picker-months"},F,{modelValue:u.value,"onUpdate:modelValue":[I=>u.value=I,E],min:m.value,max:v.value,year:c.value}),null):o.value==="year"?y(q0,ce({key:"date-picker-years"},O,{modelValue:c.value,"onUpdate:modelValue":[I=>c.value=I,M],min:m.value,max:v.value}),null):y(X0,ce({key:"date-picker-month"},T,{modelValue:a.value,"onUpdate:modelValue":I=>a.value=I,month:u.value,"onUpdate:month":[I=>u.value=I,E],year:c.value,"onUpdate:year":[I=>c.value=I,M],min:m.value,max:v.value}),null)]})]),actions:i.actions})}),{}}}),UO=H({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Wh({origin:"center center",scrollStrategy:"block",transition:{component:Tm},zIndex:2400})},"VDialog"),tg=ae()({name:"VDialog",props:UO(),emits:{"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=ze(t,"modelValue"),{scopeId:r}=lu(),a=J();function o(c){var g,f;const h=c.relatedTarget,d=c.target;if(h!==d&&((g=a.value)!=null&&g.contentEl)&&((f=a.value)!=null&&f.globalTop)&&![document,a.value.contentEl].includes(d)&&!a.value.contentEl.contains(d)){const m=pl(a.value.contentEl);if(!m.length)return;const v=m[0],_=m[m.length-1];h===v?_.focus():v.focus()}}gt&&he(()=>s.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var c;(c=a.value)!=null&&c.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return he(s,async c=>{var h;c||(await ct(),(h=a.value.activatorEl)==null||h.focus({preventScroll:!0}))}),ge(()=>{const c=ia.filterProps(t),h=ce({"aria-haspopup":"dialog","aria-expanded":String(s.value)},t.activatorProps),d=ce({tabindex:-1},t.contentProps);return y(ia,ce({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},c,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,"aria-modal":"true",activatorProps:h,contentProps:d,role:"dialog",onAfterEnter:l,onAfterLeave:u},r),{activator:i.activator,default:function(){for(var g=arguments.length,f=new Array(g),m=0;m<g;m++)f[m]=arguments[m];return y(mt,{root:"VDialog"},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,...f)]}})}})}),Mr({},a)}}),zO=H({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Me()},"VLocaleProvider"),WO=ae()({name:"VLocaleProvider",props:zO(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=y2(t);return ge(()=>{var s;return y("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Dm=Symbol.for("vuetify:v-tabs"),jO=H({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...cn(xm({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Wa=ae()({name:"VTab",props:jO(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=Mi(t,"sliderColor"),a=J(),o=J(),l=R(()=>t.direction==="horizontal"),u=R(()=>{var h,d;return((d=(h=a.value)==null?void 0:h.group)==null?void 0:d.isSelected.value)??!1});function c(h){var g,f;let{value:d}=h;if(d){const m=(f=(g=a.value)==null?void 0:g.$el.parentElement)==null?void 0:f.querySelector(".v-tab--selected .v-tab__slider"),v=o.value;if(!m||!v)return;const _=getComputedStyle(m).color,p=m.getBoundingClientRect(),b=v.getBoundingClientRect(),S=l.value?"x":"y",x=l.value?"X":"Y",C=l.value?"right":"bottom",E=l.value?"width":"height",M=p[S],w=b[S],A=M>w?p[C]-b[C]:p[S]-b[S],P=Math.sign(A)>0?l.value?"right":"bottom":Math.sign(A)<0?l.value?"left":"top":"center",F=(Math.abs(A)+(Math.sign(A)<0?p[E]:b[E]))/Math.max(p[E],b[E])||0,O=p[E]/b[E]||0,k=1.5;Br(v,{backgroundColor:[_,"currentcolor"],transform:[`translate${x}(${A}px) scale${x}(${O})`,`translate${x}(${A/k}px) scale${x}(${(F-1)/k+1})`,"none"],transformOrigin:Array(3).fill(P)},{duration:225,easing:xl})}}return ge(()=>{const h=Ye.filterProps(t);return y(Ye,ce({symbol:Dm,ref:a,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},h,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var d;return y(Re,null,[((d=n.default)==null?void 0:d.call(n))??t.text,!t.hideSlider&&y("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Mr({},a)}}),HO=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function YO(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function XO(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),HO(e)}function KO(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function qO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>YO(n,e),touchend:n=>XO(n,e),touchmove:n=>KO(n,e)}}function ZO(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=qO(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,$1(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function JO(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];$1(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const Gw={mounted:ZO,unmounted:JO},QO=Gw,Uw=Symbol.for("vuetify:v-window"),zw=Symbol.for("vuetify:v-window-group"),Ww=H({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Me(),...dt(),...pt()},"VWindow"),zc=ae()({name:"VWindow",directives:{Touch:Gw},props:Ww(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{isRtl:s}=gi(),{t:r}=fi(),a=Dh(t,zw),o=J(),l=R(()=>s.value?!t.reverse:t.reverse),u=ve(!1),c=R(()=>{const S=t.direction==="vertical"?"y":"x",C=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${S}${C}-transition`}),h=ve(0),d=J(void 0),g=R(()=>a.items.value.findIndex(S=>a.selected.value.includes(S.id)));he(g,(S,x)=>{const C=a.items.value.length,E=C-1;C<=2?u.value=S<x:S===E&&x===0?u.value=!0:S===0&&x===E?u.value=!1:u.value=S<x}),Ct(Uw,{transition:c,isReversed:u,transitionCount:h,transitionHeight:d,rootRef:o});const f=R(()=>t.continuous||g.value!==0),m=R(()=>t.continuous||g.value!==a.items.value.length-1);function v(){f.value&&a.prev()}function _(){m.value&&a.next()}const p=R(()=>{const S=[],x={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};S.push(f.value?n.prev?n.prev({props:x}):y(Ye,x,null):y("div",null,null));const C={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return S.push(m.value?n.next?n.next({props:C}):y(Ye,C,null):y("div",null,null)),S}),b=R(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?v():_()},right:()=>{l.value?_():v()},start:x=>{let{originalEvent:C}=x;C.stopPropagation()}},...t.touch===!0?{}:t.touch});return ge(()=>Bt(y(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var S,x;return[y("div",{class:"v-window__container",style:{height:d.value}},[(S=n.default)==null?void 0:S.call(n,{group:a}),t.showArrows!==!1&&y("div",{class:"v-window__controls"},[p.value])]),(x=n.additional)==null?void 0:x.call(n,{group:a})]}}),[[ks("touch"),b.value]])),{group:a}}}),eL=H({...cn(Ww(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),tL=ae()({name:"VTabsWindow",props:eL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=He(Dm,null),s=ze(t,"modelValue"),r=R({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return ge(()=>{const a=zc.filterProps(t);return y(zc,ce({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),jw=H({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Me(),..._m(),...cw()},"VWindowItem"),Zr=ae()({name:"VWindowItem",directives:{Touch:QO},props:jw(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=He(Uw),s=pm(t,zw),{isBooted:r}=zh();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=ve(!1),o=R(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var f;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=_e((f=i.rootRef.value)==null?void 0:f.clientHeight)),i.transitionCount.value+=1)}function c(){l()}function h(f){a.value&&ct(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=_e(f.clientHeight))})}const d=R(()=>{const f=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof f!="string"?i.transition.value:f,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:h}:!1}),{hasContent:g}=hw(t,s.isSelected);return ge(()=>y(xi,{transition:d.value,disabled:!r.value},{default:()=>{var f;return[Bt(y("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[g.value&&((f=n.default)==null?void 0:f.call(n))]),[[Is,s.isSelected.value]])]}})),{groupItem:s}}}),nL=H({...jw()},"VTabsWindowItem"),iL=ae()({name:"VTabsWindowItem",props:nL(),setup(t,e){let{slots:n}=e;return ge(()=>{const i=Zr.filterProps(t);return y(Zr,ce({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function sL(t){return t?t.map(e=>Sc(e)?e:{text:e,value:e}):[]}const rL=H({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Pm({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Dn(),...dt()},"VTabs"),Hw=ae()({name:"VTabs",props:rL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ze(t,"modelValue"),r=R(()=>sL(t.items)),{densityClasses:a}=mi(t),{backgroundColorClasses:o,backgroundColorStyles:l}=_n(le(t,"bgColor")),{scopeId:u}=lu();return Ei({VTab:{color:le(t,"color"),direction:le(t,"direction"),stacked:le(t,"stacked"),fixed:le(t,"fixedTabs"),sliderColor:le(t,"sliderColor"),hideSlider:le(t,"hideSlider")}}),ge(()=>{const c=Bc.filterProps(t),h=!!(i.window||t.items.length>0);return y(Re,null,[y(Bc,ce(c,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":_e(t.height)},l.value,t.style],role:"tablist",symbol:Dm},u,n),{default:()=>{var d;return[((d=i.default)==null?void 0:d.call(i))??r.value.map(g=>{var f;return((f=i.tab)==null?void 0:f.call(i,{item:g}))??y(Wa,ce(g,{key:g.text,value:g.value}),{default:i[`tab.${g.value}`]?()=>{var m;return(m=i[`tab.${g.value}`])==null?void 0:m.call(i,{item:g})}:void 0})})]}}),h&&y(tL,ce({modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,key:"tabs-window"},u),{default:()=>{var d;return[r.value.map(g=>{var f;return((f=i.item)==null?void 0:f.call(i,{item:g}))??y(iL,{value:g.value},{default:()=>{var m;return(m=i[`item.${g.value}`])==null?void 0:m.call(i,{item:g})}})}),(d=i.window)==null?void 0:d.call(i)]}})])}),{}}}),aL=H({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...cn(Uh(),["centerAffix"]),...cn(Im(),["centerAffix"])},"VTextarea"),oL=ae()({name:"VTextarea",directives:{Intersect:Sm},inheritAttrs:!1,props:aL(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=ze(t,"modelValue"),{isFocused:a,focus:o,blur:l}=Gh(t),u=R(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),c=R(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function h(P,T){var F,O;!t.autofocus||!P||(O=(F=T[0].target)==null?void 0:F.focus)==null||O.call(F)}const d=J(),g=J(),f=ve(""),m=J(),v=R(()=>t.persistentPlaceholder||a.value||t.active);function _(){var P;m.value!==document.activeElement&&((P=m.value)==null||P.focus()),a.value||o()}function p(P){_(),i("click:control",P)}function b(P){i("mousedown:control",P)}function S(P){P.stopPropagation(),_(),ct(()=>{r.value="",j1(t["onClick:clear"],P)})}function x(P){var F;const T=P.target;if(r.value=T.value,(F=t.modelModifiers)!=null&&F.trim){const O=[T.selectionStart,T.selectionEnd];ct(()=>{T.selectionStart=O[0],T.selectionEnd=O[1]})}}const C=J(),E=J(+t.rows),M=R(()=>["plain","underlined"].includes(t.variant));$t(()=>{t.autoGrow||(E.value=+t.rows)});function w(){t.autoGrow&&ct(()=>{if(!C.value||!g.value)return;const P=getComputedStyle(C.value),T=getComputedStyle(g.value.$el),F=parseFloat(P.getPropertyValue("--v-field-padding-top"))+parseFloat(P.getPropertyValue("--v-input-padding-top"))+parseFloat(P.getPropertyValue("--v-field-padding-bottom")),O=C.value.scrollHeight,k=parseFloat(P.lineHeight),I=Math.max(parseFloat(t.rows)*k+F,parseFloat(T.getPropertyValue("--v-input-control-height"))),j=parseFloat(t.maxRows)*k+F||1/0,N=Pn(O??0,I,j);E.value=Math.floor((N-F)/k),f.value=_e(N)})}Ln(w),he(r,w),he(()=>t.rows,w),he(()=>t.maxRows,w),he(()=>t.density,w);let A;return he(C,P=>{P?(A=new ResizeObserver(w),A.observe(C.value)):A==null||A.disconnect()}),Fn(()=>{A==null||A.disconnect()}),ge(()=>{const P=!!(s.counter||t.counter||t.counterValue),T=!!(P||s.details),[F,O]=Eh(n),{modelValue:k,...I}=no.filterProps(t),j=Vx(t);return y(no,ce({ref:d,modelValue:r.value,"onUpdate:modelValue":N=>r.value=N,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":M.value},t.class],style:t.style},F,I,{centerAffix:!1,focused:a.value}),{...s,default:N=>{let{id:$,isDisabled:V,isDirty:U,isReadonly:K,isValid:oe}=N;return y(Rm,ce({ref:g,style:{"--v-textarea-control-height":f.value},onClick:p,onMousedown:b,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},j,{id:$.value,active:v.value||U.value,centerAffix:!1,dirty:U.value||t.dirty,disabled:V.value,focused:a.value,error:oe.value===!1}),{...s,default:Y=>{let{props:{class:G,...Z}}=Y;return y(Re,null,[t.prefix&&y("span",{class:"v-text-field__prefix"},[t.prefix]),Bt(y("textarea",ce({ref:m,class:G,value:r.value,onInput:x,autofocus:t.autofocus,readonly:K.value,disabled:V.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:_,onBlur:l},Z,O),null),[[ks("intersect"),{handler:h},null,{once:!0}]]),t.autoGrow&&Bt(y("textarea",{class:[G,"v-textarea__sizer"],id:`${Z.id}-sizer`,"onUpdate:modelValue":se=>r.value=se,ref:C,readonly:!0,"aria-hidden":"true"},null),[[_T,r.value]]),t.suffix&&y("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:T?N=>{var $;return y(Re,null,[($=s.details)==null?void 0:$.call(s,N),P&&y(Re,null,[y("span",null,null),y(Fx,{active:t.persistentCounter||a.value,value:u.value,max:c.value,disabled:t.disabled},s.counter)])])}:void 0})}),Mr({},d,g,m)}}),lL={class:"ml-3 text-body-1"},Q0=1e3,uL=bh({__name:"ThingList",props:{typeThing:{},searchKeywords:{},createdBy:{},inactivated:{type:Boolean},validated:{type:Boolean},limit:{},offset:{}},emits:["thing-ok","thing-error"],setup(t,{emit:e}){const n=ts("ThingListVue",4,2),i=jt(Ls()),s=J(!1),r=J(!1),a=J(!1),o=J(null),l=Am(),{records:u,searchParameters:c}=cm(l),h=J({id:crypto.randomUUID(),type_id:0,name:"",description:void 0,external_id:void 0,inactivated:!1,validated:void 0,status:void 0,created_by:0,created_at:void 0,pos_x:0,pos_y:0}),d=J(-1),g=J({id:crypto.randomUUID(),type_id:0,name:"",description:void 0,comment:void 0,external_id:void 0,external_ref:void 0,build_at:void 0,status:void 0,contained_by:void 0,contained_by_old:void 0,inactivated:!1,inactivated_timeTime:void 0,inactivated_by:void 0,inactivated_reason:void 0,validated:void 0,validated_time:void 0,validated_by:void 0,managed_by:void 0,created_at:void 0,created_by:0,last_modified_at:void 0,last_modified_by:void 0,deleted:!1,deleted_at:void 0,deleted_by:void 0,more_data:void 0,pos_x:0,pos_y:0}),f=J(JSON.parse(JSON.stringify(g.value))),m=J(Object.assign({},h)),v=t,_=e;he(()=>v.typeThing,(O,k)=>{n.t(` watch myProps.typeThing old: ${k}, new val: ${O}`),O!==void 0&&l.areWeReady&&O!==k&&(c.value.typeThing=O,l.search(c.value))}),he(()=>v.searchKeywords,(O,k)=>{n.t(` watch myProps.searchKeywords old: ${k}, new val: ${O}`),O!==void 0&&l.areWeReady&&O!==k&&(c.value.searchKeywords=O,l.search(c.value))}),he(()=>v.createdBy,(O,k)=>{n.t(` watch myProps.createdBy old: ${k}, new val: ${O}`),O!==void 0&&l.areWeReady?O!==k&&(c.value.createdBy=O,l.search(c.value)):(c.value.createdBy=void 0,l.areWeReady&&l.search(c.value))}),he(()=>v.validated,(O,k)=>{n.t(` watch myProps.validated old: ${k}, new val: ${O}`),l.areWeReady&&O!==k&&(c.value.validated=O,l.search(c.value))}),he(()=>v.inactivated,(O,k)=>{n.t(` watch myProps.inactivated old: ${k}, new val: ${O}`),l.areWeReady&&O!==k&&(c.value.inactivated=O,l.search(c.value))}),he(()=>v.limit,(O,k)=>{n.t(` watch myProps.limit old: ${k}, new val: ${O}`),l.areWeReady&&O!==k&&(c.value=Object.assign({},v),c.value.limit=O<1?1:O,O>Q0&&(c.value.limit=Q0),l.search(c.value))}),he(()=>v.offset,(O,k)=>{n.t(` watch myProps.offset old: ${k}, new val: ${O}`),l.areWeReady&&O!==k&&(c.value=Object.assign({},v),c.value.offset=O<1?1:O,l.search(c.value))}),he(s,(O,k)=>{n.t(` watch dialog old: ${k}, new val: ${O}`),O||A()}),he(r,(O,k)=>{n.t(` watch dialogDelete old: ${k}, new val: ${O}`),O||P()});const p=R(()=>d.value===-1?"Nouvel objet":"Edition de l'objet"),b=R(()=>JSON.stringify(c.value,void 0,3)),S=R(()=>(n.t(`#> Entering getHeaderVTable... ${i.name}`),i.name==="lg"?[{title:"id (external)",sortable:!0,key:"external_id"},{title:"Nom",align:"start",sortable:!0,key:"name"},{title:"Type",key:"type_id"},{title:"Inactif",key:"inactivated"},{title:"Valide",key:"validated"},{title:"Created",key:"created_at"},{title:"Actions",key:"actions",sortable:!1}]:[{title:"id (external)",sortable:!0,key:"external_id"},{title:"Nom",align:"start",sortable:!0,key:"name"},{title:"Type",key:"type_id"},{title:"Created",key:"created_at"},{title:"Actions",key:"actions",sortable:!1}])),x=async O=>{n.t(" #> entering EDIT ...",O),d.value=u.value.indexOf(O);const k=O.id,I=await l.get(k);I.data!==null?(n.l(`ok, filling editedItem with Thing id : ${I.data.id}`),f.value=Object.assign({},I.data),f.value.build_at!==void 0&&f.value.build_at.indexOf("T")>0&&(f.value.build_at=f.value.build_at.split("T")[0]),s.value=!0,n.l(`Now inside editing id : ${I.data.id}`)):n.w(`problem retrieving getThing(${k})`,I.err)},C=O=>{n.t(`#> entering editDateBuild... cancel=${O}`),O||f.value.build_at!==void 0&&(f.value.build_at.indexOf("T")>0?f.value.build_at=f.value.build_at.split("T")[0]:f.value.build_at=new Date(f.value.build_at).toISOString().split("T")[0]),n.t(`<# exit ... build_at=${f.value.build_at}`),a.value=!1},E=()=>{n.t("#> entering newThing..."),f.value=Object.assign({},g.value),f.value.id=crypto.randomUUID(),f.value.created_by=ex();const O=new Date;f.value.created_at=O.toISOString(),s.value=!0},M=O=>{n.t(" #> entering deleteItem...",O),d.value=u.value.indexOf(O),m.value=Object.assign({},O),r.value=!0},w=async()=>{const O=m.value.id,k=await l.delete(O);if(k.err===null)n.l(`ok, doing deletedItem(${O}) `),u.value.splice(d.value,1);else{const I=`problem doing deletedItem(${O}) ${k.err.message}`;n.w(I),_("thing-error",I)}P()},A=()=>{n.t(" #> entering CLOSE..."),s.value=!1,ct(()=>{f.value=Object.assign({},g.value),d.value=-1})},P=()=>{r.value=!1,ct(()=>{f.value=Object.assign({},g.value),m.value=Object.assign({},h.value),d.value=-1})},T=async()=>{var O,k,I;if(n.t(" #> entering SAVE..."),f.value.pos_x!==0&&(f.value.pos_x=+f.value.pos_x),f.value.pos_y!==0&&(f.value.pos_y=+f.value.pos_y),f.value.external_id!==void 0&&(f.value.external_id=+f.value.external_id),d.value>-1){if(u.value[d.value]=Object.assign({},f.value),n.l(`build_at : ${f.value.build_at}`),f.value.build_at!=null){const N=new Date(f.value.build_at).toISOString();n.l(`tmpDate : ${N}`),f.value.build_at=N}n.l(`build_at : ${f.value.build_at}`);const j=await l.update(f.value.id,f.value);if(j.data===null){const N=`Save update failed. Problem:  ${(O=j.err)==null?void 0:O.message}`;n.w(N),_("thing-error",N)}else{u.value[d.value]=Object.assign({},j.data);const N="Vos modifications ont t enregistres dans la Base avec succs.";n.w(N),_("thing-ok",N)}}else{const j=await l.create(f.value.id,f.value);if(j.data===null){const N=`Save createThing failed. Problem:  ${(k=j.err)==null?void 0:k.message}`;n.w(N),_("thing-error",N)}else{Object.assign(f.value,j.data);const N=Object.assign({},h.value);N.id=f.value.id,N.type_id=f.value.type_id,N.name=f.value.name,N.description=f.value.description,N.external_id=f.value.external_id,N.inactivated=f.value.inactivated,N.validated=f.value.validated,N.status=f.value.status,N.created_by=f.value.created_by,N.created_at=f.value.created_at,N.pos_x=f.value.pos_x,N.pos_y=f.value.pos_y,u.value.push(N);const $=`Nouvel enregistrement sauv dans la Base  id: ${(I=j.data)==null?void 0:I.external_id}`;n.w($),_("thing-ok",$)}}A()},F=async()=>{l.clearError(),await l.search(c.value)};return Ln(()=>{n.t("mounted()"),F()}),(O,k)=>(ii(),Qr(Nc,{class:"fill-height"},{default:B(()=>[y(Tl,{class:"d-flex fill-height"},{default:B(()=>[y(zn,null,{default:B(()=>[y(tg,{modelValue:s.value,"onUpdate:modelValue":k[35]||(k[35]=I=>s.value=I),persistent:!0,transition:"dialog-top-transition",width:"960"},{default:B(()=>[y(qr,null,{default:B(()=>[y(so,{color:"primary"},{extension:B(()=>[y(Hw,{modelValue:o.value,"onUpdate:modelValue":k[0]||(k[0]=I=>o.value=I),color:"primary-accent","bg-color":"secondary",centered:"",density:"compact"},{default:B(()=>[y(Wa,{value:"tab-info-base"},{default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-information-outline")]),_:1}),Be(" Infos principales ")]),_:1}),y(Wa,{value:"tab-info-more"},{default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-more")]),_:1}),Be(" Infos dtailles ")]),_:1}),y(Wa,{value:"tab-info-record"},{default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-account-details")]),_:1}),Be(" historique enregistrement ")]),_:1})]),_:1},8,["modelValue"])]),default:B(()=>[y(io,null,{default:B(()=>[Be(xt(p.value)+" ",1),bi("span",lL,"id: "+xt(f.value.id),1)]),_:1})]),_:1}),y(na,null,{default:B(()=>[y(Nc,{class:"v-container--fluid ma-0"},{default:B(()=>[y(zc,{modelValue:o.value,"onUpdate:modelValue":k[34]||(k[34]=I=>o.value=I)},{default:B(()=>[y(Zr,{value:"tab-info-base"},{default:B(()=>[y(zn,null,{default:B(()=>[y(Ue,{class:"d-none d-sm-flex",cols:"0",sm:"2",md:"2",lg:"1",xl:"1"},{default:B(()=>[y(nt,{modelValue:f.value.type_id,"onUpdate:modelValue":k[1]||(k[1]=I=>f.value.type_id=I),density:"compact",label:"id-type"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"10",md:"4",lg:"3",xl:"2"},{default:B(()=>[y(jh,{modelValue:f.value.type_id,"onUpdate:modelValue":k[2]||(k[2]=I=>f.value.type_id=I),"item-title":"name","item-value":"id",items:Pe(l).arrListTypeThing,density:"compact",label:"TypeObjet*"},null,8,["modelValue","items"])]),_:1}),y(Ue,{cols:"12",sm:"12",md:"6",lg:"8"},{default:B(()=>[y(nt,{modelValue:f.value.name,"onUpdate:modelValue":k[3]||(k[3]=I=>f.value.name=I),density:"compact",required:"",label:"Nom de l'objet*"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12"},{default:B(()=>[y(nt,{modelValue:f.value.description,"onUpdate:modelValue":k[4]||(k[4]=I=>f.value.description=I),label:"Description"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12"},{default:B(()=>[y(oL,{modelValue:f.value.comment,"onUpdate:modelValue":k[5]||(k[5]=I=>f.value.comment=I),rows:"2","row-height":"15",row:"",density:"compact","auto-grow":"","bg-color":"amber-lighten-4",color:"orange orange-darken-4",label:"Commentaire"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(nt,{type:"number",modelValue:f.value.external_id,"onUpdate:modelValue":k[6]||(k[6]=I=>f.value.external_id=I),density:"compact",label:"identifiant externe"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(nt,{modelValue:f.value.external_ref,"onUpdate:modelValue":k[7]||(k[7]=I=>f.value.external_ref=I),density:"compact",label:"rfrence externe"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(gw,{modelValue:a.value,"onUpdate:modelValue":k[13]||(k[13]=I=>a.value=I),"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto",location:"end"},{activator:B(({props:I})=>[y(nt,ce({modelValue:f.value.build_at,"onUpdate:modelValue":k[8]||(k[8]=j=>f.value.build_at=j),"prepend-icon":"mdi-calendar",density:"compact",label:"Date construction"},I,{onClick:k[9]||(k[9]=j=>a.value=!0)}),null,16,["modelValue"])]),default:B(()=>[y(WO,{locale:"fr"},{default:B(()=>[y(GO,{modelValue:f.value.build_at,"onUpdate:modelValue":k[10]||(k[10]=I=>f.value.build_at=I),"cancel-text":"ANNULER",header:"Choisissez une date SVP",title:"Date de construction","show-adjacent-months":"","show-week":"",color:"primary",elevation:"24",position:"relative","input-mode":"calendar","onClick:save":k[11]||(k[11]=I=>C(!1)),"onClick:cancel":k[12]||(k[12]=I=>C(!0))},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(nt,{modelValue:f.value.status,"onUpdate:modelValue":k[14]||(k[14]=I=>f.value.status=I),density:"compact",label:"Etat de l'objet"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(nt,{modelValue:f.value.pos_x,"onUpdate:modelValue":k[15]||(k[15]=I=>f.value.pos_x=I),density:"compact",label:"Coord X"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"4",md:"3",lg:"3"},{default:B(()=>[y(nt,{modelValue:f.value.pos_y,"onUpdate:modelValue":k[16]||(k[16]=I=>f.value.pos_y=I),density:"compact",label:"Coord Y"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),y(Zr,{value:"tab-info-more"},{default:B(()=>[y(zn,null,{default:B(()=>[y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.contained_by,"onUpdate:modelValue":k[17]||(k[17]=I=>f.value.contained_by=I),density:"compact",label:"Contenu dans"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.contained_by_old,"onUpdate:modelValue":k[18]||(k[18]=I=>f.value.contained_by_old=I),density:"compact",label:"Contenu dans(ancien)"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.managed_by,"onUpdate:modelValue":k[19]||(k[19]=I=>f.value.managed_by=I),density:"compact",label:"Manag par"},null,8,["modelValue"])]),_:1})]),_:1}),y(zn,null,{default:B(()=>[y(Ue,{cols:"6",sm:"4",md:"2"},{default:B(()=>[y(nl,{modelValue:f.value.validated,"onUpdate:modelValue":k[20]||(k[20]=I=>f.value.validated=I),density:"compact",label:"Valid?"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"5"},{default:B(()=>[y(nt,{modelValue:f.value.validated_time,"onUpdate:modelValue":k[21]||(k[21]=I=>f.value.validated_time=I),label:"Date de validation",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"5"},{default:B(()=>[y(nt,{modelValue:f.value.validated_by,"onUpdate:modelValue":k[22]||(k[22]=I=>f.value.validated_by=I),label:"Valid par",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"6",sm:"4",md:"2",lg:"2",xl:"1"},{default:B(()=>[y(nl,{modelValue:f.value.inactivated,"onUpdate:modelValue":k[23]||(k[23]=I=>f.value.inactivated=I),density:"compact",label:"Inactif?"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.inactivated_time,"onUpdate:modelValue":k[24]||(k[24]=I=>f.value.inactivated_time=I),label:"Date d'inactivation",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.inactivated_by,"onUpdate:modelValue":k[25]||(k[25]=I=>f.value.inactivated_by=I),label:"Inactiv par",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.inactivated_reason,"onUpdate:modelValue":k[26]||(k[26]=I=>f.value.inactivated_reason=I),label:"Raison de l'inactivation",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),y(Zr,{value:"tab-info-record"},{default:B(()=>[y(zn,null,{default:B(()=>[y(Ue,{cols:"6",sm:"4",md:"4",lg:"2",xl:"1"},{default:B(()=>[y(nl,{modelValue:f.value.deleted,"onUpdate:modelValue":k[27]||(k[27]=I=>f.value.deleted=I),density:"compact",label:"Effac?"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.deleted_at,"onUpdate:modelValue":k[28]||(k[28]=I=>f.value.deleted_at=I),label:"Date d'effacement",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4"},{default:B(()=>[y(nt,{modelValue:f.value.deleted_by,"onUpdate:modelValue":k[29]||(k[29]=I=>f.value.deleted_by=I),label:"Effac par",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1})]),_:1}),y(zn,null,{default:B(()=>[y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.created_at,"onUpdate:modelValue":k[30]||(k[30]=I=>f.value.created_at=I),label:"Date de Cration",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.created_by,"onUpdate:modelValue":k[31]||(k[31]=I=>f.value.created_by=I),label:"Cration par",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.last_modified_at,"onUpdate:modelValue":k[32]||(k[32]=I=>f.value.last_modified_at=I),label:"Date de modification",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"3"},{default:B(()=>[y(nt,{modelValue:f.value.last_modified_by,"onUpdate:modelValue":k[33]||(k[33]=I=>f.value.last_modified_by=I),label:"Modification par",density:"compact",disabled:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),y(Ml,null,{default:B(()=>[y(bs),y(Ye,{dark:"",color:"primary",variant:"flat",onClick:A},{default:B(()=>[Be("Annuler")]),_:1}),y(Ye,{dark:"",color:"primary",variant:"flat",onClick:T},{default:B(()=>[Be("Sauver")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),y(tg,{modelValue:r.value,"onUpdate:modelValue":k[36]||(k[36]=I=>r.value=I),persistent:!0,transition:"dialog-top-transition",width:"560"},{default:B(()=>[y(qr,null,{default:B(()=>[y(wm,{class:"text-h5"},{default:B(()=>[Be("Voulez-vous vraiment effacer ?")]),_:1}),y(na,null,{default:B(()=>[Be(xt(m.value.external_id)+" : "+xt(m.value.name),1)]),_:1}),y(Ml,null,{default:B(()=>[y(bs),y(Ye,{dark:"",color:"primary",variant:"flat",onClick:P},{default:B(()=>[Be("Annuler")]),_:1}),y(Ye,{dark:"",color:"primary",variant:"flat",onClick:w},{default:B(()=>[Be("Sauver")]),_:1}),y(bs)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),y(zn,null,{default:B(()=>[y(Ue,{cols:"10"},{default:B(()=>[Be("Trouv "+xt(Pe(l).numRecords)+" Thing(s) avec ces filtres:"+xt(b.value)+" ready:"+xt(Pe(l).areWeReady),1)]),_:1}),y(Ue,{cols:"2"},{default:B(()=>[Pe(l).areWeReady?pc("",!0):(ii(),Qr(Ye,{key:0,loading:!Pe(l).areWeReady,class:"flex-grow-1",height:"48",variant:"tonal"},{default:B(()=>[Be(" chargement... ")]),_:1},8,["loading"]))]),_:1})]),_:1}),y(zn,{class:"d-flex align-center justify-center"},{default:B(()=>[y(Ue,{cols:"12"},{default:B(()=>[y(FO,{headers:S.value,items:Pe(u),"item-key":"id","sort-by":[{key:"external_id",order:"asc"}],class:"elevation-1"},{top:B(()=>[y(so,{density:"compact"},{default:B(()=>[y(io,{style:{"text-align":"left"}},{default:B(()=>[Be(xt(Pe(l).numRecords)+" Thing trouvs...",1)]),_:1}),y(bs),y(Ye,{dark:"",color:"primary",variant:"flat","prepend-icon":"mdi-creation",density:"default",class:"m-2",onClick:E},{default:B(()=>[Be(" Nouveau Thing")]),_:1})]),_:1})]),"item.type_id":B(({item:I})=>[y(Il,null,{default:B(()=>[Be(xt(Pe(l).dicoTypeThing[I.type_id]),1)]),_:2},1024)]),"item.inactivated":B(({item:I})=>[y(mr,{modelValue:I.inactivated,"onUpdate:modelValue":j=>I.inactivated=j,disabled:!0,class:"d-none d-lg-block"},null,8,["modelValue","onUpdate:modelValue"])]),"item.validated":B(({item:I})=>[y(mr,{modelValue:I.validated,"onUpdate:modelValue":j=>I.validated=j,disabled:!0,class:"d-none d-lg-block"},null,8,["modelValue","onUpdate:modelValue"])]),"item.created_at":B(({item:I})=>[y(Il,null,{default:B(()=>[Be(xt(Pe(cA)(I.created_at)),1)]),_:2},1024)]),"item.actions":B(({item:I})=>[y(lt,{size:"small",class:"me-2",onClick:j=>x(I)},{default:B(()=>[Be(" mdi-pencil")]),_:2},1032,["onClick"]),y(lt,{size:"small",onClick:j=>M(I)},{default:B(()=>[Be(" mdi-delete")]),_:2},1032,["onClick"])]),"no-data":B(()=>[y(Xf,{type:"warning"},{default:B(()=>[Be("No data available")]),_:1}),y(Ye,{color:"primary",onClick:F},{default:B(()=>[Be(" Reset")]),_:1})]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1}))}});function cL(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var sa=1,ra=2,ja=3,hL=4,ng=5,e_=6378137,dL=6356752314e-3,t_=.0066943799901413165,il=484813681109536e-20,ie=Math.PI/2,fL=.16666666666666666,gL=.04722222222222222,mL=.022156084656084655,de=1e-10,Xt=.017453292519943295,Wi=57.29577951308232,st=Math.PI/4,Pl=Math.PI*2,kt=3.14159265359,Nn={};Nn.greenwich=0;Nn.lisbon=-9.131906111111;Nn.paris=2.337229166667;Nn.bogota=-74.080916666667;Nn.madrid=-3.687938888889;Nn.rome=12.452333333333;Nn.bern=7.439583333333;Nn.jakarta=106.807719444444;Nn.ferro=-17.666666666667;Nn.brussels=4.367975;Nn.stockholm=18.058277777778;Nn.athens=23.7163375;Nn.oslo=10.722916666667;const vL={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var n_=/[\s_\-\/\(\)]/g;function vr(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(n_,""),s=-1,r,a;++s<n.length;)if(r=n[s],a=r.toLowerCase().replace(n_,""),a===i)return t[r]}function ig(t){var e={},n=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var u=l.split("=");return u.push(!0),o[u[0].toLowerCase()]=u[1],o},{}),i,s,r,a={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*Xt},lat_1:function(o){e.lat1=o*Xt},lat_2:function(o){e.lat2=o*Xt},lat_ts:function(o){e.lat_ts=o*Xt},lon_0:function(o){e.long0=o*Xt},lon_1:function(o){e.long1=o*Xt},lon_2:function(o){e.long2=o*Xt},alpha:function(o){e.alpha=parseFloat(o)*Xt},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*Xt},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var l=vr(vL,o);l&&(e.to_meter=l.to_meter)},from_greenwich:function(o){e.from_greenwich=o*Xt},pm:function(o){var l=vr(Nn,o);e.from_greenwich=(l||parseFloat(o))*Xt},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(i in n)s=n[i],i in a?(r=a[i],typeof r=="function"?r(s):e[r]=s):e[i]=s;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var kl=1,Yw=2,Xw=3,Wc=4,Kw=5,Nm=-1,yL=/\s/,_L=/[A-Za-z]/,pL=/[A-Za-z84_]/,Xh=/[,\]]/,qw=/[\d\.E\-\+]/;function Ds(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=kl}Ds.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Wc)for(;yL.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case kl:return this.neutral(t);case Yw:return this.keyword(t);case Wc:return this.quoted(t);case Kw:return this.afterquote(t);case Xw:return this.number(t);case Nm:return}};Ds.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Wc;return}if(Xh.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};Ds.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=kl;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=kl,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Nm);return}};Ds.prototype.number=function(t){if(qw.test(t)){this.word+=t;return}if(Xh.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};Ds.prototype.quoted=function(t){if(t==='"'){this.state=Kw;return}this.word+=t};Ds.prototype.keyword=function(t){if(pL.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=kl;return}if(Xh.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};Ds.prototype.neutral=function(t){if(_L.test(t)){this.word=t,this.state=Yw;return}if(t==='"'){this.word="",this.state=Wc;return}if(qw.test(t)){this.word=t,this.state=Xw;return}if(Xh.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};Ds.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Nm)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function bL(t){var e=new Ds(t);return e.output()}function i_(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,s=n.reduce(function(r,a){return Oa(a,r),r},i);e&&(t[e]=s)}function Oa(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Oa(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Oa(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Oa(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],i_(e,n,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return Oa(t,e[n]);return i_(e,n,t)}}var xL=.017453292519943295;function wL(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function Ni(t){return t*xL}function SL(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var s=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?e+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?e+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?e+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var r=t.GEOGCS;t.type==="GEOGCS"&&(r=t),r&&(r.DATUM?t.datumCode=r.DATUM.name.toLowerCase():t.datumCode=r.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(t.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=r.DATUM.SPHEROID.a,t.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(t.datum_params=r.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function a(u){var c=t.to_meter||1;return u*c}var o=function(u){return wL(t,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ni],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ni],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Ni],["lat0","latitude_of_origin",Ni],["lat0","standard_parallel_1",Ni],["lat1","standard_parallel_1",Ni],["lat2","standard_parallel_2",Ni],["azimuth","Azimuth"],["alpha","azimuth",Ni],["srsCode","name"]];l.forEach(o),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Ni(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Ni(t.lat0>0?90:-90))}function Zw(t){var e=bL(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var s={};return Oa(e,s),SL(s),s}function mn(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?mn[t]=ig(arguments[1]):mn[t]=Zw(arguments[1]):mn[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?mn.apply(e,i):mn(i)});if(typeof t=="string"){if(t in mn)return mn[t]}else"EPSG"in t?mn["EPSG:"+t.EPSG]=t:"ESRI"in t?mn["ESRI:"+t.ESRI]=t:"IAU2000"in t?mn["IAU2000:"+t.IAU2000]=t:console.log(t);return}}cL(mn);function CL(t){return typeof t=="string"}function EL(t){return t in mn}var ML=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function TL(t){return ML.some(function(e){return t.indexOf(e)>-1})}var IL=["3857","900913","3785","102113"];function RL(t){var e=vr(t,"authority");if(e){var n=vr(e,"epsg");return n&&IL.indexOf(n)>-1}}function AL(t){var e=vr(t,"extension");if(e)return vr(e,"proj4")}function PL(t){return t[0]==="+"}function kL(t){if(CL(t)){if(EL(t))return mn[t];if(TL(t)){var e=Zw(t);if(RL(e))return mn["EPSG:3857"];var n=AL(e);return n?ig(n):e}if(PL(t))return ig(t)}else return t}function s_(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function Ji(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function uu(t){return t<0?-1:1}function me(t){return Math.abs(t)<=kt?t:t-uu(t)*Pl}function Si(t,e,n){var i=t*n,s=.5*t;return i=Math.pow((1-i)/(1+i),s),Math.tan(.5*(ie-e))/i}function Ol(t,e){for(var n=.5*t,i,s,r=ie-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(r),s=ie-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-r,r+=s,Math.abs(s)<=1e-10)return r;return-9999}function OL(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ji(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function LL(t){var e=t.x,n=t.y;if(n*Wi>90&&n*Wi<-90&&e*Wi>180&&e*Wi<-180)return null;var i,s;if(Math.abs(Math.abs(n)-ie)<=de)return null;if(this.sphere)i=this.x0+this.a*this.k0*me(e-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(st+.5*n));else{var r=Math.sin(n),a=Si(this.e,n,r);i=this.x0+this.a*this.k0*me(e-this.long0),s=this.y0-this.a*this.k0*Math.log(a)}return t.x=i,t.y=s,t}function FL(t){var e=t.x-this.x0,n=t.y-this.y0,i,s;if(this.sphere)s=ie-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var r=Math.exp(-n/(this.a*this.k0));if(s=Ol(this.e,r),s===-9999)return null}return i=me(this.long0+e/(this.a*this.k0)),t.x=i,t.y=s,t}var DL=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const NL={init:OL,forward:LL,inverse:FL,names:DL};function VL(){}function r_(t){return t}var BL=["longlat","identity"];const $L={init:VL,forward:r_,inverse:r_,names:BL};var GL=[NL,$L],hc={},jc=[];function Jw(t,e){var n=jc.length;return t.names?(jc[n]=t,t.names.forEach(function(i){hc[i.toLowerCase()]=n}),this):(console.log(e),!0)}function UL(t){if(!t)return!1;var e=t.toLowerCase();if(typeof hc[e]<"u"&&jc[hc[e]])return jc[hc[e]]}function zL(){GL.forEach(Jw)}const WL={start:zL,add:Jw,get:UL};var De={};De.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};De.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};De.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};De.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};De.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};De.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};De.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};De.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};De.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};De.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};De.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};De.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};De.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};De.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};De.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};De.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};De.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};De.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};De.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};De.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};De.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};De.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};De.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};De.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};De.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};De.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};De.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};De.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};De.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};De.hough={a:6378270,rf:297,ellipseName:"Hough"};De.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};De.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};De.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};De.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};De.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};De.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};De.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};De.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};De.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};De.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};De.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};De.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var jL=De.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};De.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function HL(t,e,n,i){var s=t*t,r=e*e,a=(s-r)/s,o=0;i?(t*=1-a*(fL+a*(gL+a*mL)),s=t*t,a=0):o=Math.sqrt(a);var l=(s-r)/r;return{es:a,e:o,ep2:l}}function YL(t,e,n,i,s){if(!t){var r=vr(De,i);r||(r=jL),t=r.a,e=r.b,n=r.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<de)&&(s=!0,e=t),{a:t,b:e,rf:n,sphere:s}}var Gt={};Gt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Gt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Gt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Gt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Gt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Gt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Gt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Gt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Gt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Gt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Gt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Gt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Gt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Gt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Gt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Gt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Gt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Gt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function XL(t,e,n,i,s,r,a){var o={};return t===void 0||t==="none"?o.datum_type=ng:o.datum_type=hL,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=sa),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=ra,o.datum_params[3]*=il,o.datum_params[4]*=il,o.datum_params[5]*=il,o.datum_params[6]=o.datum_params[6]/1e6+1)),a&&(o.datum_type=ja,o.grids=a),o.a=n,o.b=i,o.es=s,o.ep2=r,o}var Qw={};function KL(t,e){var n=new DataView(e),i=JL(n),s=QL(n,i),r=eF(n,s,i),a={header:s,subgrids:r};return Qw[t]=a,a}function qL(t){if(t===void 0)return null;var e=t.split(",");return e.map(ZL)}function ZL(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Qw[t]||null,isNull:!1}}function La(t){return t/3600*Math.PI/180}function JL(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function QL(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:sg(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function sg(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function eF(t,e,n){for(var i=176,s=[],r=0;r<e.nSubgrids;r++){var a=nF(t,i,n),o=iF(t,i,a,n),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);s.push({ll:[La(a.lowerLongitude),La(a.lowerLatitude)],del:[La(a.longitudeInterval),La(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:tF(o)}),i+=176+a.gridNodeCount*16}return s}function tF(t){return t.map(function(e){return[La(e.longitudeShift),La(e.latitudeShift)]})}function nF(t,e,n){return{name:sg(t,e+8,e+16).trim(),parent:sg(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function iF(t,e,n,i){for(var s=e+176,r=16,a=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:t.getFloat32(s+o*r,i),longitudeShift:t.getFloat32(s+o*r+4,i),latitudeAccuracy:t.getFloat32(s+o*r+8,i),longitudeAccuracy:t.getFloat32(s+o*r+12,i)};a.push(l)}return a}function Xi(t,e){if(!(this instanceof Xi))return new Xi(t);e=e||function(u){if(u)throw u};var n=kL(t);if(typeof n!="object"){e(t);return}var i=Xi.projections.get(n.projName);if(!i){e(t);return}if(n.datumCode&&n.datumCode!=="none"){var s=vr(Gt,n.datumCode);s&&(n.datum_params=n.datum_params||(s.towgs84?s.towgs84.split(","):null),n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var r=YL(n.a,n.b,n.rf,n.ellps,n.sphere),a=HL(r.a,r.b,r.rf,n.R_A),o=qL(n.nadgrids),l=n.datum||XL(n.datumCode,n.datum_params,r.a,r.b,a.es,a.ep2,o);s_(this,n),s_(this,i),this.a=r.a,this.b=r.b,this.rf=r.rf,this.sphere=r.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}Xi.projections=WL;Xi.projections.start();function sF(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===sa?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===ra?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function eS(t,e,n){var i=t.x,s=t.y,r=t.z?t.z:0,a,o,l,u;if(s<-ie&&s>-1.001*ie)s=-ie;else if(s>ie&&s<1.001*ie)s=ie;else{if(s<-ie)return{x:-1/0,y:-1/0,z:t.z};if(s>ie)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),o=Math.sin(s),u=Math.cos(s),l=o*o,a=n/Math.sqrt(1-e*l),{x:(a+r)*u*Math.cos(i),y:(a+r)*u*Math.sin(i),z:(a*(1-e)+r)*o}}function tS(t,e,n,i){var s=1e-12,r=s*s,a=30,o,l,u,c,h,d,g,f,m,v,_,p,b,S=t.x,x=t.y,C=t.z?t.z:0,E,M,w;if(o=Math.sqrt(S*S+x*x),l=Math.sqrt(S*S+x*x+C*C),o/n<s){if(E=0,l/n<s)return M=ie,w=-i,{x:t.x,y:t.y,z:t.z}}else E=Math.atan2(x,S);u=C/l,c=o/l,h=1/Math.sqrt(1-e*(2-e)*c*c),f=c*(1-e)*h,m=u*h,b=0;do b++,g=n/Math.sqrt(1-e*m*m),w=o*f+C*m-g*(1-e*m*m),d=e*g/(g+w),h=1/Math.sqrt(1-d*(2-d)*c*c),v=c*(1-d)*h,_=u*h,p=_*f-v*m,f=v,m=_;while(p*p>r&&b<a);return M=Math.atan(_/Math.abs(v)),{x:E,y:M,z:w}}function rF(t,e,n){if(e===sa)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===ra){var i=n[0],s=n[1],r=n[2],a=n[3],o=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+o*t.z)+i,y:u*(l*t.x+t.y-a*t.z)+s,z:u*(-o*t.x+a*t.y+t.z)+r}}}function aF(t,e,n){if(e===sa)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===ra){var i=n[0],s=n[1],r=n[2],a=n[3],o=n[4],l=n[5],u=n[6],c=(t.x-i)/u,h=(t.y-s)/u,d=(t.z-r)/u;return{x:c+l*h-o*d,y:-l*c+h+a*d,z:o*c-a*h+d}}}function $u(t){return t===sa||t===ra}function oF(t,e,n){if(sF(t,e)||t.datum_type===ng||e.datum_type===ng)return n;var i=t.a,s=t.es;if(t.datum_type===ja){var r=a_(t,!1,n);if(r!==0)return;i=e_,s=t_}var a=e.a,o=e.b,l=e.es;if(e.datum_type===ja&&(a=e_,o=dL,l=t_),s===l&&i===a&&!$u(t.datum_type)&&!$u(e.datum_type))return n;if(n=eS(n,s,i),$u(t.datum_type)&&(n=rF(n,t.datum_type,t.datum_params)),$u(e.datum_type)&&(n=aF(n,e.datum_type,e.datum_params)),n=tS(n,l,a,o),e.datum_type===ja){var u=a_(e,!0,n);if(u!==0)return}return n}function a_(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},s={x:Number.NaN,y:Number.NaN},r=[];e:for(var a=0;a<t.grids.length;a++){var o=t.grids[a];if(r.push(o.name),o.isNull){s=i;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,u=0,c=l.length;u<c;u++){var h=l[u],d=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,g=h.ll[0]-d,f=h.ll[1]-d,m=h.ll[0]+(h.lim[0]-1)*h.del[0]+d,v=h.ll[1]+(h.lim[1]-1)*h.del[1]+d;if(!(f>i.y||g>i.x||v<i.y||m<i.x)&&(s=lF(i,e,h),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Wi+" "+i.y*Wi+" tried: '"+r+"'"),-1):(n.x=-s.x,n.y=s.y,0)}function lF(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var s={x:t.x,y:t.y};s.x-=n.ll[0],s.y-=n.ll[1],s.x=me(s.x-Math.PI)+Math.PI;var r=o_(s,n);if(e){if(isNaN(r.x))return i;r.x=s.x-r.x,r.y=s.y-r.y;var a=9,o=1e-12,l,u;do{if(u=o_(r,n),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(u.x+r.x),y:s.y-(u.y+r.y)},r.x+=l.x,r.y+=l.y}while(a--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=me(r.x+n.ll[0]),i.y=r.y+n.ll[1]}else isNaN(r.x)||(i.x=t.x+r.x,i.y=t.y+r.y);return i}function o_(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},s={x:n.x-1*i.x,y:n.y-1*i.y},r={x:Number.NaN,y:Number.NaN},a;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return r;a=i.y*e.lim[0]+i.x;var o={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var c={x:e.cvs[a][0],y:e.cvs[a][1]},h=s.x*s.y,d=s.x*(1-s.y),g=(1-s.x)*(1-s.y),f=(1-s.x)*s.y;return r.x=g*o.x+d*l.x+f*c.x+h*u.x,r.y=g*o.y+d*l.y+f*c.y+h*u.y,r}function l_(t,e,n){var i=n.x,s=n.y,r=n.z||0,a,o,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(a=i,"ew".indexOf(t.axis[l])!==-1?o="x":o="y"):l===1?(a=s,"ns".indexOf(t.axis[l])!==-1?o="y":o="x"):(a=r,o="z"),t.axis[l]){case"e":u[o]=a;break;case"w":u[o]=-a;break;case"n":u[o]=a;break;case"s":u[o]=-a;break;case"u":n[o]!==void 0&&(u.z=a);break;case"d":n[o]!==void 0&&(u.z=-a);break;default:return null}return u}function nS(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function uF(t){u_(t.x),u_(t.y)}function u_(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function cF(t,e){return(t.datum.datum_type===sa||t.datum.datum_type===ra||t.datum.datum_type===ja)&&e.datumCode!=="WGS84"||(e.datum.datum_type===sa||e.datum.datum_type===ra||e.datum.datum_type===ja)&&t.datumCode!=="WGS84"}function Hc(t,e,n,i){var s;Array.isArray(n)?n=nS(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var r=n.z!==void 0;if(uF(n),t.datum&&e.datum&&cF(t,e)&&(s=new Xi("WGS84"),n=Hc(t,s,n,i),t=s),i&&t.axis!=="enu"&&(n=l_(t,!1,n)),t.projName==="longlat")n={x:n.x*Xt,y:n.y*Xt,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=oF(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*Wi,y:n.y*Wi,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?l_(e,!0,n):(n&&!r&&delete n.z,n)}var c_=Xi("WGS84");function Xd(t,e,n,i){var s,r,a;return Array.isArray(n)?(s=Hc(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(n.splice(3)):[s.x,s.y,n[2]].concat(n.splice(3)):[s.x,s.y].concat(n.splice(2)):[s.x,s.y]):(r=Hc(t,e,n,i),a=Object.keys(n),a.length===2||a.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;r[o]=n[o]}),r)}function h_(t){return t instanceof Xi?t:t.oProj?t.oProj:Xi(t)}function pn(t,e,n){t=h_(t);var i=!1,s;return typeof e>"u"?(e=t,t=c_,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=c_,i=!0),e=h_(e),n?Xd(t,e,n):(s={forward:function(r,a){return Xd(t,e,r,a)},inverse:function(r,a){return Xd(e,t,r,a)}},i&&(s.oProj=e),s)}var d_=6,iS="AJSAJS",sS="AFAFAF",Fa=65,wn=73,ni=79,jo=86,Ho=90;const hF={forward:rS,inverse:dF,toPoint:aS};function rS(t,e){return e=e||5,mF(fF({lat:t[1],lon:t[0]}),e)}function dF(t){var e=Vm(lS(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function aS(t){var e=Vm(lS(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Kd(t){return t*(Math.PI/180)}function f_(t){return 180*(t/Math.PI)}function fF(t){var e=t.lat,n=t.lon,i=6378137,s=.00669438,r=.9996,a,o,l,u,c,h,d,g=Kd(e),f=Kd(n),m,v;v=Math.floor((n+180)/6)+1,n===180&&(v=60),e>=56&&e<64&&n>=3&&n<12&&(v=32),e>=72&&e<84&&(n>=0&&n<9?v=31:n>=9&&n<21?v=33:n>=21&&n<33?v=35:n>=33&&n<42&&(v=37)),a=(v-1)*6-180+3,m=Kd(a),o=s/(1-s),l=i/Math.sqrt(1-s*Math.sin(g)*Math.sin(g)),u=Math.tan(g)*Math.tan(g),c=o*Math.cos(g)*Math.cos(g),h=Math.cos(g)*(f-m),d=i*((1-s/4-3*s*s/64-5*s*s*s/256)*g-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*g)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*g)-35*s*s*s/3072*Math.sin(6*g));var _=r*l*(h+(1-u+c)*h*h*h/6+(5-18*u+u*u+72*c-58*o)*h*h*h*h*h/120)+5e5,p=r*(d+l*Math.tan(g)*(h*h/2+(5-u+9*c+4*c*c)*h*h*h*h/24+(61-58*u+u*u+600*c-330*o)*h*h*h*h*h*h/720));return e<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(_),zoneNumber:v,zoneLetter:gF(e)}}function Vm(t){var e=t.northing,n=t.easting,i=t.zoneLetter,s=t.zoneNumber;if(s<0||s>60)return null;var r=.9996,a=6378137,o=.00669438,l,u=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),c,h,d,g,f,m,v,_,p,b=n-5e5,S=e;i<"N"&&(S-=1e7),v=(s-1)*6-180+3,l=o/(1-o),m=S/r,_=m/(a*(1-o/4-3*o*o/64-5*o*o*o/256)),p=_+(3*u/2-27*u*u*u/32)*Math.sin(2*_)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*_)+151*u*u*u/96*Math.sin(6*_),c=a/Math.sqrt(1-o*Math.sin(p)*Math.sin(p)),h=Math.tan(p)*Math.tan(p),d=l*Math.cos(p)*Math.cos(p),g=a*(1-o)/Math.pow(1-o*Math.sin(p)*Math.sin(p),1.5),f=b/(c*r);var x=p-c*Math.tan(p)/g*(f*f/2-(5+3*h+10*d-4*d*d-9*l)*f*f*f*f/24+(61+90*h+298*d+45*h*h-252*l-3*d*d)*f*f*f*f*f*f/720);x=f_(x);var C=(f-(1+2*h+d)*f*f*f/6+(5-2*d+28*h-3*d*d+8*l+24*h*h)*f*f*f*f*f/120)/Math.cos(p);C=v+f_(C);var E;if(t.accuracy){var M=Vm({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});E={top:M.lat,right:M.lon,bottom:x,left:C}}else E={lat:x,lon:C};return E}function gF(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function mF(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+vF(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function vF(t,e,n){var i=oS(n),s=Math.floor(t/1e5),r=Math.floor(e/1e5)%20;return yF(s,r,i)}function oS(t){var e=t%d_;return e===0&&(e=d_),e}function yF(t,e,n){var i=n-1,s=iS.charCodeAt(i),r=sS.charCodeAt(i),a=s+t-1,o=r+e,l=!1;a>Ho&&(a=a-Ho+Fa-1,l=!0),(a===wn||s<wn&&a>wn||(a>wn||s<wn)&&l)&&a++,(a===ni||s<ni&&a>ni||(a>ni||s<ni)&&l)&&(a++,a===wn&&a++),a>Ho&&(a=a-Ho+Fa-1),o>jo?(o=o-jo+Fa-1,l=!0):l=!1,(o===wn||r<wn&&o>wn||(o>wn||r<wn)&&l)&&o++,(o===ni||r<ni&&o>ni||(o>ni||r<ni)&&l)&&(o++,o===wn&&o++),o>jo&&(o=o-jo+Fa-1);var u=String.fromCharCode(a)+String.fromCharCode(o);return u}function lS(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",s,r=0;!/[A-Z]/.test(s=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;i+=s,r++}var a=parseInt(i,10);if(r===0||r+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(r++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;n=t.substring(r,r+=2);for(var l=oS(a),u=_F(n.charAt(0),l),c=pF(n.charAt(1),l);c<bF(o);)c+=2e6;var h=e-r;if(h%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var d=h/2,g=0,f=0,m,v,_,p,b;return d>0&&(m=1e5/Math.pow(10,d),v=t.substring(r,r+d),g=parseFloat(v)*m,_=t.substring(r+d),f=parseFloat(_)*m),p=g+u,b=f+c,{easting:p,northing:b,zoneLetter:o,zoneNumber:a,accuracy:m}}function _F(t,e){for(var n=iS.charCodeAt(e-1),i=1e5,s=!1;n!==t.charCodeAt(0);){if(n++,n===wn&&n++,n===ni&&n++,n>Ho){if(s)throw"Bad character: "+t;n=Fa,s=!0}i+=1e5}return i}function pF(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=sS.charCodeAt(e-1),i=0,s=!1;n!==t.charCodeAt(0);){if(n++,n===wn&&n++,n===ni&&n++,n>jo){if(s)throw"Bad character: "+t;n=Fa,s=!0}i+=1e5}return i}function bF(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ro(t,e,n){if(!(this instanceof ro))return new ro(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ro.fromMGRS=function(t){return new ro(aS(t))};ro.prototype.toMGRS=function(t){return rS([this.x,this.y],t)};var xF=1,wF=.25,g_=.046875,m_=.01953125,v_=.01068115234375,SF=.75,CF=.46875,EF=.013020833333333334,MF=.007120768229166667,TF=.3645833333333333,IF=.005696614583333333,RF=.3076171875;function uS(t){var e=[];e[0]=xF-t*(wF+t*(g_+t*(m_+t*v_))),e[1]=t*(SF-t*(g_+t*(m_+t*v_)));var n=t*t;return e[2]=n*(CF-t*(EF+t*MF)),n*=t,e[3]=n*(TF-t*IF),e[4]=n*t*RF,e}function Kh(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var AF=20;function cS(t,e,n){for(var i=1/(1-e),s=t,r=AF;r;--r){var a=Math.sin(s),o=1-e*a*a;if(o=(Kh(s,a,Math.cos(s),n)-t)*(o*Math.sqrt(o))*i,s-=o,Math.abs(o)<de)return s}return s}function PF(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=uS(this.es),this.ml0=Kh(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function kF(t){var e=t.x,n=t.y,i=me(e-this.long0),s,r,a,o=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,h=Math.pow(c,2),d=this.ep2*Math.pow(l,2),g=Math.pow(d,2),f=Math.abs(l)>de?Math.tan(n):0,m=Math.pow(f,2),v=Math.pow(m,2);s=1-this.es*Math.pow(o,2),c=c/Math.sqrt(s);var _=Kh(n,o,l,this.en);r=this.a*(this.k0*c*(1+h/6*(1-m+d+h/20*(5-18*m+v+14*d-58*m*d+h/42*(61+179*v-v*m-479*m)))))+this.x0,a=this.a*(this.k0*(_-this.ml0+o*i*c/2*(1+h/12*(5-m+9*d+4*g+h/30*(61+v-58*m+270*d-330*m*d+h/56*(1385+543*v-v*m-3111*m))))))+this.y0}else{var u=l*Math.sin(i);if(Math.abs(Math.abs(u)-1)<de)return 93;if(r=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(i)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>de)return 93;a=0}else a=Math.acos(a);n<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return t.x=r,t.y=a,t}function OF(t){var e,n,i,s,r=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=cS(e,this.es,this.en),Math.abs(n)<ie){var h=Math.sin(n),d=Math.cos(n),g=Math.abs(d)>de?Math.tan(n):0,f=this.ep2*Math.pow(d,2),m=Math.pow(f,2),v=Math.pow(g,2),_=Math.pow(v,2);e=1-this.es*Math.pow(h,2);var p=r*Math.sqrt(e)/this.k0,b=Math.pow(p,2);e=e*g,i=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*v-9*f*v+f-4*m-b/30*(61+90*v-252*f*v+45*_+46*f-b/56*(1385+3633*v+4095*_+1574*_*v)))),s=me(this.long0+p*(1-b/6*(1+2*v+f-b/20*(5+28*v+24*_+8*f*v+6*f-b/42*(61+662*v+1320*_+720*_*v))))/d)}else i=ie*uu(a),s=0;else{var o=Math.exp(r/this.k0),l=.5*(o-1/o),u=this.lat0+a/this.k0,c=Math.cos(u);e=Math.sqrt((1-Math.pow(c,2))/(1+Math.pow(l,2))),i=Math.asin(e),a<0&&(i=-i),l===0&&c===0?s=0:s=me(Math.atan2(l,c)+this.long0)}return t.x=s,t.y=i,t}var LF=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const dc={init:PF,forward:kF,inverse:OF,names:LF};function hS(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function si(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function FF(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function DF(t){var e=Math.abs(t);return e=FF(e*(1+e/(si(1,e)+1))),t<0?-e:e}function Bm(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,s=t[i],r=0,a;--i>=0;)a=-r+n*s+t[i],r=s,s=a;return e+a*Math.sin(2*e)}function NF(t,e){for(var n=2*Math.cos(e),i=t.length-1,s=t[i],r=0,a;--i>=0;)a=-r+n*s+t[i],r=s,s=a;return Math.sin(e)*a}function VF(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function dS(t,e,n){for(var i=Math.sin(e),s=Math.cos(e),r=hS(n),a=VF(n),o=2*s*a,l=-2*i*r,u=t.length-1,c=t[u],h=0,d=0,g=0,f,m;--u>=0;)f=d,m=h,d=c,h=g,c=-f+o*d-l*h+t[u],g=-m+l*d+o*h;return o=i*a,l=s*r,[o*c-l*g,o*g+l*c]}function BF(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(dc.init.apply(this),this.forward=dc.forward,this.inverse=dc.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=Bm(this.cbg,this.lat0);this.Zb=-this.Qn*(i+NF(this.gtu,2*i))}function $F(t){var e=me(t.x-this.long0),n=t.y;n=Bm(this.cbg,n);var i=Math.sin(n),s=Math.cos(n),r=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*s),e=Math.atan2(r*s,si(i,s*a)),e=DF(Math.tan(e));var o=dS(this.gtu,2*n,2*e);n=n+o[0],e=e+o[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,u=1/0),t.x=l,t.y=u,t}function GF(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,s;if(Math.abs(e)<=2.623395162778){var r=dS(this.utg,2*n,2*e);n=n+r[0],e=e+r[1],e=Math.atan(hS(e));var a=Math.sin(n),o=Math.cos(n),l=Math.sin(e),u=Math.cos(e);n=Math.atan2(a*u,si(l,u*o)),e=Math.atan2(l,u*o),i=me(e+this.long0),s=Bm(this.cgb,n)}else i=1/0,s=1/0;return t.x=i,t.y=s,t}var UF=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const fc={init:BF,forward:$F,inverse:GF,names:UF};function zF(t,e){if(t===void 0){if(t=Math.floor((me(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var WF="etmerc";function jF(){var t=zF(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Xt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,fc.init.apply(this),this.forward=fc.forward,this.inverse=fc.inverse}var HF=["Universal Transverse Mercator System","utm"];const YF={init:jF,names:HF,dependsOn:WF};function $m(t,e){return Math.pow((1-t)/(1+t),e)}var XF=20;function KF(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+st)/(Math.pow(Math.tan(.5*this.lat0+st),this.C)*$m(this.e*t,this.ratexp))}function qF(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+st),this.C)*$m(this.e*Math.sin(n),this.ratexp))-ie,t.x=this.C*e,t}function ZF(t){for(var e=1e-14,n=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+st)/this.K,1/this.C),r=XF;r>0&&(i=2*Math.atan(s*$m(this.e*Math.sin(t.y),-.5*this.e))-ie,!(Math.abs(i-t.y)<e));--r)t.y=i;return r?(t.x=n,t.y=i,t):null}var JF=["gauss"];const Gm={init:KF,forward:qF,inverse:ZF,names:JF};function QF(){Gm.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function eD(t){var e,n,i,s;return t.x=me(t.x-this.long0),Gm.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=s*n*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function tD(t){var e,n,i,s,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=si(t.x,t.y)){var a=2*Math.atan2(r,this.R2);e=Math.sin(a),n=Math.cos(a),s=Math.asin(n*this.sinc0+t.y*e*this.cosc0/r),i=Math.atan2(t.x*e,r*this.cosc0*n-t.y*this.sinc0*e)}else s=this.phic0,i=0;return t.x=i,t.y=s,Gm.inverse.apply(this,[t]),t.x=me(t.x+this.long0),t}var nD=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const iD={init:QF,forward:eD,inverse:tD,names:nD};function sD(t,e,n){return e*=n,Math.tan(.5*(ie+t))*Math.pow((1-e)/(1+e),.5*n)}function rD(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=de&&(this.k0=.5*(1+uu(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=de&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=de&&Math.abs(Math.cos(this.lat_ts))>de&&(this.k0=.5*this.cons*Ji(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Si(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ji(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ie,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function aD(t){var e=t.x,n=t.y,i=Math.sin(n),s=Math.cos(n),r,a,o,l,u,c,h=me(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=de&&Math.abs(n+this.lat0)<=de?(t.x=NaN,t.y=NaN,t):this.sphere?(r=2*this.k0/(1+this.sinlat0*i+this.coslat0*s*Math.cos(h)),t.x=this.a*r*s*Math.sin(h)+this.x0,t.y=this.a*r*(this.coslat0*i-this.sinlat0*s*Math.cos(h))+this.y0,t):(a=2*Math.atan(this.ssfn_(n,i,this.e))-ie,l=Math.cos(a),o=Math.sin(a),Math.abs(this.coslat0)<=de?(u=Si(this.e,n*this.con,this.con*i),c=2*this.a*this.k0*u/this.cons,t.x=this.x0+c*Math.sin(e-this.long0),t.y=this.y0-this.con*c*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<de?(r=2*this.a*this.k0/(1+l*Math.cos(h)),t.y=r*o):(r=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(h))),t.y=r*(this.cosX0*o-this.sinX0*l*Math.cos(h))+this.y0),t.x=r*l*Math.sin(h)+this.x0,t))}function oD(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,r,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=de?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/a),Math.abs(this.coslat0)<de?this.lat0>0?e=me(this.long0+Math.atan2(t.x,-1*t.y)):e=me(this.long0+Math.atan2(t.x,t.y)):e=me(this.long0+Math.atan2(t.x*Math.sin(o),a*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=de){if(a<=de)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*Ol(this.e,i),e=this.con*me(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=de?r=this.X0:(r=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/a),e=me(this.long0+Math.atan2(t.x*Math.sin(s),a*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),n=-1*Ol(this.e,Math.tan(.5*(ie+r)));return t.x=e,t.y=n,t}var lD=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const uD={init:rD,forward:aD,inverse:oD,names:lD,ssfn_:sD};function cD(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,s=1/i,r=2*s-Math.pow(s,2),a=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*l+this.alpha*a/2*u}function hD(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,s=2*(Math.atan(Math.exp(i))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(r))),o=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*a+this.x0,t}function dD(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,s=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(s))),o=this.lambda0+a/this.alpha,l=0,u=r,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=o,t.y=u,t}var fD=["somerc"];const gD={init:cD,forward:hD,inverse:dD,names:fD};var Ta=1e-7;function mD(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function vD(){var t,e,n,i,s,r,a,o,l,u,c=0,h,d=0,g=0,f=0,m=0,v=0,_=0;this.no_off=mD(this),this.no_rot="no_rot"in this;var p=!1;"alpha"in this&&(p=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),p&&(_=this.alpha),b&&(c=this.rectified_grid_angle*Xt),p||b)d=this.longc;else if(g=this.long1,m=this.lat1,f=this.long2,v=this.lat2,Math.abs(m-v)<=Ta||(t=Math.abs(m))<=Ta||Math.abs(t-ie)<=Ta||Math.abs(Math.abs(this.lat0)-ie)<=Ta||Math.abs(Math.abs(v)-ie)<=Ta)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>de?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),s=i*i-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=i,this.E*=Math.pow(Si(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=s=1),p||b?(p?(h=Math.asin(Math.sin(_)/i),b||(c=_)):(h=c,_=Math.asin(i*Math.sin(h))),this.lam0=d-Math.asin(.5*(s-1/s)*Math.tan(h))/this.B):(r=Math.pow(Si(this.e,m,Math.sin(m)),this.B),a=Math.pow(Si(this.e,v,Math.sin(v)),this.B),s=this.E/r,l=(a-r)/(a+r),u=this.E*this.E,u=(u-a*r)/(u+a*r),t=g-f,t<-Math.pi?f-=Pl:t>Math.pi&&(f+=Pl),this.lam0=me(.5*(g+f)-Math.atan(u*Math.tan(.5*this.B*(g-f))/l)/this.B),h=Math.atan(2*Math.sin(this.B*me(g-this.lam0))/(s-1/s)),c=_=Math.asin(i*Math.sin(h))),this.singam=Math.sin(h),this.cosgam=Math.cos(h),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*h,this.v_pole_n=this.ArB*Math.log(Math.tan(st-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(st+s))}function yD(t){var e={},n,i,s,r,a,o,l,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-ie)>de){if(a=this.E/Math.pow(Si(this.e,t.y,Math.sin(t.y)),this.B),o=1/a,n=.5*(a-o),i=.5*(a+o),r=Math.sin(this.B*t.x),s=(n*this.singam-r*this.cosgam)/i,Math.abs(Math.abs(s)-1)<de)throw new Error;u=.5*this.ArB*Math.log((1-s)/(1+s)),o=Math.cos(this.B*t.x),Math.abs(o)<Ta?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+r*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function _D(t){var e,n,i,s,r,a,o,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),s=.5*(i-1/i),r=.5*(i+1/i),a=Math.sin(this.BrA*e),o=(a*this.cosgam+s*this.singam)/r,Math.abs(Math.abs(o)-1)<de)l.x=0,l.y=o<0?-ie:ie;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=Ol(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var pD=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const bD={init:vD,forward:yD,inverse:_D,names:pD};function xD(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<de)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Ji(this.e,e,n),s=Si(this.e,this.lat1,e),r=Math.sin(this.lat2),a=Math.cos(this.lat2),o=Ji(this.e,r,a),l=Si(this.e,this.lat2,r),u=Si(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>de?this.ns=Math.log(i/o)/Math.log(s/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function wD(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=de&&(n=uu(n)*(ie-2*de));var i=Math.abs(Math.abs(n)-ie),s,r;if(i>de)s=Si(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(s,this.ns);else{if(i=n*this.ns,i<=0)return null;r=0}var a=this.ns*me(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t}function SD(t){var e,n,i,s,r,a=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+o*o),n=1):(e=-Math.sqrt(a*a+o*o),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*a,n*o)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),s=Ol(this.e,i),s===-9999)return null}else s=-ie;return r=me(l/this.ns+this.long0),t.x=r,t.y=s,t}var CD=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const ED={init:xD,forward:wD,inverse:SD,names:CD};function MD(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function TD(t){var e,n,i,s,r,a,o,l=t.x,u=t.y,c=me(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(s)),a=this.n*r,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=o*Math.cos(a)/1,t.x=o*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function ID(t){var e,n,i,s,r,a,o,l,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x),s=r/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(s)),n=Math.asin(Math.cos(i)*Math.sin(s)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e,l=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(l=1),o=t.y,c+=1;while(l===0&&c<15);return c>=15?null:t}var RD=["Krovak","krovak"];const AD={init:MD,forward:TD,inverse:ID,names:RD};function yn(t,e,n,i,s){return t*s-e*Math.sin(2*s)+n*Math.sin(4*s)-i*Math.sin(6*s)}function cu(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function hu(t){return .375*t*(1+.25*t*(1+.46875*t))}function du(t){return .05859375*t*t*(1+.75*t)}function fu(t){return t*t*t*(35/3072)}function ao(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Co(t){return Math.abs(t)<ie?t:t-uu(t)*Math.PI}function Yc(t,e,n,i,s){var r,a;r=t/e;for(var o=0;o<15;o++)if(a=(t-(e*r-n*Math.sin(2*r)+i*Math.sin(4*r)-s*Math.sin(6*r)))/(e-2*n*Math.cos(2*r)+4*i*Math.cos(4*r)-6*s*Math.cos(6*r)),r+=a,Math.abs(a)<=1e-10)return r;return NaN}function PD(){this.sphere||(this.e0=cu(this.es),this.e1=hu(this.es),this.e2=du(this.es),this.e3=fu(this.es),this.ml0=this.a*yn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function kD(t){var e,n,i=t.x,s=t.y;if(i=me(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(s),Math.cos(i))-this.lat0);else{var r=Math.sin(s),a=Math.cos(s),o=ao(this.a,this.e,r),l=Math.tan(s)*Math.tan(s),u=i*Math.cos(s),c=u*u,h=this.es*a*a/(1-this.es),d=this.a*yn(this.e0,this.e1,this.e2,this.e3,s);e=o*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=d-this.ml0+o*r/a*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function OD(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s;if(this.sphere){var r=n+this.lat0;i=Math.asin(Math.sin(r)*Math.cos(e)),s=Math.atan2(Math.tan(e),Math.cos(r))}else{var a=this.ml0/this.a+n,o=Yc(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-ie)<=de)return t.x=this.long0,t.y=ie,n<0&&(t.y*=-1),t;var l=ao(this.a,this.e,Math.sin(o)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(o),2),h=e*this.a/l,d=h*h;i=o-l*Math.tan(o)/u*h*h*(.5-(1+3*c)*h*h/24),s=h*(1-d*(c/3+(1+3*c)*c*d/15))/Math.cos(o)}return t.x=me(s+this.long0),t.y=Co(i),t}var LD=["Cassini","Cassini_Soldner","cass"];const FD={init:PD,forward:kD,inverse:OD,names:LD};function hr(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var DD=1,ND=2,VD=3,BD=4;function $D(){var t=Math.abs(this.lat0);if(Math.abs(t-ie)<de?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<de?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=hr(this.e,1),this.mmf=.5/(1-this.es),this.apa=KD(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=hr(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function GD(t){var e,n,i,s,r,a,o,l,u,c,h=t.x,d=t.y;if(h=me(h-this.long0),this.sphere){if(r=Math.sin(d),c=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*r+this.cosph0*c*i,n<=de)return null;n=Math.sqrt(2/n),e=n*c*Math.sin(h),n*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<de)return null;n=st-d*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(h),n*=i}}else{switch(o=0,l=0,u=0,i=Math.cos(h),s=Math.sin(h),r=Math.sin(d),a=hr(this.e,r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=a/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=ie+d,a=this.qp-a;break;case this.S_POLE:u=d-ie,a=this.qp+a;break}if(Math.abs(u)<de)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?n=this.ymf*u*(this.cosb1*o-this.sinb1*l*i):n=(u=Math.sqrt(2/(1+l*i)))*o*this.ymf,e=this.xmf*u*l*s;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*s,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function UD(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,s,r,a,o,l,u;if(this.sphere){var c=0,h,d=0;if(h=Math.sqrt(e*e+n*n),s=h*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(s),c=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(h)<=de?0:Math.asin(n*d/h),e*=d,n=c*h;break;case this.OBLIQ:s=Math.abs(h)<=de?this.lat0:Math.asin(c*this.sinph0+n*d*this.cosph0/h),e*=d*this.cosph0,n=(c-Math.sin(s)*this.sinph0)*h;break;case this.N_POLE:n=-n,s=ie-s;break;case this.S_POLE:s-=ie;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<de)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*l/this.rq),r=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=r*this.sinb1+n*a*this.cosb1/l,o=this.qp*u,n=l*this.cosb1*r-n*this.sinb1*a):(u=n*a/l,o=this.qp*u,n=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=e*e+n*n,!o)return t.x=this.long0,t.y=this.lat0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}i=Math.atan2(e,n),s=qD(Math.asin(u),this.apa)}return t.x=me(this.long0+i),t.y=s,t}var zD=.3333333333333333,WD=.17222222222222222,jD=.10257936507936508,HD=.06388888888888888,YD=.0664021164021164,XD=.016415012942191543;function KD(t){var e,n=[];return n[0]=t*zD,e=t*t,n[0]+=e*WD,n[1]=e*HD,e*=t,n[0]+=e*jD,n[1]+=e*YD,n[2]=e*XD,n}function qD(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var ZD=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const JD={init:$D,forward:GD,inverse:UD,names:ZD,S_POLE:DD,N_POLE:ND,EQUIT:VD,OBLIQ:BD};function yr(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function QD(){Math.abs(this.lat1+this.lat2)<de||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ji(this.e3,this.sin_po,this.cos_po),this.qs1=hr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ji(this.e3,this.sin_po,this.cos_po),this.qs2=hr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=hr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>de?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function eN(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=hr(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,r=this.ns0*me(e-this.long0),a=s*Math.sin(r)+this.x0,o=this.rh-s*Math.cos(r)+this.y0;return t.x=a,t.y=o,t}function tN(t){var e,n,i,s,r,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),s=0,e!==0&&(s=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),r=me(s/this.ns0+this.long0),t.x=r,t.y=a,t}function nN(t,e){var n,i,s,r,a,o=yr(.5*e);if(t<de)return o;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(o),i=Math.cos(o),s=t*n,r=1-s*s,a=.5*r*r/i*(e/(1-l)-n/r+.5/t*Math.log((1-s)/(1+s))),o=o+a,Math.abs(a)<=1e-7)return o;return null}var iN=["Albers_Conic_Equal_Area","Albers","aea"];const sN={init:QD,forward:eN,inverse:tN,names:iN,phi1z:nN};function rN(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function aN(t){var e,n,i,s,r,a,o,l,u=t.x,c=t.y;return i=me(u-this.long0),e=Math.sin(c),n=Math.cos(c),s=Math.cos(i),a=this.sin_p14*e+this.cos_p14*n*s,r=1,a>0||Math.abs(a)<=de?(o=this.x0+this.a*r*n*Math.sin(i)/a,l=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*n*s)/a):(o=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*s)),t.x=o,t.y=l,t}function oN(t){var e,n,i,s,r,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),n=Math.sin(s),i=Math.cos(s),a=yr(i*this.sin_p14+t.y*n*this.cos_p14/e),r=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),r=me(this.long0+r)):(a=this.phic0,r=0),t.x=r,t.y=a,t}var lN=["gnom"];const uN={init:rN,forward:aN,inverse:oN,names:lN};function cN(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*ie:ie;for(var i=Math.asin(.5*e),s,r,a,o,l=0;l<30;l++)if(r=Math.sin(i),a=Math.cos(i),o=t*r,s=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-r/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),i+=s,Math.abs(s)<=1e-10)return i;return NaN}function hN(){this.sphere||(this.k0=Ji(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function dN(t){var e=t.x,n=t.y,i,s,r=me(e-this.long0);if(this.sphere)i=this.x0+this.a*r*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=hr(this.e,Math.sin(n));i=this.x0+this.a*this.k0*r,s=this.y0+this.a*a*.5/this.k0}return t.x=i,t.y=s,t}function fN(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=me(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=cN(this.e,2*t.y*this.k0/this.a),e=me(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var gN=["cea"];const mN={init:hN,forward:dN,inverse:fN,names:gN};function vN(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function yN(t){var e=t.x,n=t.y,i=me(e-this.long0),s=Co(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*s,t}function _N(t){var e=t.x,n=t.y;return t.x=me(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Co(this.lat0+(n-this.y0)/this.a),t}var pN=["Equirectangular","Equidistant_Cylindrical","eqc"];const bN={init:vN,forward:yN,inverse:_N,names:pN};var y_=20;function xN(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=cu(this.es),this.e1=hu(this.es),this.e2=du(this.es),this.e3=fu(this.es),this.ml0=this.a*yn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function wN(t){var e=t.x,n=t.y,i,s,r,a=me(e-this.long0);if(r=a*Math.sin(n),this.sphere)Math.abs(n)<=de?(i=this.a*a,s=-1*this.a*this.lat0):(i=this.a*Math.sin(r)/Math.tan(n),s=this.a*(Co(n-this.lat0)+(1-Math.cos(r))/Math.tan(n)));else if(Math.abs(n)<=de)i=this.a*a,s=-1*this.ml0;else{var o=ao(this.a,this.e,Math.sin(n))/Math.tan(n);i=o*Math.sin(r),s=this.a*yn(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(r))}return t.x=i+this.x0,t.y=s+this.y0,t}function SN(t){var e,n,i,s,r,a,o,l,u;if(i=t.x-this.x0,s=t.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=de)e=me(i/this.a+this.long0),n=0;else{a=this.lat0+s/this.a,o=i*i/this.a/this.a+a*a,l=a;var c;for(r=y_;r;--r)if(c=Math.tan(l),u=-1*(a*(l*c+1)-l-.5*(l*l+o)*c)/((l-a)/c-1),l+=u,Math.abs(u)<=de){n=l;break}e=me(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(s+this.ml0)<=de)n=0,e=me(this.long0+i/this.a);else{a=(this.ml0+s)/this.a,o=i*i/this.a/this.a+a*a,l=a;var h,d,g,f,m;for(r=y_;r;--r)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*yn(this.e0,this.e1,this.e2,this.e3,l),g=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),f=d/this.a,u=(a*(h*f+1)-f-.5*h*(f*f+o))/(this.es*Math.sin(2*l)*(f*f+o-2*a*f)/(4*h)+(a-f)*(h*g-2/Math.sin(2*l))-g),l-=u,Math.abs(u)<=de){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=me(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var CN=["Polyconic","poly"];const EN={init:xN,forward:wN,inverse:SN,names:CN};function MN(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function TN(t){var e,n=t.x,i=t.y,s=i-this.lat0,r=n-this.long0,a=s/il*1e-5,o=r,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var c=u,h=o,d=1,g=0,f,m,v=0,_=0;for(e=1;e<=6;e++)f=d*c-g*h,m=g*c+d*h,d=f,g=m,v=v+this.B_re[e]*d-this.B_im[e]*g,_=_+this.B_im[e]*d+this.B_re[e]*g;return t.x=_*this.a+this.x0,t.y=v*this.a+this.y0,t}function IN(t){var e,n=t.x,i=t.y,s=n-this.x0,r=i-this.y0,a=r/this.a,o=s/this.a,l=1,u=0,c,h,d=0,g=0;for(e=1;e<=6;e++)c=l*a-u*o,h=u*a+l*o,l=c,u=h,d=d+this.C_re[e]*l-this.C_im[e]*u,g=g+this.C_im[e]*l+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var m=d,v=g,_,p,b=a,S=o;for(e=2;e<=6;e++)_=m*d-v*g,p=v*d+m*g,m=_,v=p,b=b+(e-1)*(this.B_re[e]*m-this.B_im[e]*v),S=S+(e-1)*(this.B_im[e]*m+this.B_re[e]*v);m=1,v=0;var x=this.B_re[1],C=this.B_im[1];for(e=2;e<=6;e++)_=m*d-v*g,p=v*d+m*g,m=_,v=p,x=x+e*(this.B_re[e]*m-this.B_im[e]*v),C=C+e*(this.B_im[e]*m+this.B_re[e]*v);var E=x*x+C*C;d=(b*x+S*C)/E,g=(S*x-b*C)/E}var M=d,w=g,A=1,P=0;for(e=1;e<=9;e++)A=A*M,P=P+this.D[e]*A;var T=this.lat0+P*il*1e5,F=this.long0+w;return t.x=F,t.y=T,t}var RN=["New_Zealand_Map_Grid","nzmg"];const AN={init:MN,forward:TN,inverse:IN,names:RN};function PN(){}function kN(t){var e=t.x,n=t.y,i=me(e-this.long0),s=this.x0+this.a*i,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=s,t.y=r,t}function ON(t){t.x-=this.x0,t.y-=this.y0;var e=me(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var LN=["Miller_Cylindrical","mill"];const FN={init:PN,forward:kN,inverse:ON,names:LN};var DN=20;function NN(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=uS(this.es)}function VN(t){var e,n,i=t.x,s=t.y;if(i=me(i-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var r=this.n*Math.sin(s),a=DN;a;--a){var o=(this.m*s+Math.sin(s)-r)/(this.m+Math.cos(s));if(s-=o,Math.abs(o)<de)break}e=this.a*this.C_x*i*(this.m+Math.cos(s)),n=this.a*this.C_y*s}else{var l=Math.sin(s),u=Math.cos(s);n=this.a*Kh(s,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function BN(t){var e,n,i,s;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=yr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=yr(Math.sin(e)/this.n)),i=me(i+this.long0),e=Co(e)):(e=cS(t.y/this.a,this.es,this.en),s=Math.abs(e),s<ie?(s=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),i=me(n)):s-de<ie&&(i=this.long0)),t.x=i,t.y=e,t}var $N=["Sinusoidal","sinu"];const GN={init:NN,forward:VN,inverse:BN,names:$N};function UN(){}function zN(t){for(var e=t.x,n=t.y,i=me(e-this.long0),s=n,r=Math.PI*Math.sin(n);;){var a=-(s+Math.sin(s)-r)/(1+Math.cos(s));if(s+=a,Math.abs(a)<de)break}s/=2,Math.PI/2-Math.abs(n)<de&&(i=0);var o=.900316316158*this.a*i*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=o,t.y=l,t}function WN(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=me(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var s=Math.asin(n);return t.x=i,t.y=s,t}var jN=["Mollweide","moll"];const HN={init:UN,forward:zN,inverse:WN,names:jN};function YN(){Math.abs(this.lat1+this.lat2)<de||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=cu(this.es),this.e1=hu(this.es),this.e2=du(this.es),this.e3=fu(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ji(this.e,this.sinphi,this.cosphi),this.ml1=yn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<de?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ji(this.e,this.sinphi,this.cosphi),this.ml2=yn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=yn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function XN(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var s=yn(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-s)}var r=this.ns*me(e-this.long0),a=this.x0+i*Math.sin(r),o=this.y0+this.rh-i*Math.cos(r);return t.x=a,t.y=o,t}function KN(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,s;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(n!==0&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return s=me(this.long0+r/this.ns),i=Co(this.g-n/this.a),t.x=s,t.y=i,t;var a=this.g-n/this.a;return i=Yc(a,this.e0,this.e1,this.e2,this.e3),s=me(this.long0+r/this.ns),t.x=s,t.y=i,t}var qN=["Equidistant_Conic","eqdc"];const ZN={init:YN,forward:XN,inverse:KN,names:qN};function JN(){this.R=this.a}function QN(t){var e=t.x,n=t.y,i=me(e-this.long0),s,r;Math.abs(n)<=de&&(s=this.x0+this.R*i,r=this.y0);var a=yr(2*Math.abs(n/Math.PI));(Math.abs(i)<=de||Math.abs(Math.abs(n)-ie)<=de)&&(s=this.x0,n>=0?r=this.y0+Math.PI*this.R*Math.tan(.5*a):r=this.y0+Math.PI*this.R*-Math.tan(.5*a));var o=.5*Math.abs(Math.PI/i-i/Math.PI),l=o*o,u=Math.sin(a),c=Math.cos(a),h=c/(u+c-1),d=h*h,g=h*(2/u-1),f=g*g,m=Math.PI*this.R*(o*(h-f)+Math.sqrt(l*(h-f)*(h-f)-(f+l)*(d-f)))/(f+l);i<0&&(m=-m),s=this.x0+m;var v=l+h;return m=Math.PI*this.R*(g*v-o*Math.sqrt((f+l)*(l+1)-v*v))/(f+l),n>=0?r=this.y0+m:r=this.y0-m,t.x=s,t.y=r,t}function e3(t){var e,n,i,s,r,a,o,l,u,c,h,d,g;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,i=t.x/h,s=t.y/h,r=i*i+s*s,a=-Math.abs(s)*(1+r),o=a-2*s*s+i*i,l=-2*a+1+2*s*s+r*r,g=s*s/l+(2*o*o*o/l/l/l-9*a*o/l/l)/27,u=(a-o*o/3/l)/l,c=2*Math.sqrt(-u/3),h=3*g/u/c,Math.abs(h)>1&&(h>=0?h=1:h=-1),d=Math.acos(h)/3,t.y>=0?n=(-c*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI:n=-(-c*Math.cos(d+Math.PI/3)-o/3/l)*Math.PI,Math.abs(i)<de?e=this.long0:e=me(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(i*i-s*s)+r*r))/2/i),t.x=e,t.y=n,t}var t3=["Van_der_Grinten_I","VanDerGrinten","vandg"];const n3={init:JN,forward:QN,inverse:e3,names:t3};function i3(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function s3(t){var e=t.x,n=t.y,i=Math.sin(t.y),s=Math.cos(t.y),r=me(e-this.long0),a,o,l,u,c,h,d,g,f,m,v,_,p,b,S,x,C,E,M,w,A,P,T;return this.sphere?Math.abs(this.sin_p12-1)<=de?(t.x=this.x0+this.a*(ie-n)*Math.sin(r),t.y=this.y0-this.a*(ie-n)*Math.cos(r),t):Math.abs(this.sin_p12+1)<=de?(t.x=this.x0+this.a*(ie+n)*Math.sin(r),t.y=this.y0+this.a*(ie+n)*Math.cos(r),t):(E=this.sin_p12*i+this.cos_p12*s*Math.cos(r),x=Math.acos(E),C=x?x/Math.sin(x):1,t.x=this.x0+this.a*C*s*Math.sin(r),t.y=this.y0+this.a*C*(this.cos_p12*i-this.sin_p12*s*Math.cos(r)),t):(a=cu(this.es),o=hu(this.es),l=du(this.es),u=fu(this.es),Math.abs(this.sin_p12-1)<=de?(c=this.a*yn(a,o,l,u,ie),h=this.a*yn(a,o,l,u,n),t.x=this.x0+(c-h)*Math.sin(r),t.y=this.y0-(c-h)*Math.cos(r),t):Math.abs(this.sin_p12+1)<=de?(c=this.a*yn(a,o,l,u,ie),h=this.a*yn(a,o,l,u,n),t.x=this.x0+(c+h)*Math.sin(r),t.y=this.y0+(c+h)*Math.cos(r),t):(d=i/s,g=ao(this.a,this.e,this.sin_p12),f=ao(this.a,this.e,i),m=Math.atan((1-this.es)*d+this.es*g*this.sin_p12/(f*s)),v=Math.atan2(Math.sin(r),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(r)),v===0?M=Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(v)-Math.PI)<=de?M=-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):M=Math.asin(Math.sin(r)*Math.cos(m)/Math.sin(v)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es),b=_*p,S=p*p,w=M*M,A=w*M,P=A*M,T=P*M,x=g*M*(1-w*S*(1-S)/6+A/8*b*(1-2*S)+P/120*(S*(4-7*S)-3*_*_*(1-7*S))-T/48*b),t.x=this.x0+x*Math.sin(v),t.y=this.y0+x*Math.cos(v),t))}function r3(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,s,r,a,o,l,u,c,h,d,g,f,m,v,_,p,b,S,x,C,E,M;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*ie*this.a?void 0:(n=e/this.a,i=Math.sin(n),s=Math.cos(n),r=this.long0,Math.abs(e)<=de?a=this.lat0:(a=yr(s*this.sin_p12+t.y*i*this.cos_p12/e),o=Math.abs(this.lat0)-ie,Math.abs(o)<=de?this.lat0>=0?r=me(this.long0+Math.atan2(t.x,-t.y)):r=me(this.long0-Math.atan2(-t.x,t.y)):r=me(this.long0+Math.atan2(t.x*i,e*this.cos_p12*s-t.y*this.sin_p12*i))),t.x=r,t.y=a,t)):(l=cu(this.es),u=hu(this.es),c=du(this.es),h=fu(this.es),Math.abs(this.sin_p12-1)<=de?(d=this.a*yn(l,u,c,h,ie),e=Math.sqrt(t.x*t.x+t.y*t.y),g=d-e,a=Yc(g/this.a,l,u,c,h),r=me(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=a,t):Math.abs(this.sin_p12+1)<=de?(d=this.a*yn(l,u,c,h,ie),e=Math.sqrt(t.x*t.x+t.y*t.y),g=e-d,a=Yc(g/this.a,l,u,c,h),r=me(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),f=ao(this.a,this.e,this.sin_p12),_=Math.cos(v),p=this.e*this.cos_p12*_,b=-p*p/(1-this.es),S=3*this.es*(1-b)*this.sin_p12*this.cos_p12*_/(1-this.es),x=e/f,C=x-b*(1+b)*Math.pow(x,3)/6-S*(1+3*b)*Math.pow(x,4)/24,E=1-b*C*C/2-x*C*C*C/6,m=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*_),r=me(this.long0+Math.asin(Math.sin(v)*Math.sin(C)/Math.cos(m))),M=Math.sin(m),a=Math.atan2((M-this.es*E*this.sin_p12)*Math.tan(m),M*(1-this.es)),t.x=r,t.y=a,t))}var a3=["Azimuthal_Equidistant","aeqd"];const o3={init:i3,forward:s3,inverse:r3,names:a3};function l3(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function u3(t){var e,n,i,s,r,a,o,l,u=t.x,c=t.y;return i=me(u-this.long0),e=Math.sin(c),n=Math.cos(c),s=Math.cos(i),a=this.sin_p14*e+this.cos_p14*n*s,r=1,(a>0||Math.abs(a)<=de)&&(o=this.a*r*n*Math.sin(i),l=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*n*s)),t.x=o,t.y=l,t}function c3(t){var e,n,i,s,r,a,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=yr(e/this.a),i=Math.sin(n),s=Math.cos(n),a=this.long0,Math.abs(e)<=de?(o=this.lat0,t.x=a,t.y=o,t):(o=yr(s*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.abs(this.lat0)-ie,Math.abs(r)<=de?(this.lat0>=0?a=me(this.long0+Math.atan2(t.x,-t.y)):a=me(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=o,t):(a=me(this.long0+Math.atan2(t.x*i,e*this.cos_p14*s-t.y*this.sin_p14*i)),t.x=a,t.y=o,t))}var h3=["ortho"];const d3={init:l3,forward:u3,inverse:c3,names:h3};var Mt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},rt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function f3(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ie-st/2?this.face=Mt.TOP:this.lat0<=-(ie-st/2)?this.face=Mt.BOTTOM:Math.abs(this.long0)<=st?this.face=Mt.FRONT:Math.abs(this.long0)<=ie+st?this.face=this.long0>0?Mt.RIGHT:Mt.LEFT:this.face=Mt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function g3(t){var e={x:0,y:0},n,i,s,r,a,o,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===Mt.TOP)r=ie-n,i>=st&&i<=ie+st?(l.value=rt.AREA_0,s=i-ie):i>ie+st||i<=-(ie+st)?(l.value=rt.AREA_1,s=i>0?i-kt:i+kt):i>-(ie+st)&&i<=-st?(l.value=rt.AREA_2,s=i+ie):(l.value=rt.AREA_3,s=i);else if(this.face===Mt.BOTTOM)r=ie+n,i>=st&&i<=ie+st?(l.value=rt.AREA_0,s=-i+ie):i<st&&i>=-st?(l.value=rt.AREA_1,s=-i):i<-st&&i>=-(ie+st)?(l.value=rt.AREA_2,s=-i-ie):(l.value=rt.AREA_3,s=i>0?-i+kt:-i-kt);else{var u,c,h,d,g,f,m;this.face===Mt.RIGHT?i=Ha(i,+ie):this.face===Mt.BACK?i=Ha(i,+kt):this.face===Mt.LEFT&&(i=Ha(i,-ie)),d=Math.sin(n),g=Math.cos(n),f=Math.sin(i),m=Math.cos(i),u=g*m,c=g*f,h=d,this.face===Mt.FRONT?(r=Math.acos(u),s=Gu(r,h,c,l)):this.face===Mt.RIGHT?(r=Math.acos(c),s=Gu(r,h,-u,l)):this.face===Mt.BACK?(r=Math.acos(-u),s=Gu(r,h,-c,l)):this.face===Mt.LEFT?(r=Math.acos(-c),s=Gu(r,h,u,l)):(r=s=0,l.value=rt.AREA_0)}return o=Math.atan(12/kt*(s+Math.acos(Math.sin(s)*Math.cos(st))-ie)),a=Math.sqrt((1-Math.cos(r))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===rt.AREA_1?o+=ie:l.value===rt.AREA_2?o+=kt:l.value===rt.AREA_3&&(o+=1.5*kt),e.x=a*Math.cos(o),e.y=a*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function m3(t){var e={lam:0,phi:0},n,i,s,r,a,o,l,u,c,h={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?h.value=rt.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(h.value=rt.AREA_1,n-=ie):t.x<0&&-t.x>=Math.abs(t.y)?(h.value=rt.AREA_2,n=n<0?n+kt:n-kt):(h.value=rt.AREA_3,n+=ie),c=kt/12*Math.tan(n),a=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),o=Math.atan(a),s=Math.cos(n),r=Math.tan(i),l=1-s*s*r*r*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===Mt.TOP)u=Math.acos(l),e.phi=ie-u,h.value===rt.AREA_0?e.lam=o+ie:h.value===rt.AREA_1?e.lam=o<0?o+kt:o-kt:h.value===rt.AREA_2?e.lam=o-ie:e.lam=o;else if(this.face===Mt.BOTTOM)u=Math.acos(l),e.phi=u-ie,h.value===rt.AREA_0?e.lam=-o+ie:h.value===rt.AREA_1?e.lam=-o:h.value===rt.AREA_2?e.lam=-o-ie:e.lam=o<0?-o-kt:-o+kt;else{var d,g,f;d=l,c=d*d,c>=1?f=0:f=Math.sqrt(1-c)*Math.sin(o),c+=f*f,c>=1?g=0:g=Math.sqrt(1-c),h.value===rt.AREA_1?(c=g,g=-f,f=c):h.value===rt.AREA_2?(g=-g,f=-f):h.value===rt.AREA_3&&(c=g,g=f,f=-c),this.face===Mt.RIGHT?(c=d,d=-g,g=c):this.face===Mt.BACK?(d=-d,g=-g):this.face===Mt.LEFT&&(c=d,d=g,g=-c),e.phi=Math.acos(-f)-ie,e.lam=Math.atan2(g,d),this.face===Mt.RIGHT?e.lam=Ha(e.lam,-ie):this.face===Mt.BACK?e.lam=Ha(e.lam,-kt):this.face===Mt.LEFT&&(e.lam=Ha(e.lam,+ie))}if(this.es!==0){var m,v,_;m=e.phi<0?1:0,v=Math.tan(e.phi),_=this.b/Math.sqrt(v*v+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),m&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Gu(t,e,n,i){var s;return t<de?(i.value=rt.AREA_0,s=0):(s=Math.atan2(e,n),Math.abs(s)<=st?i.value=rt.AREA_0:s>st&&s<=ie+st?(i.value=rt.AREA_1,s-=ie):s>ie+st||s<=-(ie+st)?(i.value=rt.AREA_2,s=s>=0?s-kt:s+kt):(i.value=rt.AREA_3,s+=ie)),s}function Ha(t,e){var n=t+e;return n<-kt?n+=Pl:n>+kt&&(n-=Pl),n}var v3=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const y3={init:f3,forward:g3,inverse:m3,names:v3};var rg=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Yo=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],fS=.8487,gS=1.3523,mS=Wi/5,_3=1/mS,Da=18,Xc=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},p3=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function b3(t,e,n,i){for(var s=e;i;--i){var r=t(s);if(s-=r,Math.abs(r)<n)break}return s}function x3(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function w3(t){var e=me(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*mS);i<0?i=0:i>=Da&&(i=Da-1),n=Wi*(n-_3*i);var s={x:Xc(rg[i],n)*e,y:Xc(Yo[i],n)};return t.y<0&&(s.y=-s.y),s.x=s.x*this.a*fS+this.x0,s.y=s.y*this.a*gS+this.y0,s}function S3(t){var e={x:(t.x-this.x0)/(this.a*fS),y:Math.abs(t.y-this.y0)/(this.a*gS)};if(e.y>=1)e.x/=rg[Da][0],e.y=t.y<0?-ie:ie;else{var n=Math.floor(e.y*Da);for(n<0?n=0:n>=Da&&(n=Da-1);;)if(Yo[n][0]>e.y)--n;else if(Yo[n+1][0]<=e.y)++n;else break;var i=Yo[n],s=5*(e.y-i[0])/(Yo[n+1][0]-i[0]);s=b3(function(r){return(Xc(i,r)-e.y)/p3(i,r)},s,de,100),e.x/=Xc(rg[n],s),e.y=(5*n+s)*Xt,t.y<0&&(e.y=-e.y)}return e.x=me(e.x+this.long0),e}var C3=["Robinson","robin"];const E3={init:x3,forward:w3,inverse:S3,names:C3};function M3(){this.name="geocent"}function T3(t){var e=eS(t,this.es,this.a);return e}function I3(t){var e=tS(t,this.es,this.a,this.b);return e}var R3=["Geocentric","geocentric","geocent","Geocent"];const A3={init:M3,forward:T3,inverse:I3,names:R3};var nn={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},No={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function P3(){if(Object.keys(No).forEach((function(n){if(typeof this[n]>"u")this[n]=No[n].def;else{if(No[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);No[n].num&&(this[n]=parseFloat(this[n]))}No[n].degrees&&(this[n]=this[n]*Xt)}).bind(this)),Math.abs(Math.abs(this.lat0)-ie)<de?this.mode=this.lat0<0?nn.S_POLE:nn.N_POLE:Math.abs(this.lat0)<de?this.mode=nn.EQUIT:(this.mode=nn.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function k3(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),s,r;switch(this.mode){case nn.OBLIQ:r=this.sinph0*e+this.cosph0*n*i;break;case nn.EQUIT:r=n*i;break;case nn.S_POLE:r=-e;break;case nn.N_POLE:r=e;break}switch(r=this.pn1/(this.p-r),s=r*n*Math.sin(t.x),this.mode){case nn.OBLIQ:r*=this.cosph0*e-this.sinph0*n*i;break;case nn.EQUIT:r*=e;break;case nn.N_POLE:r*=-(n*i);break;case nn.S_POLE:r*=n*i;break}var a,o;return a=r*this.cg+s*this.sg,o=1/(a*this.sw*this.h1+this.cw),s=(s*this.cg-r*this.sg)*this.cw*o,r=a*o,t.x=s*this.a,t.y=r*this.a,t}function O3(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,s;s=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*s,i=this.pn1*t.y*this.cw*s,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var r=si(t.x,t.y);if(Math.abs(r)<de)e.x=0,e.y=t.y;else{var a,o;switch(o=1-r*r*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/r+r/this.pn1),a=Math.sqrt(1-o*o),this.mode){case nn.OBLIQ:e.y=Math.asin(a*this.sinph0+t.y*o*this.cosph0/r),t.y=(a-this.sinph0*Math.sin(e.y))*r,t.x*=o*this.cosph0;break;case nn.EQUIT:e.y=Math.asin(t.y*o/r),t.y=a*r,t.x*=o;break;case nn.N_POLE:e.y=Math.asin(a),t.y=-t.y;break;case nn.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var L3=["Tilted_Perspective","tpers"];const F3={init:P3,forward:k3,inverse:O3,names:L3};function D3(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function N3(t){var e=t.x,n=t.y,i,s,r,a;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/si(this.radius_p*Math.cos(n),Math.sin(n));if(s=o*Math.cos(e)*Math.cos(n),r=o*Math.sin(e)*Math.cos(n),a=o*Math.sin(n),(this.radius_g-s)*s-r*r-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/si(a,i)),t.y=this.radius_g_1*Math.atan(a/i)):(t.x=this.radius_g_1*Math.atan(r/i),t.y=this.radius_g_1*Math.atan(a/si(r,i)))}else this.shape==="sphere"&&(i=Math.cos(n),s=Math.cos(e)*i,r=Math.sin(e)*i,a=Math.sin(n),i=this.radius_g-s,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/si(a,i)),t.y=this.radius_g_1*Math.atan(a/i)):(t.x=this.radius_g_1*Math.atan(r/i),t.y=this.radius_g_1*Math.atan(a/si(r,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function V3(t){var e=-1,n=0,i=0,s,r,a,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*si(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*si(1,n));var l=i/this.radius_p;if(s=n*n+l*l+e*e,r=2*this.radius_g*e,a=r*r-4*s*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-r-Math.sqrt(a))/(2*s),e=this.radius_g+o*e,n*=o,i*=o,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),s=n*n+i*i+e*e,r=2*this.radius_g*e,a=r*r-4*s*this.C,a<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-r-Math.sqrt(a))/(2*s),e=this.radius_g+o*e,n*=o,i*=o,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var B3=["Geostationary Satellite View","Geostationary_Satellite","geos"];const $3={init:D3,forward:N3,inverse:V3,names:B3};var sl=1.340264,rl=-.081106,al=893e-6,ol=.003796,Kc=Math.sqrt(3)/2;function G3(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function U3(t){var e=me(t.x-this.long0),n=t.y,i=Math.asin(Kc*Math.sin(n)),s=i*i,r=s*s*s;return t.x=e*Math.cos(i)/(Kc*(sl+3*rl*s+r*(7*al+9*ol*s))),t.y=i*(sl+rl*s+r*(al+ol*s)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function z3(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,s,r,a,o,l,u;for(u=0;u<n&&(s=i*i,r=s*s*s,a=i*(sl+rl*s+r*(al+ol*s))-t.y,o=sl+3*rl*s+r*(7*al+9*ol*s),i-=l=a/o,!(Math.abs(l)<e));++u);return s=i*i,r=s*s*s,t.x=Kc*t.x*(sl+3*rl*s+r*(7*al+9*ol*s))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Kc),t.x=me(t.x+this.long0),t}var W3=["eqearth","Equal Earth","Equal_Earth"];const j3={init:G3,forward:U3,inverse:z3,names:W3};function H3(t){t.Proj.projections.add(dc),t.Proj.projections.add(fc),t.Proj.projections.add(YF),t.Proj.projections.add(iD),t.Proj.projections.add(uD),t.Proj.projections.add(gD),t.Proj.projections.add(bD),t.Proj.projections.add(ED),t.Proj.projections.add(AD),t.Proj.projections.add(FD),t.Proj.projections.add(JD),t.Proj.projections.add(sN),t.Proj.projections.add(uN),t.Proj.projections.add(mN),t.Proj.projections.add(bN),t.Proj.projections.add(EN),t.Proj.projections.add(AN),t.Proj.projections.add(FN),t.Proj.projections.add(GN),t.Proj.projections.add(HN),t.Proj.projections.add(ZN),t.Proj.projections.add(n3),t.Proj.projections.add(o3),t.Proj.projections.add(d3),t.Proj.projections.add(y3),t.Proj.projections.add(E3),t.Proj.projections.add(A3),t.Proj.projections.add(F3),t.Proj.projections.add($3),t.Proj.projections.add(j3)}pn.defaultDatum="WGS84";pn.Proj=Xi;pn.WGS84=new pn.Proj("WGS84");pn.Point=ro;pn.toPoint=nS;pn.defs=mn;pn.nadgrid=KL;pn.transform=Hc;pn.mgrs=hF;pn.version="__VERSION__";H3(pn);class Ns{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const oo={PROPERTYCHANGE:"propertychange"};class Um{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Y3(t,e,n){let i,s;n=n||ws;let r=0,a=t.length,o=!1;for(;r<a;)i=r+(a-r>>1),s=+n(t[i],e),s<0?r=i+1:(a=i,o=!s);return o?r:~r}function ws(t,e){return t>e?1:t<e?-1:0}function zm(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=t[s];if(r===e)return s;if(r<e)return n(e,t[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function X3(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Ki(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function Tr(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function K3(t,e,n){const i=e||ws;return t.every(function(s,r){if(r===0)return!0;const a=i(t[r-1],s);return!(a>0||a===0)})}function Ll(){return!0}function qh(){return!1}function lo(){}function vS(t){let e=!1,n,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!e||this!==s||!Tr(r,i))&&(e=!0,s=this,i=r,n=t.apply(this,arguments)),n}}function q3(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function gu(t){for(const e in t)delete t[e]}function aa(t){let e;for(e in t)return!1;return!e}class Zh extends Um{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new Ns(e):e;r.target||(r.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,o[i]=0),++a[i];let l;for(let u=0,c=s.length;u<c;++u)if("handleEvent"in s[u]?l=s[u].handleEvent(r):l=s[u].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--a[i]===0){let u=o[i];for(delete o[i];u--;)this.removeEventListener(i,lo);delete a[i]}return l}disposeInternal(){this.listeners_&&gu(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=lo,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}const Ne={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Xe(t,e,n,i,s){if(i&&i!==t&&(n=n.bind(i)),s){const a=n;n=function(){t.removeEventListener(e,n),a.apply(this,arguments)}}const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function qc(t,e,n,i){return Xe(t,e,n,i,!0)}function _t(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),gu(t))}class Eo extends Zh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ne.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Xe(this,e[r],n);return s}return Xe(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=qc(this,e[r],n)}else i=qc(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)yS(i);else if(Array.isArray(e))for(let s=0,r=e.length;s<r;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}Eo.prototype.on;Eo.prototype.once;Eo.prototype.un;function yS(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)_t(t[e]);else _t(t)}const Z3=Object.freeze(Object.defineProperty({__proto__:null,default:Eo,unByKey:yS},Symbol.toStringTag,{value:"Module"}));function Ie(){throw new Error("Unimplemented abstract method.")}let J3=0;function ot(t){return t.ol_uid||(t.ol_uid=String(++J3))}class __ extends Ns{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Oi extends Eo{constructor(e){super(),this.on,this.once,this.un,ot(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new __(i,e,n)),i=oo.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new __(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const r=s[e];s[e]=n,r!==n&&this.notify(e,r)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],aa(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const En={ADD:"add",REMOVE:"remove"},p_={LENGTH:"length"};class Uu extends Ns{constructor(e,n,i){super(e),this.element=n,this.index=i}}class ji extends Oi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(p_.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Uu(En.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Uu(En.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const s=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Uu(En.REMOVE,s,e)),this.dispatchEvent(new Uu(En.ADD,n,e))}updateLength_(){this.set(p_.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const ft={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function Je(t,e){if(!t)throw new Error(e)}function At(t,e,n){return Math.min(Math.max(t,e),n)}function Q3(t,e,n,i,s,r){const a=s-n,o=r-i;if(a!==0||o!==0){const l=((t-n)*a+(e-i)*o)/(a*a+o*o);l>1?(n=s,i=r):l>0&&(n+=a*l,i+=o*l)}return Jr(t,e,n,i)}function Jr(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function eV(t){const e=t.length;for(let i=0;i<e;i++){let s=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const l=Math.abs(t[o][i]);l>r&&(r=l,s=o)}if(r===0)return null;const a=t[s];t[s]=t[i],t[i]=a;for(let o=i+1;o<e;o++){const l=-t[o][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[o][u]=0:t[o][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function gc(t){return t*Math.PI/180}function Ya(t,e){const n=t%e;return n*e<0?n+e:n}function Wn(t,e,n){return t+n*(e-t)}function Wm(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function zu(t,e){return Math.floor(Wm(t,e))}function Wu(t,e){return Math.ceil(Wm(t,e))}class _S extends Oi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[ft.OPACITY]=e.opacity!==void 0?e.opacity:1,Je(typeof n[ft.OPACITY]=="number","Layer opacity must be a number"),n[ft.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ft.Z_INDEX]=e.zIndex,n[ft.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ft.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ft.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ft.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=At(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Ie()}getLayerStatesArray(e){return Ie()}getExtent(){return this.get(ft.EXTENT)}getMaxResolution(){return this.get(ft.MAX_RESOLUTION)}getMinResolution(){return this.get(ft.MIN_RESOLUTION)}getMinZoom(){return this.get(ft.MIN_ZOOM)}getMaxZoom(){return this.get(ft.MAX_ZOOM)}getOpacity(){return this.get(ft.OPACITY)}getSourceState(){return Ie()}getVisible(){return this.get(ft.VISIBLE)}getZIndex(){return this.get(ft.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ft.EXTENT,e)}setMaxResolution(e){this.set(ft.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ft.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ft.MAX_ZOOM,e)}setMinZoom(e){this.set(ft.MIN_ZOOM,e)}setOpacity(e){Je(typeof e=="number","Layer opacity must be a number"),this.set(ft.OPACITY,e)}setVisible(e){this.set(ft.VISIBLE,e)}setZIndex(e){this.set(ft.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const oi={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},sn={ANIMATING:0,INTERACTING:1},_i={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},tV=42,jm=256,Hm={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Jh{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Hm[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const mu=6378137,Na=Math.PI*mu,nV=[-Na,-Na,Na,Na],iV=[-180,-85,180,85],ju=mu*Math.log(Math.tan(Math.PI/2));class xa extends Jh{constructor(e){super({code:e,units:"m",extent:nV,global:!0,worldExtent:iV,getPointResolution:function(n,i){return n/Math.cosh(i[1]/mu)}})}}const b_=[new xa("EPSG:3857"),new xa("EPSG:102100"),new xa("EPSG:102113"),new xa("EPSG:900913"),new xa("http://www.opengis.net/def/crs/EPSG/0/3857"),new xa("http://www.opengis.net/gml/srs/epsg.xml#3857")];function sV(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let s=0;s<i;s+=n){e[s]=Na*t[s]/180;let r=mu*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));r>ju?r=ju:r<-ju&&(r=-ju),e[s+1]=r}return e}function rV(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let s=0;s<i;s+=n)e[s]=180*t[s]/Na,e[s+1]=360*Math.atan(Math.exp(t[s+1]/mu))/Math.PI-90;return e}const aV=6378137,x_=[-180,-90,180,90],oV=Math.PI*aV/180;class Lr extends Jh{constructor(e,n){super({code:e,units:"degrees",extent:x_,axisOrientation:n,global:!0,metersPerUnit:oV,worldExtent:x_})}}const w_=[new Lr("CRS:84"),new Lr("EPSG:4326","neu"),new Lr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Lr("urn:ogc:def:crs:OGC:2:84"),new Lr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Lr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Lr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ag={};function lV(t){return ag[t]||ag[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function uV(t,e){ag[t]=e}let Xa={};function uo(t,e,n){const i=t.getCode(),s=e.getCode();i in Xa||(Xa[i]={}),Xa[i][s]=n}function pS(t,e){let n;return t in Xa&&e in Xa[t]&&(n=Xa[t][e]),n}const Ut={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Zc(t){const e=hi();for(let n=0,i=t.length;n<i;++n)ll(e,t[n]);return e}function cV(t,e,n){const i=Math.min.apply(null,t),s=Math.min.apply(null,e),r=Math.max.apply(null,t),a=Math.max.apply(null,e);return As(i,s,r,a,n)}function Ym(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function bS(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ca(t,e,n){let i,s;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?s=t[1]-n:t[3]<n?s=n-t[3]:s=0,i*i+s*s}function co(t,e){return Xm(t,e[0],e[1])}function nr(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Xm(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function og(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],a=e[0],o=e[1];let l=Ut.UNKNOWN;return a<n?l=l|Ut.LEFT:a>s&&(l=l|Ut.RIGHT),o<i?l=l|Ut.BELOW:o>r&&(l=l|Ut.ABOVE),l===Ut.UNKNOWN&&(l=Ut.INTERSECTING),l}function hi(){return[1/0,1/0,-1/0,-1/0]}function As(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function Mo(t){return As(1/0,1/0,-1/0,-1/0,t)}function xS(t,e){const n=t[0],i=t[1];return As(n,i,n,i,e)}function Km(t,e,n,i,s){const r=Mo(s);return SS(r,t,e,n,i)}function Fl(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function wS(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function ll(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function SS(t,e,n,i,s){for(;n<i;n+=s)hV(t,e[n],e[n+1]);return t}function hV(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function CS(t,e){let n;return n=e(Qh(t)),n||(n=e(ed(t)),n)||(n=e(td(t)),n)||(n=e(ha(t)),n)?n:!1}function lg(t){let e=0;return vu(t)||(e=tt(t)*on(t)),e}function Qh(t){return[t[0],t[1]]}function ed(t){return[t[2],t[1]]}function _r(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function dV(t,e){let n;if(e==="bottom-left")n=Qh(t);else if(e==="bottom-right")n=ed(t);else if(e==="top-left")n=ha(t);else if(e==="top-right")n=td(t);else throw new Error("Invalid corner");return n}function ug(t,e,n,i,s){const[r,a,o,l,u,c,h,d]=cg(t,e,n,i);return As(Math.min(r,o,u,h),Math.min(a,l,c,d),Math.max(r,o,u,h),Math.max(a,l,c,d),s)}function cg(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,a=Math.cos(n),o=Math.sin(n),l=s*a,u=s*o,c=r*a,h=r*o,d=t[0],g=t[1];return[d-l+h,g-u-c,d-l-h,g-u+c,d+l-h,g+u+c,d+l+h,g+u-c,d-l+h,g-u-c]}function on(t){return t[3]-t[1]}function ul(t,e,n){const i=n||hi();return Rn(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Mo(i),i}function ha(t){return[t[0],t[3]]}function td(t){return[t[2],t[3]]}function tt(t){return t[2]-t[0]}function Rn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function vu(t){return t[2]<t[0]||t[3]<t[1]}function fV(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function gV(t,e,n){let i=!1;const s=og(t,e),r=og(t,n);if(s===Ut.INTERSECTING||r===Ut.INTERSECTING)i=!0;else{const a=t[0],o=t[1],l=t[2],u=t[3],c=e[0],h=e[1],d=n[0],g=n[1],f=(g-h)/(d-c);let m,v;r&Ut.ABOVE&&!(s&Ut.ABOVE)&&(m=d-(g-u)/f,i=m>=a&&m<=l),!i&&r&Ut.RIGHT&&!(s&Ut.RIGHT)&&(v=g-(d-l)*f,i=v>=o&&v<=u),!i&&r&Ut.BELOW&&!(s&Ut.BELOW)&&(m=d-(g-o)/f,i=m>=a&&m<=l),!i&&r&Ut.LEFT&&!(s&Ut.LEFT)&&(v=g-(d-a)*f,i=v>=o&&v<=u)}return i}function mV(t,e,n,i){if(vu(t))return Mo(n);let s=[];s=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(s,s,2);const r=[],a=[];for(let o=0,l=s.length;o<l;o+=2)r.push(s[o]),a.push(s[o+1]);return cV(r,a,n)}function ES(t,e){const n=e.getExtent(),i=_r(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=tt(n),a=Math.floor((i[0]-n[0])/s)*s;t[0]-=a,t[2]-=a}return t}function MS(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];ES(t,e);const s=tt(i);if(tt(t)>s&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+s,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-s,t[3]]]}return[t]}function vV(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Jc(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function qm(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function yV(t,e){return t[0]*=e,t[1]*=e,t}function TS(t,e){if(e.canWrapX()){const n=tt(e.getExtent()),i=IS(t,e,n);i&&(t[0]-=i*n)}return t}function IS(t,e,n){const i=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||tt(i),s=Math.floor((t[0]-i[0])/n)),s}const _V=63710088e-1;function S_(t,e,n){n=n||_V;const i=gc(t[1]),s=gc(e[1]),r=(s-i)/2,a=gc(e[0]-t[0])/2,o=Math.sin(r)*Math.sin(r)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function RS(...t){console.warn(...t)}let hg=!0;function pV(t){hg=!1}function Zm(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function AS(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function PS(t){uV(t.getCode(),t),uo(t,t,Zm)}function bV(t){t.forEach(PS)}function ut(t){return typeof t=="string"?lV(t):t||null}function C_(t,e,n,i){t=ut(t);let s;const r=t.getPointResolutionFunc();if(r)s=r(e,n);else{const a=t.getUnits();if(a=="degrees"&&!i||i=="degrees")s=e;else{const o=Qm(t,ut("EPSG:4326"));if(o===AS&&a!=="degrees")s=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=o(u,u,2);const c=S_(u.slice(0,2),u.slice(2,4)),h=S_(u.slice(4,6),u.slice(6,8));s=(c+h)/2}const l=t.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function dg(t){bV(t),t.forEach(function(e){t.forEach(function(n){e!==n&&uo(e,n,Zm)})})}function xV(t,e,n,i){t.forEach(function(s){e.forEach(function(r){uo(s,r,n),uo(r,s,i)})})}function Jm(t,e){return t?typeof t=="string"?ut(t):t:ut(e)}function E_(t){return function(e,n,i){const s=e.length;i=i!==void 0?i:2,n=n!==void 0?n:new Array(s);for(let r=0;r<s;r+=i){const a=t(e.slice(r,r+i)),o=a.length;for(let l=0,u=i;l<u;++l)n[r+l]=l>=o?e[r+l]:a[l]}return n}}function wV(t,e,n,i){const s=ut(t),r=ut(e);uo(s,r,E_(n)),uo(r,s,E_(i))}function ps(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Qm(t,e)===Zm)&&n}function Qm(t,e){const n=t.getCode(),i=e.getCode();let s=pS(n,i);return s||(s=AS),s}function ho(t,e){const n=ut(t),i=ut(e);return Qm(n,i)}function SV(t,e,n){return ho(e,n)(t,void 0,t.length)}function CV(t,e,n,i){const s=ho(e,n);return mV(t,s,void 0)}function fg(t,e){return t}function fs(t,e){return hg&&!Jc(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(hg=!1,RS("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function kS(t,e){return t}function Gr(t,e){return t}function M_(t,e,n){return function(i){let s,r;if(t.canWrapX()){const a=t.getExtent(),o=tt(a);i=i.slice(0),r=IS(i,t,o),r&&(i[0]=i[0]-r*o),i[0]=At(i[0],a[0],a[2]),i[1]=At(i[1],a[1],a[3]),s=n(i)}else s=n(i);return r&&e.canWrapX()&&(s[0]+=r*tt(e.getExtent())),s}}function EV(){dg(b_),dg(w_),xV(w_,b_,sV,rV)}EV();function T_(t,e,n){return function(i,s,r,a,o){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,u=e?0:r[1]*s,c=o?o[0]:0,h=o?o[1]:0;let d=t[0]+l/2+c,g=t[2]-l/2+c,f=t[1]+u/2+h,m=t[3]-u/2+h;d>g&&(d=(g+d)/2,g=d),f>m&&(f=(m+f)/2,m=f);let v=At(i[0],d,g),_=At(i[1],f,m);if(a&&n&&s){const p=30*s;v+=-p*Math.log(1+Math.max(0,d-i[0])/p)+p*Math.log(1+Math.max(0,i[0]-g)/p),_+=-p*Math.log(1+Math.max(0,f-i[1])/p)+p*Math.log(1+Math.max(0,i[1]-m)/p)}return[v,_]}}function MV(t){return t}function ev(t,e,n,i){const s=tt(e)/n[0],r=on(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function tv(t,e,n){let i=Math.min(t,e);const s=50;return i*=Math.log(1+s*Math.max(0,t/e-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/t-1))/s+1),At(i,n/2,e*2)}function TV(t,e,n,i){return e=e!==void 0?e:!0,function(s,r,a,o){if(s!==void 0){const l=t[0],u=t[t.length-1],c=n?ev(l,n,a,i):l;if(o)return e?tv(s,c,u):At(s,u,c);const h=Math.min(c,s),d=Math.floor(zm(t,h,r));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}function IV(t,e,n,i,s,r){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(a,o,l,u){if(a!==void 0){const c=s?ev(e,s,l,r):e;if(u)return i?tv(a,c,n):At(a,n,c);const h=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-h),g=-o*(.5-h)+.5,f=Math.min(c,a),m=Math.floor(Math.log(e/f)/Math.log(t)+g),v=Math.max(d,m),_=e/Math.pow(t,v);return At(_,n,c)}}}function I_(t,e,n,i,s){return n=n!==void 0?n:!0,function(r,a,o,l){if(r!==void 0){const u=i?ev(t,i,o,s):t;return!n||!l?At(r,e,u):tv(r,u,e)}}}function nv(t){if(t!==void 0)return 0}function R_(t){if(t!==void 0)return t}function RV(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function AV(t){const e=gc(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function OS(t){return Math.pow(t,3)}function To(t){return 1-OS(1-t)}function PV(t){return 3*t*t-2*t*t*t}function kV(t){return t}new Array(6);function Ci(){return[1,0,0,1,0,0]}function OV(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Kt(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Ps(t,e,n,i,s,r,a,o){const l=Math.sin(r),u=Math.cos(r);return t[0]=i*u,t[1]=s*l,t[2]=-i*l,t[3]=s*u,t[4]=a*i*u-o*i*l+e,t[5]=a*s*l+o*s*u+n,t}function LS(t,e){const n=LV(e);Je(n!==0,"Transformation matrix cannot be inverted");const i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-s/n,t[2]=-r/n,t[3]=i/n,t[4]=(r*l-a*o)/n,t[5]=-(i*l-s*o)/n,t}function LV(t){return t[0]*t[3]-t[1]*t[2]}const A_=[1e6,1e6,1e6,1e6,2,2];function FV(t){return"matrix("+t.map((n,i)=>Math.round(n*A_[i])/A_[i]).join(", ")+")"}function dr(t,e,n,i,s,r){r=r||[];let a=0;for(let o=e;o<n;o+=i){const l=t[o],u=t[o+1];r[a++]=s[0]*l+s[2]*u+s[4],r[a++]=s[1]*l+s[3]*u+s[5]}return r&&r.length!=a&&(r.length=a),r}function FS(t,e,n,i,s,r,a){a=a||[];const o=Math.cos(s),l=Math.sin(s),u=r[0],c=r[1];let h=0;for(let d=e;d<n;d+=i){const g=t[d]-u,f=t[d+1]-c;a[h++]=u+g*o-f*l,a[h++]=c+g*l+f*o;for(let m=d+2;m<d+i;++m)a[h++]=t[m]}return a&&a.length!=h&&(a.length=h),a}function DV(t,e,n,i,s,r,a,o){o=o||[];const l=a[0],u=a[1];let c=0;for(let h=e;h<n;h+=i){const d=t[h]-l,g=t[h+1]-u;o[c++]=l+s*d,o[c++]=u+r*g;for(let f=h+2;f<h+i;++f)o[c++]=t[f]}return o&&o.length!=c&&(o.length=c),o}function NV(t,e,n,i,s,r,a){a=a||[];let o=0;for(let l=e;l<n;l+=i){a[o++]=t[l]+s,a[o++]=t[l+1]+r;for(let u=l+2;u<l+i;++u)a[o++]=t[u]}return a&&a.length!=o&&(a.length=o),a}const P_=Ci();class DS extends Oi{constructor(){super(),this.extent_=hi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vS((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Ie()}closestPointXY(e,n,i,s){return Ie()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ie()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Mo(n),this.extentRevision_=this.getRevision()}return fV(this.extent_,e)}rotate(e,n){Ie()}scale(e,n,i){Ie()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ie()}getType(){return Ie()}applyTransform(e){Ie()}intersectsExtent(e){return Ie()}translate(e,n){Ie()}transform(e,n){const i=ut(e),s=i.getUnits()=="tile-pixels"?function(r,a,o){const l=i.getExtent(),u=i.getWorldExtent(),c=on(u)/on(l);return Ps(P_,u[0],u[3],c,-c,0,0,0),dr(r,0,r.length,o,P_,a),ho(i,n)(r,a,o)}:ho(i,n);return this.applyTransform(s),this}}class da extends DS{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Km(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ie()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=k_(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Ie()}setLayout(e,n,i){let s;if(e)s=k_(e);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,e=fa(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();FS(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=_r(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();DV(s,0,s.length,r,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();NV(i,0,i.length,s,e,n,i),this.changed()}}}function fa(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function k_(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function VV(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const s=t.getStride();return dr(i,0,i.length,s,e,n)}function O_(t,e,n,i,s,r,a){const o=t[e],l=t[e+1],u=t[n]-o,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const d=((s-o)*u+(r-l)*c)/(u*u+c*c);if(d>1)h=n;else if(d>0){for(let g=0;g<i;++g)a[g]=Wn(t[e+g],t[n+g],d);a.length=i;return}else h=e}for(let d=0;d<i;++d)a[d]=t[h+d];a.length=i}function iv(t,e,n,i,s){let r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const o=t[e],l=t[e+1],u=Jr(r,a,o,l);u>s&&(s=u),r=o,a=l}return s}function sv(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const o=n[r];s=iv(t,e,o,i,s),e=o}return s}function BV(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const o=n[r];s=sv(t,e,o,i,s),e=o[o.length-1]}return s}function rv(t,e,n,i,s,r,a,o,l,u,c){if(e==n)return u;let h,d;if(s===0){if(d=Jr(a,o,t[e],t[e+1]),d<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return u}c=c||[NaN,NaN];let g=e+i;for(;g<n;)if(O_(t,g-i,g,i,a,o,c),d=Jr(a,o,c[0],c[1]),d<u){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/s|0,1);if(r&&(O_(t,n-i,e,i,a,o,c),d=Jr(a,o,c[0],c[1]),d<u)){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function av(t,e,n,i,s,r,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const g=n[h];u=rv(t,e,g,i,s,r,a,o,l,u,c),e=g}return u}function $V(t,e,n,i,s,r,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const g=n[h];u=av(t,e,g,i,s,r,a,o,l,u,c),e=g[g.length-1]}return u}function GV(t,e,n,i){for(let s=0,r=n.length;s<r;++s)t[e++]=n[s];return e}function nd(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const a=n[s];for(let o=0;o<i;++o)t[e++]=a[o]}return e}function yu(t,e,n,i,s){s=s||[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=nd(t,e,n[a],i);s[r++]=l,e=l}return s.length=r,s}function NS(t,e,n,i,s){s=s||[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=yu(t,e,n[a],i,s[r]);l.length===0&&(l[0]=e),s[r++]=l,e=l[l.length-1]}return s.length=r,s}function id(t,e,n,i,s,r,a){const o=(n-e)/i;if(o<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),d=u.pop();let g=0;const f=t[d],m=t[d+1],v=t[h],_=t[h+1];for(let p=d+i;p<h;p+=i){const b=t[p],S=t[p+1],x=Q3(b,S,f,m,v,_);x>g&&(c=p,g=x)}g>s&&(l[(c-e)/i]=1,d+i<c&&u.push(d,c),c+i<h&&u.push(c,h))}for(let h=0;h<o;++h)l[h]&&(r[a++]=t[e+h*i],r[a++]=t[e+h*i+1]);return a}function VS(t,e,n,i,s,r,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=id(t,e,c,i,s,r,a),o.push(a),e=c}return a}function Nr(t,e){return e*Math.round(t/e)}function UV(t,e,n,i,s,r,a){if(e==n)return a;let o=Nr(t[e],s),l=Nr(t[e+1],s);e+=i,r[a++]=o,r[a++]=l;let u,c;do if(u=Nr(t[e],s),c=Nr(t[e+1],s),e+=i,e==n)return r[a++]=u,r[a++]=c,a;while(u==o&&c==l);for(;e<n;){const h=Nr(t[e],s),d=Nr(t[e+1],s);if(e+=i,h==u&&d==c)continue;const g=u-o,f=c-l,m=h-o,v=d-l;if(g*v==f*m&&(g<0&&m<g||g==m||g>0&&m>g)&&(f<0&&v<f||f==v||f>0&&v>f)){u=h,c=d;continue}r[a++]=u,r[a++]=c,o=u,l=c,u=h,c=d}return r[a++]=u,r[a++]=c,a}function ov(t,e,n,i,s,r,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=UV(t,e,c,i,s,r,a),o.push(a),e=c}return a}function zV(t,e,n,i,s,r,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l],h=[];a=ov(t,e,c,i,s,r,a,h),o.push(h),e=c[c.length-1]}return a}function ir(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=e;a<n;a+=i)s[r++]=t.slice(a,a+i);return s.length=r,s}function Dl(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];s[r++]=ir(t,e,l,i,s[r]),e=l}return s.length=r,s}function gg(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];s[r++]=l.length===1&&l[0]===e?[]:Dl(t,e,l,i,s[r]),e=l[l.length-1]}return s.length=r,s}function BS(t,e,n,i){let s=0,r=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];s+=a*o-r*l,r=o,a=l}return s/2}function $S(t,e,n,i){let s=0;for(let r=0,a=n.length;r<a;++r){const o=n[r];s+=BS(t,e,o,i),e=o}return s}function WV(t,e,n,i){let s=0;for(let r=0,a=n.length;r<a;++r){const o=n[r];s+=$S(t,e,o,i),e=o[o.length-1]}return s}class Nl extends da{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Nl(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<ca(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return BS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ir(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Nl(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nd(this.flatCoordinates,0,e,this.stride),this.changed()}}class fo extends da{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new fo(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const r=this.flatCoordinates,a=Jr(e,n,r[0],r[1]);if(a<s){const o=this.stride;for(let l=0;l<o;++l)i[l]=r[l];return i.length=o,a}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return xS(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Xm(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=GV(this.flatCoordinates,0,e,this.stride),this.changed()}}function jV(t,e,n,i,s){return!CS(s,function(a){return!Ur(t,e,n,i,a[0],a[1])})}function Ur(t,e,n,i,s,r){let a=0,o=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=r?c>r&&(u-o)*(r-l)-(s-o)*(c-l)>0&&a++:c<=r&&(u-o)*(r-l)-(s-o)*(c-l)<0&&a--,o=u,l=c}return a!==0}function lv(t,e,n,i,s,r){if(n.length===0||!Ur(t,e,n[0],i,s,r))return!1;for(let a=1,o=n.length;a<o;++a)if(Ur(t,n[a-1],n[a],i,s,r))return!1;return!0}function HV(t,e,n,i,s,r){if(n.length===0)return!1;for(let a=0,o=n.length;a<o;++a){const l=n[a];if(lv(t,e,l,i,s,r))return!0;e=l[l.length-1]}return!1}function uv(t,e,n,i,s,r,a){let o,l,u,c,h,d,g;const f=s[r+1],m=[];for(let p=0,b=n.length;p<b;++p){const S=n[p];for(c=t[S-i],d=t[S-i+1],o=e;o<S;o+=i)h=t[o],g=t[o+1],(f<=d&&g<=f||d<=f&&f<=g)&&(u=(f-d)/(g-d)*(h-c)+c,m.push(u)),c=h,d=g}let v=NaN,_=-1/0;for(m.sort(ws),c=m[0],o=1,l=m.length;o<l;++o){h=m[o];const p=Math.abs(h-c);p>_&&(u=(c+h)/2,lv(t,e,n,i,u,f)&&(v=u,_=p)),c=h}return isNaN(v)&&(v=s[r]),a?(a.push(v,f,_),a):[v,f,_]}function GS(t,e,n,i,s){let r=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];r=uv(t,e,l,i,s,2*a,r),e=l[l.length-1]}return r}function US(t,e,n,i,s){let r;for(e+=i;e<n;e+=i)if(r=s(t.slice(e-i,e),t.slice(e,e+i)),r)return r;return!1}function sd(t,e,n,i,s){const r=SS(hi(),t,e,n,i);return Rn(s,r)?nr(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:US(t,e,n,i,function(a,o){return gV(s,a,o)}):!1}function YV(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){if(sd(t,e,n[r],i,s))return!0;e=n[r]}return!1}function zS(t,e,n,i,s){return!!(sd(t,e,n,i,s)||Ur(t,e,n,i,s[0],s[1])||Ur(t,e,n,i,s[0],s[3])||Ur(t,e,n,i,s[2],s[1])||Ur(t,e,n,i,s[2],s[3]))}function WS(t,e,n,i,s){if(!zS(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,a=n.length;r<a;++r)if(jV(t,n[r-1],n[r],i,s)&&!sd(t,n[r-1],n[r],i,s))return!1;return!0}function XV(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const o=n[r];if(WS(t,e,o,i,s))return!0;e=o[o.length-1]}return!1}function KV(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function cv(t,e,n,i){let s=0,r=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];s+=(o-r)*(l+a),r=o,a=l}return s===0?void 0:s>0}function hv(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=cv(t,e,o,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=o}return!0}function jS(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r){const o=n[r];if(!hv(t,e,o,i,s))return!1;o.length&&(e=o[o.length-1])}return!0}function Qc(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,a=n.length;r<a;++r){const o=n[r],l=cv(t,e,o,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&KV(t,e,o,i),e=o}return e}function mg(t,e,n,i,s){for(let r=0,a=n.length;r<a;++r)e=Qc(t,e,n[r],i,s);return e}function qV(t,e){const n=[];let i=0,s=0,r;for(let a=0,o=e.length;a<o;++a){const l=e[a],u=cv(t,i,l,2);if(r===void 0&&(r=u),u===r)n.push(e.slice(s,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[s])}s=a+1,i=l}return n}class pr extends da{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ki(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new pr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<ca(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),av(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return lv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return $S(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Qc(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Dl(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=_r(this.getExtent());this.flatInteriorPoint_=uv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new fo(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Nl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let a=0,o=i.length;a<o;++a){const l=i[a],u=new Nl(n.slice(r,l),e);s.push(u),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;hv(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Qc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=ov(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new pr(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return WS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=yu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function L_(t){if(vu(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new pr(r,"XY",[r.length])}const qd=0;class Gi extends Oi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Jm(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&pV(),e.center&&(e.center=fs(e.center,this.projection_)),e.extent&&(e.extent=Gr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in _i)delete n[o];this.setProperties(n,!0);const i=JV(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=ZV(e),r=i.constraint,a=QV(e);this.constraints_={center:s,resolution:r,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),a=r/2*(s[3]-n[3]+n[1]-s[1]),o=r/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+a,i[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=fs(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=fs(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const c=arguments[s];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(s===n){i&&Hu(i,!0);return}let r=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const u=[];for(;s<n;++s){const c=arguments[s],h={start:r,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||PV,callback:i};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=o,h.targetResolution=this.getResolutionForZoom(c.zoom),o=h.targetResolution):c.resolution&&(h.sourceResolution=o,h.targetResolution=c.resolution,o=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const d=Ya(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}e5(h)?h.complete=!0:r+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(sn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[sn.ANIMATING]>0}getInteracting(){return this.hints_[sn.INTERACTING]>0}cancelAnimations(){this.setHint(sn.ANIMATING,-this.hints_[sn.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&Hu(s[0].callback,!1),!e)for(let r=0,a=s.length;r<a;++r){const o=s[r];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let r=!0;for(let a=0,o=s.length;a<o;++a){const l=s[a];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;const h=l.easing(c);if(l.sourceCenter){const d=l.sourceCenter[0],g=l.sourceCenter[1],f=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const v=d+h*(f-d),_=g+h*(m-g);this.targetCenter_=[v,_]}if(l.sourceResolution&&l.targetResolution){const d=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(d,0,g,!0);this.targetCenter_=this.calculateCenterZoom(f,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const d=h===1?Ya(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[i]=null,this.setHint(sn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=s[0].callback;a&&Hu(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],qm(i,e-this.getRotation()),vV(i,n)),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const a=n[0]-e*(n[0]-s[0])/r,o=n[1]-e*(n[1]-s[1])/r;i=[a,o]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&fg(e,this.getProjection())}getCenterInternal(){return this.get(_i.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return kS(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Je(n,"The view center is not defined");const i=this.getResolution();Je(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return Je(s!==void 0,"The view rotation is not defined"),ug(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(_i.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Gr(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=tt(e)/n[0],s=on(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(r){return n/Math.pow(e,r*s)}}getRotation(){return this.get(_i.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/n;return function(a){return Math.log(i/a)/n/r}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const a=this.getViewportSizeMinusPadding_();s=Zd(s,this.getViewportSize_(),[a[0]/2+r[3],a[1]/2+r[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,s;if(this.resolutions_){const r=zm(this.resolutions_,e,1);n=r,i=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=i/this.resolutions_[r+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=At(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,At(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Je(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Je(!vu(e),"Cannot fit empty extent provided as `geometry`");const s=Gr(e,this.getProjection());i=L_(s)}else if(e.getType()==="Circle"){const s=Gr(e.getExtent(),this.getProjection());i=L_(s),i.rotate(this.getRotation(),_r(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),r=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,d=r.length;h<d;h+=a){const g=r[h]*i-r[h+1]*s,f=r[h]*s+r[h+1]*i;o=Math.min(o,g),l=Math.min(l,f),u=Math.max(u,g),c=Math.max(c,f)}return[o,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,r?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),d=_r(o);d[0]+=(s[1]-s[3])/2*l,d[1]+=(s[0]-s[2])/2*l;const g=d[0]*h-d[1]*c,f=d[1]*h+d[0]*c,m=this.getConstrainedCenter([g,f],l),v=n.callback?n.callback:lo;n.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},v):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Hu(v,!0))}centerOn(e,n,i){this.centerOnInternal(fs(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(Zd(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let r;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-i),l=Zd(e,s,[o[0]/2+a[3],o[1]/2+a[0]],n,i);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=fg(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&fs(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=fs(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&fs(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,0,r,i),o=this.constraints_.center(this.targetCenter_,a,r,i,this.calculateCenterShift(this.targetCenter_,a,s,r));this.get(_i.ROTATION)!==s&&this.set(_i.ROTATION,s),this.get(_i.RESOLUTION)!==a&&(this.set(_i.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(_i.CENTER)||!Jc(this.get(_i.CENTER),o))&&this.set(_i.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,s,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,r,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==r||!this.getCenterInternal()||!Jc(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:o,duration:e,easing:To,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(sn.INTERACTING,1)}endInteraction(e,n,i){i=i&&fs(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(sn.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Hu(t,e){setTimeout(function(){t(e)},0)}function ZV(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return T_(t.extent,t.constrainOnlyCenter,n)}const e=Jm(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,T_(n,!1,!1)}return MV}function JV(t){let e,n,i,a=t.minZoom!==void 0?t.minZoom:qd,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,d=Jm(t.projection,"EPSG:3857"),g=d.getExtent();let f=t.constrainOnlyCenter,m=t.extent;if(!u&&!m&&d.isGlobal()&&(f=!1,m=g),t.resolutions!==void 0){const v=t.resolutions;n=v[a],i=v[o]!==void 0?v[o]:v[v.length-1],t.constrainResolution?e=TV(v,c,!f&&m,h):e=I_(n,i,c,!f&&m,h)}else{const _=(g?Math.max(tt(g),on(g)):360*Hm.degrees/d.getMetersPerUnit())/jm/Math.pow(2,qd),p=_/Math.pow(2,28-qd);n=t.maxResolution,n!==void 0?a=0:n=_/Math.pow(l,a),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,o):i=_/Math.pow(l,o):i=p),o=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,o-a),t.constrainResolution?e=IV(l,n,i,c,!f&&m,h):e=I_(n,i,c,!f&&m,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}function QV(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?AV():n===!1?R_:typeof n=="number"?RV(n):R_}return nv}function e5(t){return!(t.sourceCenter&&t.targetCenter&&!Jc(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Zd(t,e,n,i,s){const r=Math.cos(-s);let a=Math.sin(-s),o=t[0]*r-t[1]*a,l=t[1]*r+t[0]*a;o+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,a=-a;const u=o*r-l*a,c=l*r+o*a;return[u,c]}class rd extends _S{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ft.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ft.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(_t(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Xe(e,Ne.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Gi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;n.layerStatesArray?s=n.layerStatesArray.find(a=>a.layer===this):s=this.getLayerState();const r=this.getExtent();return dv(s,n.viewState)&&(!r||Rn(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const s=e instanceof Gi?e.getViewStateAndExtent():e;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ft.MAP,e)}getMapInternal(){return this.get(ft.MAP)}setMap(e){this.mapPrecomposeKey_&&(_t(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(_t(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Xe(e,oi.PRECOMPOSE,function(n){const s=n.frameState.layerStatesArray,r=this.getLayerState(!1);Je(!s.some(function(a){return a.layer===r.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),s.push(r)},this),this.mapRenderKey_=Xe(this,Ne.CHANGE,e.render,e),this.changed())}setSource(e){this.set(ft.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function dv(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function t5(t,e,n,i,s){HS(t,e,n||0,i||t.length-1,s||n5)}function HS(t,e,n,i,s){for(;i>n;){if(i-n>600){var r=i-n+1,a=e-n+1,o=Math.log(r),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(r-l)/r)*(a-r/2<0?-1:1),c=Math.max(n,Math.floor(e-a*l/r+u)),h=Math.min(i,Math.floor(e+(r-a)*l/r+u));HS(t,e,c,h,s)}var d=t[e],g=n,f=i;for(Vo(t,n,e),s(t[i],d)>0&&Vo(t,n,i);g<f;){for(Vo(t,g,f),g++,f--;s(t[g],d)<0;)g++;for(;s(t[f],d)>0;)f--}s(t[n],d)===0?Vo(t,n,f):(f++,Vo(t,f,i)),f<=e&&(n=f+1),e<=f&&(i=f-1)}}function Vo(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n5(t,e){return t<e?-1:t>e?1:0}let YS=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!Xu(e,n))return i;const s=this.toBBox,r=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?s(o):o;Xu(e,l)&&(n.leaf?i.push(o):Qd(e,l)?this._all(o,i):r.push(o))}n=r.pop()}return i}collides(e){let n=this.data;if(!Xu(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const r=n.children[s],a=n.leaf?this.toBBox(r):r;if(Xu(e,a)){if(n.leaf||Qd(e,a))return!0;i.push(r)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ia([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),r=[],a=[];let o,l,u;for(;i||r.length;){if(i||(i=r.pop(),l=r[r.length-1],o=a.pop(),u=!0),i.leaf){const c=i5(e,i.children,n);if(c!==-1)return i.children.splice(c,1),r.push(i),this._condense(r),this}!u&&!i.leaf&&Qd(i,s)?(r.push(i),a.push(o),o=0,l=i,i=i.children[0]):l?(o++,i=l.children[o],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const r=i-n+1;let a=this._maxEntries,o;if(r<=a)return o=Ia(e.slice(n,i+1)),wa(o,this.toBBox),o;s||(s=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,s-1))),o=Ia([]),o.leaf=!1,o.height=s;const l=Math.ceil(r/a),u=l*Math.ceil(Math.sqrt(a));F_(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);F_(e,c,h,l,this.compareMinY);for(let d=c;d<=h;d+=l){const g=Math.min(d+l-1,h);o.children.push(this._build(e,d,g,s-1))}}return wa(o,this.toBBox),o}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let r=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=Jd(u),h=a5(e,u)-c;h<a?(a=h,r=c<r?c:r,o=u):h===a&&c<r&&(r=c,o=u)}n=o||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),r=[],a=this._chooseSubtree(s,this.data,n,r);for(a.children.push(e),Ko(a,s);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(s,r,n)}_split(e,n){const i=e[n],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);const a=this._chooseSplitIndex(i,r,s),o=Ia(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,wa(i,this.toBBox),wa(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(i,o)}_splitRoot(e,n){this.data=Ia([e,n]),this.data.height=e.height+1,this.data.leaf=!1,wa(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,r=1/0,a=1/0;for(let o=n;o<=i-n;o++){const l=Xo(e,0,o,this.toBBox),u=Xo(e,o,i,this.toBBox),c=o5(l,u),h=Jd(l)+Jd(u);c<r?(r=c,s=o,a=h<a?h:a):c===r&&h<a&&(a=h,s=o)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:s5,r=e.leaf?this.compareMinY:r5,a=this._allDistMargin(e,n,i,s),o=this._allDistMargin(e,n,i,r);a<o&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const r=this.toBBox,a=Xo(e,0,n,r),o=Xo(e,i-n,i,r);let l=Yu(a)+Yu(o);for(let u=n;u<i-n;u++){const c=e.children[u];Ko(a,e.leaf?r(c):c),l+=Yu(a)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];Ko(o,e.leaf?r(c):c),l+=Yu(o)}return l}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)Ko(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():wa(e[n],this.toBBox)}};function i5(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function wa(t,e){Xo(t,0,t.children.length,e,t)}function Xo(t,e,n,i,s){s||(s=Ia(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=e;r<n;r++){const a=t.children[r];Ko(s,t.leaf?i(a):a)}return s}function Ko(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function s5(t,e){return t.minX-e.minX}function r5(t,e){return t.minY-e.minY}function Jd(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Yu(t){return t.maxX-t.minX+(t.maxY-t.minY)}function a5(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function o5(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,r-i)}function Qd(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Xu(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ia(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function F_(t,e,n,i,s){const r=[e,n];for(;r.length;){if(n=r.pop(),e=r.pop(),n-e<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;t5(t,a,e,n,s),r.push(e,a,a,n)}}const je={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function D_(t){return t[0]>0&&t[1]>0}function l5(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Xn(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class ad{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Xn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ad({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ie()}getImage(e){return Ie()}getHitDetectionImage(){return Ie()}getPixelRatio(e){return 1}getImageState(){return Ie()}getImageSize(){return Ie()}getOrigin(){return Ie()}getSize(){return Ie()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Xn(e)}listenImageChange(e){Ie()}load(){Ie()}unlistenImageChange(e){Ie()}ready(){return Promise.resolve()}}const Vl={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var qt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};qt.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};qt.max=qt.whitepoint[2].D65;qt.rgb=function(t,e){e=e||qt.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],s=t[2]/e[2],r,a,o;return r=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,a=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,o=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[r*255,a*255,o*255]};Vl.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var r=n*.41239079926595+i*.35758433938387+s*.18048078840183,a=n*.21263900587151+i*.71516867876775+s*.072192315360733,o=n*.019330818715591+i*.11919477979462+s*.95053215224966;return e=e||qt.whitepoint[2].E,[r*e[0],a*e[1],o*e[2]]};const fv={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,r,a,o,l,u,c,h,d,g,f,m;if(r=t[0],a=t[1],o=t[2],r===0)return[0,0,0];var v=.0011070564598794539;return e=e||"D65",n=n||2,h=qt.whitepoint[n][e][0],d=qt.whitepoint[n][e][1],g=qt.whitepoint[n][e][2],f=4*h/(h+15*d+3*g),m=9*d/(h+15*d+3*g),i=a/(13*r)+f||0,s=o/(13*r)+m||0,u=r>8?d*Math.pow((r+16)/116,3):d*r*v,l=u*9*i/(4*s)||0,c=u*(12-3*i-20*s)/(4*s)||0,[l,u,c]}};qt.luv=function(t,e,n){var i,s,r,a,o,l,u,c,h,d,g,f,m,v=.008856451679035631,_=903.2962962962961;e=e||"D65",n=n||2,h=qt.whitepoint[n][e][0],d=qt.whitepoint[n][e][1],g=qt.whitepoint[n][e][2],f=4*h/(h+15*d+3*g),m=9*d/(h+15*d+3*g),l=t[0],u=t[1],c=t[2],i=4*l/(l+15*u+3*c)||0,s=9*u/(l+15*u+3*c)||0;var p=u/d;return r=p<=v?_*p:116*Math.pow(p,1/3)-16,a=13*r*(i-f),o=13*r*(s-m),[r,a,o]};var XS={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],s,r,a;return a=i/360*2*Math.PI,s=n*Math.cos(a),r=n*Math.sin(a),[e,s,r]},xyz:function(t){return fv.xyz(XS.luv(t))}};fv.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),r=Math.atan2(i,n),a=r*360/2/Math.PI;return a<0&&(a+=360),[e,s,a]};qt.lchuv=function(t){return fv.lchuv(qt.luv(t))};var u5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var c5={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const N_=KS(c5);var V_={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function h5(t){var c,h;var e,n=[],i=1,s;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),N_[t])n=N_[t].slice(),s="rgb";else if(t==="transparent")i=0,s="rgb",n=[0,0,0];else if(t[0]==="#"){var r=t.slice(1),a=r.length,o=a<=4;i=1,o?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],a===4&&(i=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],a===8&&(i=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];s=l.replace(/a$/,"");var u=s==="cmyk"?4:s==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(d,g){if(d[d.length-1]==="%")return d=parseFloat(d)/100,g===3?d:s==="rgb"?d*255:s[0]==="h"||s[0]==="l"&&!g?d*100:s==="lab"?d*125:s==="lch"?g<2?d*150:d*360:s[0]==="o"&&!g?d:s==="oklab"?d*.4:s==="oklch"?g<2?d*.4:d*360:d;if(s[g]==="h"||g===2&&s[s.length-1]==="h"){if(V_[d]!==void 0)return V_[d];if(d.endsWith("deg"))return parseFloat(d);if(d.endsWith("turn"))return parseFloat(d)*360;if(d.endsWith("grad"))return parseFloat(d)*360/400;if(d.endsWith("rad"))return parseFloat(d)*180/Math.PI}return d==="none"?0:parseFloat(d)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),s=((h=(c=t.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:s,values:n,alpha:i}}const ef={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,s,r,a,o,l,u=0;if(n===0)return l=i*255,[l,l,l];for(r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,o=[0,0,0];u<3;)a=e+1/3*-(u-1),a<0?a++:a>1&&a--,l=6*a<1?s+(r-s)*6*a:2*a<1?r:3*a<2?s+(r-s)*(2/3-a)*6:s,o[u++]=l*255;return o}};Vl.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(e,n,i),r=Math.max(e,n,i),a=r-s,o,l,u;return r===s?o=0:e===r?o=(n-i)/a:n===r?o=2+(i-e)/a:i===r&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360),u=(s+r)/2,r===s?l=0:u<=.5?l=a/(r+s):l=a/(2-r-s),[o,l*100,u*100]};function d5(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=h5(t);if(!n.space)return[];const i=n.space[0]==="h"?ef.min:Vl.min,s=n.space[0]==="h"?ef.max:Vl.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=ef.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function f5(t){return typeof t=="string"?t:vv(t)}const g5=1024,Bo={};let tf=0;function m5(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function B_(t){const e=qt.lchuv(Vl.xyz(t));return e[3]=t[3],e}function v5(t){const e=qt.rgb(XS.xyz(t));return e[3]=t[3],e}function mv(t){if(Bo.hasOwnProperty(t))return Bo[t];if(tf>=g5){let n=0;for(const i in Bo)n++&3||(delete Bo[i],--tf)}const e=d5(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return qS(e),Bo[t]=e,++tf,e}function Bl(t){return Array.isArray(t)?t:mv(t)}function qS(t){return t[0]=At(t[0]+.5|0,0,255),t[1]=At(t[1]+.5|0,0,255),t[2]=At(t[2]+.5|0,0,255),t[3]=At(t[3],0,1),t}function vv(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const s=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+s+")"}function y5(t){try{return mv(t),!0}catch{return!1}}const br=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_5=br.includes("firefox"),p5=br.includes("safari")&&!br.includes("chrom");p5&&(br.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(br));const b5=br.includes("webkit")&&!br.includes("edge"),ZS=br.includes("macintosh"),JS=typeof devicePixelRatio<"u"?devicePixelRatio:1,QS=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,eC=typeof Image<"u"&&Image.prototype.decode,tC=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Zt(t,e,n,i){let s;return n&&n.length?s=n.shift():QS?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let nf;function eh(){return nf||(nf=Zt(1,1)),nf}function od(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function x5(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function w5(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function $_(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function th(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function nC(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function S5(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;if(s!==r){if(!s){t.appendChild(r);continue}if(!r){t.removeChild(s),--i;continue}t.insertBefore(r,s)}}}function C5(t,e,n){const i=t;let s=!0,r=!1,a=!1;const o=[qc(i,Ne.LOAD,function(){a=!0,r||e()})];return i.src&&eC?(r=!0,i.decode().then(function(){s&&e()}).catch(function(l){s&&(a?e():n())})):o.push(qc(i,Ne.ERROR,n)),function(){s=!1,o.forEach(_t)}}function E5(t,e){return new Promise((n,i)=>{function s(){a(),n(t)}function r(){a(),i(new Error("Image load error"))}function a(){t.removeEventListener("load",s),t.removeEventListener("error",r)}t.addEventListener("load",s),t.addEventListener("error",r)})}function M5(t,e){return e&&(t.src=e),t.src&&eC?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):E5(t)}class T5{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const s=sf(e,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(e,n,i){const s=sf(e,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(e,n,i,s,r){const a=sf(e,n,i),o=a in this.cache_;this.cache_[a]=s,r&&(s.getImageState()===je.IDLE&&s.load(),s.getImageState()===je.LOADING?s.ready().then(()=>{this.patternCache_[a]=eh().createPattern(s.getImage(1),"repeat")}):this.patternCache_[a]=eh().createPattern(s.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function sf(t,e,n){const i=n?Bl(n):"null";return e+":"+t+":"+i}const Hi=new T5;let $o=null;class I5 extends Zh{constructor(e,n,i,s,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=s===void 0?je.IDLE:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===je.LOADED){$o||($o=Zt(1,1,void 0,{willReadFrequently:!0})),$o.drawImage(this.image_,0,0);try{$o.getImageData(0,0,1,1),this.tainted_=!1}catch{$o=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ne.CHANGE)}handleImageError_(){this.imageState_=je.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=je.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=Zt(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===je.IDLE){this.image_||this.initializeImage_(),this.imageState_=je.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&M5(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==je.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*e),i.height=Math.ceil(n.height*e);const s=i.getContext("2d");s.scale(e,e),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=f5(this.color_),s.fillRect(0,0,i.width/e,i.height/e),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===je.LOADED||this.imageState_===je.ERROR?e():this.addEventListener(Ne.CHANGE,function n(){(this.imageState_===je.LOADED||this.imageState_===je.ERROR)&&(this.removeEventListener(Ne.CHANGE,n),e())})})),this.ready_}}function yv(t,e,n,i,s,r){let a=e===void 0?void 0:Hi.get(e,n,s);return a||(a=new I5(t,t&&"src"in t?t.src||void 0:e,n,i,s),Hi.set(e,n,s,a,r)),r&&a&&!Hi.getPattern(e,n,s)&&Hi.set(e,n,s,a,r),a}function Yi(t){return t?Array.isArray(t)?vv(t):typeof t=="object"&&"src"in t?R5(t):t:null}function R5(t){if(!t.offset||!t.size)return Hi.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Hi.getPattern(e,void 0,t.color);if(n)return n;const i=Hi.get(t.src,"anonymous",null);if(i.getImageState()!==je.LOADED)return null;const s=Zt(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),yv(s.canvas,e,void 0,je.LOADED,t.color,!0),Hi.getPattern(e,void 0,t.color)}const Ku="ol-hidden",A5="ol-selectable",ld="ol-unselectable",_v="ol-control",G_="ol-collapsed",P5=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),U_=["style","variant","weight","size","lineHeight","family"],iC=function(t){const e=t.match(P5);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=U_.length;i<s;++i){const r=e[i+1];r!==void 0&&(n[U_[i]]=r)}return n.families=n.family.split(/,\s?/),n},sC="10px sans-serif",Mn="#000",go="round",Ss=[],Cs=0,mo="round",$l=10,Gl="#000",Ul="center",nh="middle",zr=[0,0,0,0],zl=1,gs=new Oi;let Ra=null,vg;const yg={},k5=function(){const e="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10";let r,a;function o(u,c,h){let d=!0;for(let g=0;g<i;++g){const f=n[g];if(a=ih(u+" "+c+" "+e+f,s),h!=f){const m=ih(u+" "+c+" "+e+h+","+f,s);d=d&&m!=a}}return!!d}function l(){let u=!0;const c=gs.getKeys();for(let h=0,d=c.length;h<d;++h){const g=c[h];gs.get(g)<100&&(o.apply(this,g.split(`
`))?(gu(yg),Ra=null,vg=void 0,gs.set(g,100)):(gs.set(g,gs.get(g)+1,!0),u=!1))}u&&(clearInterval(r),r=void 0)}return function(u){const c=iC(u);if(!c)return;const h=c.families;for(let d=0,g=h.length;d<g;++d){const f=h[d],m=c.style+`
`+c.weight+`
`+f;gs.get(m)===void 0&&(gs.set(m,100,!0),o(c.style,c.weight,f)||(gs.set(m,0,!0),r===void 0&&(r=setInterval(l,32))))}}}(),O5=function(){let t;return function(e){let n=yg[e];if(n==null){if(QS){const i=iC(e),s=rC(e,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(s.actualBoundingBoxAscent+s.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);yg[e]=n}return n}}();function rC(t,e){return Ra||(Ra=Zt(1,1)),t!=vg&&(Ra.font=t,vg=Ra.font),Ra.measureText(e)}function ih(t,e){return rC(t,e).width}function z_(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((s,r)=>Math.max(s,ih(t,r)),0);return n[e]=i,i}function L5(t,e){const n=[],i=[],s=[];let r=0,a=0,o=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if(h===`
`||u===c){r=Math.max(r,a),s.push(a),a=0,o+=l,l=0;continue}const d=e[u+1]||t.font,g=ih(d,h);n.push(g),a+=g;const f=O5(d);i.push(f),l=Math.max(l,f)}return{width:r,height:o,widths:n,heights:i,lineWidths:s}}function F5(t,e,n,i,s,r,a,o,l,u,c){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=h=>h.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),D5(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,s,r,a,o,0,0,a,o)):t.drawImage(i,s,r,a,o,l,u,a*c[0],o*c[1]),t.restore()}function D5(t,e){const n=t.contextInstructions;for(let i=0,s=n.length;i<s;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class ud extends ad{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?je.LOADING:je.LOADED,this.imageState_===je.LOADING&&this.ready().then(()=>this.imageState_=je.LOADED),this.render()}clone(){const e=this.getScale(),n=new ud({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,s=Zt(i.size*e,i.size*e);this.draw_(i,s,e),n=s.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius_,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const C=s;s=r,r=C}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=r*Math.sin(o),u=Math.sqrt(r*r-l*l),c=s-u,h=Math.sqrt(l*l+c*c),d=h/l;if(e==="miter"&&d<=i)return d*n;const g=n/2/d,f=n/2*(c/h),v=Math.sqrt((s+g)*(s+g)+f*f)-s;if(this.radius2_===void 0||e==="bevel")return v*2;const _=s*Math.sin(o),p=Math.sqrt(s*s-_*_),b=r-p,x=Math.sqrt(_*_+b*b)/_;if(x<=i){const C=x*n/2-r-s;return 2*Math.max(v,C)}return v*2}createRenderOptions(){let e=go,n=mo,i=0,s=null,r=0,a,o=0;this.stroke_&&(a=Yi(this.stroke_.getColor()??Gl),o=this.stroke_.getWidth()??zl,s=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??mo,e=this.stroke_.getLineCap()??go,i=this.stroke_.getMiterLimit()??$l);const l=this.calculateLineJoinSize_(n,o,i),u=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:o,size:c,lineCap:e,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=Mn),n.fillStyle=Yi(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=Bl(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=Zt(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius_;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=r+o*a,u=o%2===0?i:s;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Mn,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class cd extends ud{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new cd({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class _u{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new _u({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=yv(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===je.IDLE&&n.load(),n.getImageState()===je.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class hd{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new hd({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Es{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=W_,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Es({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=W_,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function N5(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Je(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let rf=null;function aC(t,e){if(!rf){const n=new _u({color:"rgba(255,255,255,0.4)"}),i=new hd({color:"#3399CC",width:1.25});rf=[new Es({image:new cd({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return rf}function W_(t){return t.getGeometry()}function j_(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class vo extends ad{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;Je(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||ot(a)),Je(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),Je(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=je.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?je.LOADED:je.IDLE:l=je.LOADING:l=je.LOADED),this.color_=e.color!==void 0?Bl(e.color):null,this.iconImage_=yv(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const d=()=>{if(this.unlistenImageChange(d),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(j_(g[0],g[1],e.width,e.height))};this.listenImageChange(d);return}}u!==void 0&&this.setScale(j_(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new vo({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==je.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==je.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ne.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ne.CHANGE,e)}ready(){return this.iconImage_.ready()}}const V5="#333";class pv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Xn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new _u({color:V5}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new pv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Xn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let ga=0;const Io=0,It=1<<ga++,be=1<<ga++,jn=1<<ga++,Wt=1<<ga++,qi=1<<ga++,cl=1<<ga++,en=Math.pow(2,ga)-1,oC={[It]:"boolean",[be]:"number",[jn]:"string",[Wt]:"color",[qi]:"number[]",[cl]:"size"},B5=Object.keys(oC).map(Number).sort(ws);function un(t){const e=[];for(const n of B5)$5(t,n)&&e.push(oC[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function $5(t,e){return(t&e)===e}function Zi(t,e){return!!(t&e)}function dd(t,e){return t===e}class sr{constructor(e,n){this.type=e,this.value=n}}class G5{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function lC(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function U5(t){switch(t){case"string":return jn;case"color":return Wt;case"number":return be;case"boolean":return It;case"number[]":return qi;default:throw new Error(`Unrecognized type hint: ${t}`)}}function at(t,e,n){switch(typeof t){case"boolean":return new sr(It,t);case"number":return new sr(n===cl?cl:be,t);case"string":{let s=jn;return y5(t)&&(s|=Wt),dd(s&n,Io)||(s&=n),new sr(s,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return e4(t,e,n);for(const s of t)if(typeof s!="number")throw new Error("Expected an array of numbers");let i=qi;return t.length===2?i|=cl:(t.length===3||t.length===4)&&(i|=Wt),n&&(i&=n),new sr(i,t)}const X={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},z5={[X.Get]:Fe(([t,e])=>e!==void 0?U5(e.value):en,We(1,2),W5),[X.Var]:Fe(([t])=>t.type,We(1,1),j5),[X.Id]:Fe(be|jn,Go,H5),[X.Concat]:Fe(jn,We(2,1/0),qe(en)),[X.GeometryType]:Fe(jn,Go,Y5),[X.Resolution]:Fe(be,Go),[X.Zoom]:Fe(be,Go),[X.Time]:Fe(be,Go),[X.Any]:Fe(It,We(2,1/0),qe(It)),[X.All]:Fe(It,We(2,1/0),qe(It)),[X.Not]:Fe(It,We(1,1),qe(It)),[X.Equal]:Fe(It,We(2,2),qe(en),Us),[X.NotEqual]:Fe(It,We(2,2),qe(en),Us),[X.GreaterThan]:Fe(It,We(2,2),qe(en),Us),[X.GreaterThanOrEqualTo]:Fe(It,We(2,2),qe(en),Us),[X.LessThan]:Fe(It,We(2,2),qe(en),Us),[X.LessThanOrEqualTo]:Fe(It,We(2,2),qe(en),Us),[X.Multiply]:Fe(t=>{let e=be|Wt;for(let n=0;n<t.length;n++)e&=t[n].type;return e},We(2,1/0),qe(be|Wt),Us),[X.Coalesce]:Fe(t=>{let e=en;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},We(2,1/0),qe(en),Us),[X.Divide]:Fe(be,We(2,2),qe(be)),[X.Add]:Fe(be,We(2,1/0),qe(be)),[X.Subtract]:Fe(be,We(2,2),qe(be)),[X.Clamp]:Fe(be,We(3,3),qe(be)),[X.Mod]:Fe(be,We(2,2),qe(be)),[X.Pow]:Fe(be,We(2,2),qe(be)),[X.Abs]:Fe(be,We(1,1),qe(be)),[X.Floor]:Fe(be,We(1,1),qe(be)),[X.Ceil]:Fe(be,We(1,1),qe(be)),[X.Round]:Fe(be,We(1,1),qe(be)),[X.Sin]:Fe(be,We(1,1),qe(be)),[X.Cos]:Fe(be,We(1,1),qe(be)),[X.Atan]:Fe(be,We(1,2),qe(be)),[X.Sqrt]:Fe(be,We(1,1),qe(be)),[X.Match]:Fe(t=>{let e=en;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},We(4,1/0),H_,K5),[X.Between]:Fe(It,We(3,3),qe(be)),[X.Interpolate]:Fe(t=>{let e=Wt|be;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},We(6,1/0),H_,q5),[X.Case]:Fe(t=>{let e=en;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},We(3,1/0),X5,Z5),[X.In]:Fe(It,We(2,2),J5),[X.Number]:Fe(be,We(1,1/0),qe(en)),[X.String]:Fe(jn,We(1,1/0),qe(en)),[X.Array]:Fe(t=>t.length===2?qi|cl:t.length===3||t.length===4?qi|Wt:qi,We(1,1/0),qe(be)),[X.Color]:Fe(Wt,We(1,4),qe(be)),[X.Band]:Fe(be,We(1,3),qe(be)),[X.Palette]:Fe(Wt,We(2,2),Q5),[X.ToString]:Fe(jn,We(1,1),qe(It|be|jn|Wt))};function W5(t,e){const n=at(t[1],e);if(!(n instanceof sr))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const i=at(t[2],e);return[n,i]}return[n]}function j5(t,e,n,i){const s=t[1];if(typeof s!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(s),!("variables"in e.style)||e.style.variables[s]===void 0)return[new sr(en,s)];const r=e.style.variables[s],a=at(r,e);if(a.value=s,i&&!Zi(i,a.type))throw new Error(`The variable ${s} has type ${un(a.type)} but the following type was expected: ${un(i)}`);return[a]}function H5(t,e){e.featureId=!0}function Y5(t,e){e.geometryType=!0}function Go(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function We(t,e){return function(n,i){const s=n[0],r=n.length-1;if(t===e){if(r!==t){const a=t===1?"":"s";throw new Error(`Expected ${t} argument${a} for ${s}, got ${r}`)}}else if(r<t||r>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${a} arguments for ${s}, got ${r}`)}}}function qe(t){return function(e,n){const i=e[0],s=e.length-1,r=new Array(s);for(let a=0;a<s;++a){const o=at(e[a+1],n);if(!Zi(t,o.type)){const l=un(t),u=un(o.type);throw new Error(`Unexpected type for argument ${a} of ${i} operation, got ${l} but expected ${u}`)}o.type&=t,r[a]=o}return r}}function Us(t,e,n){const i=t[0],s=t.length-1;let r=en;for(let o=0;o<n.length;++o)r&=n[o].type;if(r===Io)throw new Error(`No common type could be found for arguments of ${i} operation`);const a=new Array(s);for(let o=0;o<s;++o)a[o]=at(t[o+1],e,r);return a}function X5(t,e){const n=t[0],i=t.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function H_(t,e){const n=t[0],i=t.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function K5(t,e,n,i){const s=t.length-1;let a=at(t[1],e).type;const o=at(t[t.length-1],e);let l=i!==void 0?i&o.type:o.type;const u=new Array(s-2);for(let h=0;h<s-2;h+=2){const d=at(t[h+2],e),g=at(t[h+3],e);a&=d.type,l&=g.type,u[h]=d,u[h+1]=g}const c=jn|be|It;if(!Zi(c,a))throw new Error(`Expected an input of type ${un(c)} for the interpolate operation, got ${un(a)} instead`);if(a&=c,dd(l,Io))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<s-2;h+=2){const d=at(t[h+2],e,a),g=at(t[h+3],e,l);u[h]=d,u[h+1]=g}return[at(t[1],e,a),...u,at(t[t.length-1],e,l)]}function q5(t,e,n,i){const s=t[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":if(r=s[1],typeof r!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(r)} instead`);break;default:r=null}if(!r)throw new Error(`Invalid interpolation type: ${JSON.stringify(s)}`);r=at(r,e);let a=at(t[2],e);if(!Zi(be,a.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${un(a.type)} instead`);a=at(t[2],e,be);const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){let u=at(t[l+3],e);if(!Zi(be,u.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${un(u.type)} at position ${l+2} instead`);let c=at(t[l+4],e);if(!Zi(be|Wt,c.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${un(c.type)} at position ${l+3} instead`);u=at(t[l+3],e,be),c=at(t[l+4],e,be|Wt),o[l]=u,o[l+1]=c}return[r,a,...o]}function Z5(t,e,n,i){const s=at(t[t.length-1],e,i);let r=i!==void 0?i&s.type:s.type;const a=new Array(t.length-1);for(let o=0;o<a.length-1;o+=2){const l=at(t[o+1],e),u=at(t[o+2],e,i);if(!Zi(It,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${un(l.type)} at position ${o} instead`);r&=u.type,a[o]=l,a[o+1]=u}if(dd(r,Io))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let o=0;o<a.length-1;o+=2)a[o+1]=at(t[o+2],e,r);return a[a.length-1]=at(t[t.length-1],e,r),a}function J5(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=jn|be;const s=new Array(n.length);for(let a=0;a<s.length;a++){const o=at(n[a],e);i&=o.type,s[a]=o}if(dd(i,Io))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[at(t[1],e,i),...s]}function Q5(t,e){const n=at(t[1],e,be);if(n.type!==be)throw new Error(`The first argument of palette must be an number, got ${un(n.type)} instead`);const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const s=new Array(i.length);for(let r=0;r<s.length;r++){const a=at(i[r],e,Wt);if(!(a instanceof sr))throw new Error(`The palette color at index ${r} must be a literal value`);if(!Zi(a.type,Wt))throw new Error(`The palette color at index ${r} should be of type color, got ${un(a.type)} instead`);s[r]=a}return[n,...s]}function Fe(t,...e){return function(n,i,s){const r=n[0];let a=[];for(let l=0;l<e.length;l++)a=e[l](n,i,a,s)||a;let o=typeof t=="function"?t(a):t;if(s!==void 0){if(!Zi(o,s))throw new Error(`The following expression was expected to return ${un(s)}, but returns ${un(o)} instead: ${JSON.stringify(n)}`);o&=s}if(o===Io)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new G5(o,r,...a)}}function e4(t,e,n){const i=t[0],s=z5[i];if(!s)throw new Error(`Unknown operator: ${i}`);return s(t,e,n)}function uC(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return uC(t.getGeometries()[0]);default:return""}}function cC(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Vs(t,e,n){const i=at(t,n);if(!Zi(e,i.type)){const s=un(e),r=un(i.type);throw new Error(`Expected expression to be of type ${s}, got ${r}`)}return Ti(i)}function Ti(t,e){if(t instanceof sr){if(t.type===Wt&&typeof t.value=="string"){const i=mv(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case X.Number:case X.String:case X.Coalesce:return t4(t);case X.Get:case X.Var:return n4(t);case X.Id:return i=>i.featureId;case X.GeometryType:return i=>i.geometryType;case X.Concat:{const i=t.args.map(s=>Ti(s));return s=>"".concat(...i.map(r=>r(s).toString()))}case X.Resolution:return i=>i.resolution;case X.Any:case X.All:case X.Between:case X.In:case X.Not:return s4(t);case X.Equal:case X.NotEqual:case X.LessThan:case X.LessThanOrEqualTo:case X.GreaterThan:case X.GreaterThanOrEqualTo:return i4(t);case X.Multiply:case X.Divide:case X.Add:case X.Subtract:case X.Clamp:case X.Mod:case X.Pow:case X.Abs:case X.Floor:case X.Ceil:case X.Round:case X.Sin:case X.Cos:case X.Atan:case X.Sqrt:return r4(t);case X.Case:return a4(t);case X.Match:return o4(t);case X.Interpolate:return l4(t);case X.ToString:return u4(t);default:throw new Error(`Unsupported operator ${n}`)}}function t4(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Ti(t.args[r]);switch(n){case X.Coalesce:return r=>{for(let a=0;a<i;++a){const o=s[a](r);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case X.Number:case X.String:return r=>{for(let a=0;a<i;++a){const o=s[a](r);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function n4(t,e){const i=t.args[0].value;switch(t.operator){case X.Get:return s=>s.properties[i];case X.Var:return s=>s.variables[i];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function i4(t,e){const n=t.operator,i=Ti(t.args[0]),s=Ti(t.args[1]);switch(n){case X.Equal:return r=>i(r)===s(r);case X.NotEqual:return r=>i(r)!==s(r);case X.LessThan:return r=>i(r)<s(r);case X.LessThanOrEqualTo:return r=>i(r)<=s(r);case X.GreaterThan:return r=>i(r)>s(r);case X.GreaterThanOrEqualTo:return r=>i(r)>=s(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function s4(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Ti(t.args[r]);switch(n){case X.Any:return r=>{for(let a=0;a<i;++a)if(s[a](r))return!0;return!1};case X.All:return r=>{for(let a=0;a<i;++a)if(!s[a](r))return!1;return!0};case X.Between:return r=>{const a=s[0](r),o=s[1](r),l=s[2](r);return a>=o&&a<=l};case X.In:return r=>{const a=s[0](r);for(let o=1;o<i;++o)if(a===s[o](r))return!0;return!1};case X.Not:return r=>!s[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function r4(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Ti(t.args[r]);switch(n){case X.Multiply:return r=>{let a=1;for(let o=0;o<i;++o)a*=s[o](r);return a};case X.Divide:return r=>s[0](r)/s[1](r);case X.Add:return r=>{let a=0;for(let o=0;o<i;++o)a+=s[o](r);return a};case X.Subtract:return r=>s[0](r)-s[1](r);case X.Clamp:return r=>{const a=s[0](r),o=s[1](r);if(a<o)return o;const l=s[2](r);return a>l?l:a};case X.Mod:return r=>s[0](r)%s[1](r);case X.Pow:return r=>Math.pow(s[0](r),s[1](r));case X.Abs:return r=>Math.abs(s[0](r));case X.Floor:return r=>Math.floor(s[0](r));case X.Ceil:return r=>Math.ceil(s[0](r));case X.Round:return r=>Math.round(s[0](r));case X.Sin:return r=>Math.sin(s[0](r));case X.Cos:return r=>Math.cos(s[0](r));case X.Atan:return i===2?r=>Math.atan2(s[0](r),s[1](r)):r=>Math.atan(s[0](r));case X.Sqrt:return r=>Math.sqrt(s[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function a4(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Ti(t.args[s]);return s=>{for(let r=0;r<n-1;r+=2)if(i[r](s))return i[r+1](s);return i[n-1](s)}}function o4(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Ti(t.args[s]);return s=>{const r=i[0](s);for(let a=1;a<n;a+=2)if(r===i[a](s))return i[a+1](s);return i[n-1](s)}}function l4(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=Ti(t.args[s]);return s=>{const r=i[0](s),a=i[1](s);let o,l;for(let u=2;u<n;u+=2){const c=i[u](s);let h=i[u+1](s);const d=Array.isArray(h);if(d&&(h=m5(h)),c>=a)return u===2?h:d?c4(r,a,o,l,c,h):qo(r,a,o,l,c,h);o=c,l=h}return l}}function u4(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=Ti(t.args[r]);switch(n){case X.ToString:return r=>{const a=s[0](r);return t.args[0].type===Wt?vv(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function qo(t,e,n,i,s,r){const a=s-n;if(a===0)return i;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return i+l*(r-i)}function c4(t,e,n,i,s,r){if(s-n===0)return i;const o=B_(i),l=B_(r);let u=l[2]-o[2];u>180?u-=360:u<-180&&(u+=360);const c=[qo(t,e,n,o[0],s,l[0]),qo(t,e,n,o[1],s,l[1]),o[2]+qo(t,e,n,0,s,u),qo(t,e,n,i[3],s,r[3])];return qS(v5(c))}function h4(t){return!0}function d4(t){const e=lC(),n=f4(t,e),i=cC();return function(s,r){if(i.properties=s.getPropertiesInternal(),i.resolution=r,e.featureId){const a=s.getId();a!==void 0?i.featureId=a:i.featureId=null}return e.geometryType&&(i.geometryType=uC(s.getGeometry())),n(i)}}function Y_(t){const e=lC(),n=t.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=_g(t[a],e);const s=cC(),r=new Array(n);return function(a,o){if(s.properties=a.getPropertiesInternal(),s.resolution=o,e.featureId){const u=a.getId();u!==void 0?s.featureId=u:s.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](s);c&&(r[l]=c,l+=1)}return r.length=l,r}}function f4(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const r=t[s],a="filter"in r?Vs(r.filter,It,e):h4;let o;if(Array.isArray(r.style)){const l=r.style.length;o=new Array(l);for(let u=0;u<l;++u)o[u]=_g(r.style[u],e)}else o=[_g(r.style,e)];i[s]={filter:a,styles:o}}return function(s){const r=[];let a=!1;for(let o=0;o<n;++o){const l=i[o].filter;if(l(s)&&!(t[o].else&&a)){a=!0;for(const u of i[o].styles){const c=u(s);c&&r.push(c)}}}return r}}function _g(t,e){const n=Wl(t,"",e),i=jl(t,"",e),s=g4(t,e),r=m4(t,e),a=An(t,"z-index",e);if(!n&&!i&&!s&&!r&&!aa(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new Es;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),o.setFill(c)}if(i){const c=i(l);c&&(u=!1),o.setStroke(c)}if(s){const c=s(l);c&&(u=!1),o.setText(c)}if(r){const c=r(l);c&&(u=!1),o.setImage(c)}return a&&o.setZIndex(a(l)),u?null:o}}function Wl(t,e,n){let i;if(e+"fill-pattern-src"in t?i=p4(t,e+"fill-",n):i=bv(t,e+"fill-color",n),!i)return null;const s=new _u;return function(r){const a=i(r);return a==="none"?null:(s.setColor(a),s)}}function jl(t,e,n){const i=An(t,e+"stroke-width",n),s=bv(t,e+"stroke-color",n);if(!i&&!s)return null;const r=ys(t,e+"stroke-line-cap",n),a=ys(t,e+"stroke-line-join",n),o=hC(t,e+"stroke-line-dash",n),l=An(t,e+"stroke-line-dash-offset",n),u=An(t,e+"stroke-miter-limit",n),c=new hd;return function(h){if(s){const d=s(h);if(d==="none")return null;c.setColor(d)}if(i&&c.setWidth(i(h)),r){const d=r(h);if(d!=="butt"&&d!=="round"&&d!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(d)}if(a){const d=a(h);if(d!=="bevel"&&d!=="round"&&d!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(d)}return o&&c.setLineDash(o(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function g4(t,e){const n="text-",i=ys(t,n+"value",e);if(!i)return null;const s=Wl(t,n,e),r=Wl(t,n+"background-",e),a=jl(t,n,e),o=jl(t,n+"background-",e),l=ys(t,n+"font",e),u=An(t,n+"max-angle",e),c=An(t,n+"offset-x",e),h=An(t,n+"offset-y",e),d=Hl(t,n+"overflow",e),g=ys(t,n+"placement",e),f=An(t,n+"repeat",e),m=fd(t,n+"scale",e),v=Hl(t,n+"rotate-with-view",e),_=An(t,n+"rotation",e),p=ys(t,n+"align",e),b=ys(t,n+"justify",e),S=ys(t,n+"baseline",e),x=hC(t,n+"padding",e),C=gd(t,n+"declutter-mode"),E=new pv({declutterMode:C});return function(M){if(E.setText(i(M)),s&&E.setFill(s(M)),r&&E.setBackgroundFill(r(M)),a&&E.setStroke(a(M)),o&&E.setBackgroundStroke(o(M)),l&&E.setFont(l(M)),u&&E.setMaxAngle(u(M)),c&&E.setOffsetX(c(M)),h&&E.setOffsetY(h(M)),d&&E.setOverflow(d(M)),g){const w=g(M);if(w!=="point"&&w!=="line")throw new Error("Expected point or line for text-placement");E.setPlacement(w)}if(f&&E.setRepeat(f(M)),m&&E.setScale(m(M)),v&&E.setRotateWithView(v(M)),_&&E.setRotation(_(M)),p){const w=p(M);if(w!=="left"&&w!=="center"&&w!=="right"&&w!=="end"&&w!=="start")throw new Error("Expected left, right, center, start, or end for text-align");E.setTextAlign(w)}if(b){const w=b(M);if(w!=="left"&&w!=="right"&&w!=="center")throw new Error("Expected left, right, or center for text-justify");E.setJustify(w)}if(S){const w=S(M);if(w!=="bottom"&&w!=="top"&&w!=="middle"&&w!=="alphabetic"&&w!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");E.setTextBaseline(w)}return x&&E.setPadding(x(M)),E}}function m4(t,e){return"icon-src"in t?v4(t,e):"shape-points"in t?y4(t,e):"circle-radius"in t?_4(t,e):null}function v4(t,e){const n="icon-",i=n+"src",s=dC(t[i],i),r=sh(t,n+"anchor",e),a=fd(t,n+"scale",e),o=An(t,n+"opacity",e),l=sh(t,n+"displacement",e),u=An(t,n+"rotation",e),c=Hl(t,n+"rotate-with-view",e),h=K_(t,n+"anchor-origin"),d=q_(t,n+"anchor-x-units"),g=q_(t,n+"anchor-y-units"),f=S4(t,n+"color"),m=x4(t,n+"cross-origin"),v=w4(t,n+"offset"),_=K_(t,n+"offset-origin"),p=rh(t,n+"width"),b=rh(t,n+"height"),S=b4(t,n+"size"),x=gd(t,n+"declutter-mode"),C=new vo({src:s,anchorOrigin:h,anchorXUnits:d,anchorYUnits:g,color:f,crossOrigin:m,offset:v,offsetOrigin:_,height:b,width:p,size:S,declutterMode:x});return function(E){return o&&C.setOpacity(o(E)),l&&C.setDisplacement(l(E)),u&&C.setRotation(u(E)),c&&C.setRotateWithView(c(E)),a&&C.setScale(a(E)),r&&C.setAnchor(r(E)),C}}function y4(t,e){const n="shape-",i=n+"points",s=n+"radius",r=pg(t[i],i),a=pg(t[s],s),o=Wl(t,n,e),l=jl(t,n,e),u=fd(t,n+"scale",e),c=sh(t,n+"displacement",e),h=An(t,n+"rotation",e),d=Hl(t,n+"rotate-with-view",e),g=rh(t,n+"radius2"),f=rh(t,n+"angle"),m=gd(t,n+"declutter-mode"),v=new ud({points:r,radius:a,radius2:g,angle:f,declutterMode:m});return function(_){return o&&v.setFill(o(_)),l&&v.setStroke(l(_)),c&&v.setDisplacement(c(_)),h&&v.setRotation(h(_)),d&&v.setRotateWithView(d(_)),u&&v.setScale(u(_)),v}}function _4(t,e){const n="circle-",i=Wl(t,n,e),s=jl(t,n,e),r=An(t,n+"radius",e),a=fd(t,n+"scale",e),o=sh(t,n+"displacement",e),l=An(t,n+"rotation",e),u=Hl(t,n+"rotate-with-view",e),c=gd(t,n+"declutter-mode"),h=new cd({radius:5,declutterMode:c});return function(d){return r&&h.setRadius(r(d)),i&&h.setFill(i(d)),s&&h.setStroke(s(d)),o&&h.setDisplacement(o(d)),l&&h.setRotation(l(d)),u&&h.setRotateWithView(u(d)),a&&h.setScale(a(d)),h}}function An(t,e,n){if(!(e in t))return;const i=Vs(t[e],be,n);return function(s){return pg(i(s),e)}}function ys(t,e,n){if(!(e in t))return null;const i=Vs(t[e],jn,n);return function(s){return dC(i(s),e)}}function p4(t,e,n){const i=ys(t,e+"pattern-src",n),s=X_(t,e+"pattern-offset",n),r=X_(t,e+"pattern-size",n),a=bv(t,e+"color",n);return function(o){return{src:i(o),offset:s&&s(o),size:r&&r(o),color:a&&a(o)}}}function Hl(t,e,n){if(!(e in t))return null;const i=Vs(t[e],It,n);return function(s){const r=i(s);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${e}`);return r}}function bv(t,e,n){if(!(e in t))return null;const i=Vs(t[e],Wt|jn,n);return function(s){return fC(i(s),e)}}function hC(t,e,n){if(!(e in t))return null;const i=Vs(t[e],qi,n);return function(s){return pu(i(s),e)}}function sh(t,e,n){if(!(e in t))return null;const i=Vs(t[e],qi,n);return function(s){const r=pu(i(s),e);if(r.length!==2)throw new Error(`Expected two numbers for ${e}`);return r}}function X_(t,e,n){if(!(e in t))return null;const i=Vs(t[e],qi,n);return function(s){return gC(i(s),e)}}function fd(t,e,n){if(!(e in t))return null;const i=Vs(t[e],qi|be,n);return function(s){return C4(i(s),e)}}function rh(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function b4(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Xn(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function x4(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function K_(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function q_(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function w4(t,e){const n=t[e];if(n!==void 0)return pu(n,e)}function gd(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function S4(t,e){const n=t[e];if(n!==void 0)return fC(n,e)}function pu(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function dC(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function pg(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function fC(t,e){if(typeof t=="string")return t;const n=pu(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function gC(t,e){const n=pu(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function C4(t,e){return typeof t=="number"?t:gC(t,e)}const Z_={RENDER_ORDER:"renderOrder"};class mC extends rd{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Z_.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new YS(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(Z_.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?aC:e;const n=E4(e);this.styleFunction_=e===null?void 0:N5(n),this.changed()}}function E4(t){if(t===void 0)return aC;if(!t)return null;if(typeof t=="function"||t instanceof Es)return t;if(!Array.isArray(t))return Y_([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Es){const s=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!(a instanceof Es))throw new Error("Expected a list of style instances");s[r]=a}return s}if("style"in n){const s=new Array(e);for(let r=0;r<e;++r){const a=t[r];if(!("style"in a))throw new Error("Expected a list of rules with a style property");s[r]=a}return d4(s)}return Y_(t)}class M4 extends Um{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Ie()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;Ps(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),LS(s,i)}forEachFeatureAtCoordinate(e,n,i,s,r,a,o,l){let u;const c=n.viewState;function h(S,x,C,E){return r.call(a,x,S?C:null,E)}const d=c.projection,g=TS(e.slice(),d),f=[[0,0]];if(d.canWrapX()&&s){const S=d.getExtent(),x=tt(S);f.push([-x,0],[x,0])}const m=n.layerStatesArray,v=m.length,_=[],p=[];for(let S=0;S<f.length;S++)for(let x=v-1;x>=0;--x){const C=m[x],E=C.layer;if(E.hasRenderer()&&dv(C,c)&&o.call(l,E)){const M=E.getRenderer(),w=E.getSource();if(M&&w){const A=w.getWrapX()?g:e,P=h.bind(null,C.managed);p[0]=A[0]+f[S][0],p[1]=A[1]+f[S][1],u=M.forEachFeatureAtCoordinate(p,n,i,P,_)}if(u)return u}}if(_.length===0)return;const b=1/_.length;return _.forEach((S,x)=>S.distanceSq+=x*b),_.sort((S,x)=>S.distanceSq-x.distanceSq),_.some(S=>u=S.callback(S.feature,S.layer,S.geometry)),u}hasFeatureAtCoordinate(e,n,i,s,r,a){return this.forEachFeatureAtCoordinate(e,n,i,s,Ll,this,r,a)!==void 0}getMap(){return this.map_}renderFrame(e){Ie()}scheduleExpireIconCache(e){Hi.canExpireCache()&&e.postRenderFunctions.push(T4)}}function T4(t,e){Hi.expire()}class vC extends Ns{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class I4 extends M4{constructor(e){super(e),this.fontChangeListenerKey_=Xe(gs,oo.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=ld+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const s=new vC(e,void 0,n);i.dispatchEvent(s)}}disposeInternal(){_t(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(oi.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex});n.some(o=>o.layer instanceof mC&&o.layer.getDeclutter())&&(e.declutter={});const s=e.viewState;this.children_.length=0;const r=[];let a=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const c=u.layer,h=c.getSourceState();if(!dv(u,s)||h!="ready"&&h!="undefined"){c.unrender();continue}const d=c.render(e,a);d&&(d!==a&&(this.children_.push(d),a=d),r.push(u))}this.declutter(e,r),S5(this.element_,this.children_),this.dispatchRenderEvent(oi.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],r=s.layer;r.getDeclutter()&&r.renderDeclutter(e,s)}n.forEach(i=>i.layer.renderDeferred(e))}}}class _s extends Ns{constructor(e,n){super(e),this.layer=n}}const af={LAYERS:"layers"};class ma extends _S{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(af.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new ji(i.slice(),{unique:!0}):Je(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new ji(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(_t),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Xe(e,En.ADD,this.handleLayersAdd_,this),Xe(e,En.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(_t);gu(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new _s("addlayer",r))}this.changed()}registerLayerListeners_(e){const n=[Xe(e,oo.PROPERTYCHANGE,this.handleLayerChange_,this),Xe(e,Ne.CHANGE,this.handleLayerChange_,this)];e instanceof ma&&n.push(Xe(e,"addlayer",this.handleLayerGroupAdd_,this),Xe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ot(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new _s("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new _s("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new _s("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=ot(n);this.listenerKeys_[i].forEach(_t),delete this.listenerKeys_[i],this.dispatchEvent(new _s("removelayer",n)),this.changed()}getLayers(){return this.get(af.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,r=i.length;s<r;++s)this.dispatchEvent(new _s("removelayer",i[s]))}this.set(af.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const s=this.getLayerState();let r=s.zIndex;!e&&s.zIndex===void 0&&(r=0);for(let a=i,o=n.length;a<o;a++){const l=n[a];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=ul(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}const R4=Object.freeze(Object.defineProperty({__proto__:null,GroupEvent:_s,default:ma},Symbol.toStringTag,{value:"Module"}));class Aa extends Ns{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class Ks extends Aa{constructor(e,n,i,s,r,a){super(e,n,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Rt={SINGLECLICK:"singleclick",CLICK:Ne.CLICK,DBLCLICK:Ne.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},bg={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class A4 extends Zh{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Xe(i,bg.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Xe(i,bg.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ne.TOUCHMOVE,this.boundHandleTouchMove_,tC?{passive:!1}:!1)}emulateClick_(e){let n=new Ks(Rt.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Ks(Rt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Ks(Rt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Rt.POINTERUP||n.type==Rt.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==Rt.POINTERDOWN||n.type==Rt.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new Ks(Rt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(_t),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new Ks(Rt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Xe(i,Rt.POINTERMOVE,this.handlePointerMove_,this),Xe(i,Rt.POINTERUP,this.handlePointerUp_,this),Xe(this.element_,Rt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Xe(this.element_.getRootNode(),Rt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new Ks(Rt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Ks(Rt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(_t(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ne.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(_t(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(_t),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const vs={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},tn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ah=1/0;class P4{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,gu(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){Je(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=ah?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,s=n.length,r=n[e],a=i[e],o=e;for(;e<s>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<s&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=r,i[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const i=this.elements_,s=this.priorities_,r=i[n],a=s[n];for(;n>e;){const o=this.getParentIndex_(n);if(s[o]>a)i[n]=i[o],s[n]=s[o],n=o;else break}i[n]=r,s[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const r=n.length;let a,o,l;for(o=0;o<r;++o)a=n[o],l=e(a),l==ah?delete this.queuedElements_[this.keyFunction_(a)]:(i[s]=l,n[s++]=a);n.length=s,i.length=s,this.heapify_()}}const Se={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class k4 extends P4{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Ne.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===Se.LOADED||i===Se.ERROR||i===Se.EMPTY){i!==Se.ERROR&&n.removeEventListener(Ne.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0,s,r,a;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;)r=this.dequeue()[0],a=r.getKey(),s=r.getState(),s===Se.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,r.load())}}function O4(t,e,n,i,s){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return ah;const r=t.viewState.center,a=i[0]-r[0],o=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(a*a+o*o)/s}class md extends Oi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){th(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&th(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)_t(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==lo&&this.listenerKeys.push(Xe(e,vs.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}const L4=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"}));class F4 extends md{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:n+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=a):this.collapseLabel_=r;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=s):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ne.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+ld+" "+_v+(this.collapsed_&&this.collapsible_?" "+G_:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(s=>s.getAttributions(e)))),i=!this.getMap().getAllLayers().some(s=>s.getSource()&&s.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(s=>q3(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Tr(n,this.renderedAttributions_)){nC(this.ulElement_);for(let s=0,r=n.length;s<r;++s){const a=document.createElement("li");a.innerHTML=n[s],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(G_),this.collapsed_?$_(this.collapseLabel_,this.label_):$_(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class D4 extends md{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const r=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=r,a.appendChild(this.label_),a.addEventListener(Ne.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+ld+" "+_v,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ku)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:To}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const r=this.element.classList.contains(Ku);!r&&i===0?this.element.classList.add(Ku):r&&i!==0&&this.element.classList.remove(Ku)}this.label_.style.transform=s}this.rotation_=i}}class N4 extends md{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(Ne.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(Ne.CLICK,this.handleClick_.bind(this,-i),!1);const d=n+" "+ld+" "+_v,g=this.element;g.className=d,g.appendChild(c),g.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:To})):i.setZoom(r)}}}function V4(t){t=t||{};const e=new ji;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new N4(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new D4(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new F4(t.attributionOptions)),e}const J_={ACTIVE:"active"};class bu extends Oi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(J_.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(J_.ACTIVE,e)}setMap(e){this.map_=e}}function B4(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:kV,center:t.getConstrainedCenter(s)})}}function xv(t,e,n,i){const s=t.getZoom();if(s===void 0)return;const r=t.getConstrainedZoom(s+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:To})}class $4 extends bu{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Rt.DBLCLICK){const i=e.originalEvent,s=e.map,r=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_,o=s.getView();xv(o,a,r,this.duration_),i.preventDefault(),n=!0}return!n}}class xu extends bu{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Rt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Rt.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Rt.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Rt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function wv(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}function xg(t){const e=arguments;return function(n){let i=!0;for(let s=0,r=e.length;s<r&&(i=i&&e[s](n),!!i);++s);return i}}const G4=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},U4=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},yC=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?U4(t):!0},z4=Ll,_C=function(t){const e=t.originalEvent;return e.button==0&&!(b5&&ZS&&e.ctrlKey)},pC=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},W4=function(t){const e=t.originalEvent;return ZS?e.metaKey:e.ctrlKey},j4=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},bC=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},of=function(t){const e=t.originalEvent;return Je(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},H4=function(t){const e=t.originalEvent;return Je(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class Y4 extends xu{constructor(e){super({stopDown:qh}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:xg(pC,H4);this.condition_=e.onFocusOnly?xg(yC,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(wv(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],o=e.map.getView();yV(r,o.getResolution()),qm(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),a=i.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-s*Math.cos(r),o[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:To})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class X4 extends xu{constructor(e){e=e||{},super({stopDown:qh}),this.condition_=e.condition?e.condition:G4,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!of(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===nv)return;const s=n.getSize(),r=e.pixel,a=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;i.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return of(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return of(e)&&_C(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class K4 extends Um{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],n[0])+i,s.top=Math.min(e[1],n[1])+i,s.width=Math.abs(n[0]-e[0])+i,s.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,s=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new pr([s])}getGeometry(){return this.geometry_}}const Uo={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class qu extends Ns{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class q4 extends xu{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new K4(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:_C,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const s=i[0]-n[0],r=i[1]-n[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new qu(Uo.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new qu(n?Uo.BOXEND:Uo.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new qu(Uo.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new qu(Uo.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}}class Z4 extends q4{constructor(e){e=e||{};const n=e.condition?e.condition:j4;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=i.rotatedExtentForGeometry(s),a=i.getResolutionForExtentInternal(r),o=i.getResolution()/a;s=s.clone(),s.scale(o*o)}i.fitInternal(s,{duration:this.duration_,easing:To})}}const Fr={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class J4 extends bu{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return pC(n)&&bC(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ne.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==Fr.DOWN||s==Fr.LEFT||s==Fr.RIGHT||s==Fr.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,u=0;s==Fr.DOWN?u=-o:s==Fr.LEFT?l=-o:s==Fr.RIGHT?l=o:u=o;const c=[l,u];qm(c,a.getRotation()),B4(a,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class Q4 extends bu{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!W4(n)&&bC(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ne.KEYDOWN||e.type==Ne.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const r=e.map,a=s==="+"?this.delta_:-this.delta_,o=r.getView();xv(o,a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class e6{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const r=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,r),this.initialVelocity_=Math.sqrt(r*r+a*a)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class t6 extends bu{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:z4;this.condition_=e.onFocusOnly?xg(yC,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Ne.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let r;if(e.type==Ne.WHEEL&&(r=s.deltaY,_5&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=JS),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=i.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-At(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),xv(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class n6 extends xu{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=qh),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const a=e.map,o=a.getView();o.getConstraints().rotation!==nv&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(wv(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class i6 extends xu{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=qh),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],r=i.clientX-s.clientX,a=i.clientY-s.clientY,o=Math.sqrt(r*r+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(wv(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function s6(t){t=t||{};const e=new ji,n=new e6(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new X4),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new $4({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new Y4({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new n6),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new i6({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new J4),e.push(new Q4({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new t6({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new Z4({duration:t.zoomDuration})),e}function xC(t){if(t instanceof rd){t.setMapInternal(null);return}t instanceof ma&&t.getLayers().forEach(xC)}function wC(t,e){if(t instanceof rd){t.setMapInternal(e);return}if(t instanceof ma){const n=t.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)wC(n[i],e)}}let wg=class extends Oi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=r6(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:JS,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Ci(),this.pixelToCoordinateTransform_=Ci(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||V4(),this.interactions=n.interactions||s6({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new k4(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(tn.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(tn.VIEW,this.handleViewChanged_),this.addChangeListener(tn.SIZE,this.handleSizeChanged_),this.addChangeListener(tn.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof Gi)&&e.view.then(function(s){i.setView(new Gi(s))}),this.controls.addEventListener(En.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(En.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(En.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(En.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(En.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(En.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){wC(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const r=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:Ll,o=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,o,n,null,a,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(s){s instanceof ma?n(s.getLayers()):e.push(s)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:Ll,r=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,a,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=i.width/s[0],a=i.height/s[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-i.left)/r,(o.clientY-i.top)/a]}getTarget(){return this.get(tn.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return fg(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Kt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(tn.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof ji){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const a=s.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=fs(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Kt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(tn.SIZE)}getView(){return this.get(tn.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,s){return O4(this.frameState_,e,n,i,s)}handleBrowserEvent(e,n){n=n||e.type;const i=new Ks(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===bg.POINTERDOWN||i===Ne.WHEEL||i===Ne.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,a=n.target;if(this.overlayContainerStopEvent_.contains(a)||!(r===s?s.documentElement:r).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const a=s[r];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,r=s;if(e){const a=e.viewHints;if(a[sn.ANIMATING]||a[sn.INTERACTING]){const o=Date.now()-e.time>8;s=o?0:8,r=o?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(oi.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(oi.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Aa(vs.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Aa(vs.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let s=0,r=i.length;s<r;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)_t(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ne.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ne.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,th(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new I4(this)),this.mapBrowserEventHandler_=new A4(this,this.moveTolerance_);for(const r in Rt)this.mapBrowserEventHandler_.addEventListener(Rt[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ne.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ne.WHEEL,this.boundHandleBrowserEvent_,tC?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Xe(i,Ne.KEYDOWN,this.handleBrowserEvent,this),Xe(i,Ne.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(_t(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(_t(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Xe(e,oo.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Xe(e,Ne.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_t),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new _s("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Xe(e,oo.PROPERTYCHANGE,this.render,this),Xe(e,Ne.CHANGE,this.render,this),Xe(e,"addlayer",this.handleLayerAdd_,this),Xe(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){xC(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),s=this.frameState_;let r=null;if(n!==void 0&&D_(n)&&i&&i.isDef()){const a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ug(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:ot(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=ug(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!vu(this.previousExtent_)&&!Fl(r.extent,this.previousExtent_))&&(this.dispatchEvent(new Aa(vs.MOVESTART,this,s)),this.previousExtent_=Mo(this.previousExtent_)),this.previousExtent_&&!r.viewHints[sn.ANIMATING]&&!r.viewHints[sn.INTERACTING]&&!Fl(r.extent,this.previousExtent_)&&(this.dispatchEvent(new Aa(vs.MOVEEND,this,r)),bS(r.extent,this.previousExtent_))),this.dispatchEvent(new Aa(vs.POSTRENDER,this,r)),this.renderComplete_=this.hasListener(vs.LOADSTART)||this.hasListener(vs.LOADEND)||this.hasListener(oi.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new _s("removelayer",n)),this.set(tn.LAYERGROUP,e)}setSize(e){this.set(tn.SIZE,e)}setTarget(e){this.set(tn.TARGET,e)}setView(e){if(!e||e instanceof Gi){this.set(tn.VIEW,e);return}this.set(tn.VIEW,new Gi);const n=this;e.then(function(i){n.setView(new Gi(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const s=getComputedStyle(e),r=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),a=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(a)&&(n=[r,a],!D_(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&RS("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Tr(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function r6(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new ma({layers:t.layers});n[tn.LAYERGROUP]=i,n[tn.TARGET]=t.target,n[tn.VIEW]=t.view instanceof Gi?t.view:new Gi;let s;t.controls!==void 0&&(Array.isArray(t.controls)?s=new ji(t.controls.slice()):(Je(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));let r;t.interactions!==void 0&&(Array.isArray(t.interactions)?r=new ji(t.interactions.slice()):(Je(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new ji(t.overlays.slice()):(Je(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new ji,{controls:s,interactions:r,keyboardEventTarget:e,overlays:a,values:n}}class vd extends Oi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new vd(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(_t(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Xe(e,Ne.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?a6(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function a6(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Je(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const Zu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class o6 extends rd{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Zu.PRELOAD)}setPreload(e){this.set(Zu.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Zu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Zu.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class l6 extends Eo{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e}getFeatures(e){return Ie()}getData(e){return null}prepareFrame(e){return Ie()}renderFrame(e,n){return Ie()}loadedTileCallback(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i}createLoadedTileFinder(e,n,i){return(s,r)=>{const a=this.loadedTileCallback.bind(this,i,s);return e.forEachLoadedTile(n,s,r,a)}}forEachFeatureAtCoordinate(e,n,i,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===je.LOADED||n.getState()===je.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=je.LOADED&&n!=je.ERROR&&e.addEventListener(Ne.CHANGE,this.boundHandleImageChange_),n==je.IDLE&&(e.load(),n=e.getState()),n==je.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class SC{constructor(){Cu(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(eh(),{get:(e,n)=>{if(typeof eh()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const r=n[i];if(typeof r=="function"){r(e);continue}const a=n[++i];if(typeof e[r]=="function")e[r](...a);else{if(typeof a=="function"){e[r]=a(e);continue}e[r]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Q_=[];let Pa=null;function u6(){Pa=Zt(1,1,void 0,{willReadFrequently:!0})}class CC extends l6{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Ci(),this.pixelTransform=Ci(),this.inversePixelTransform=Ci(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,i){Pa||u6(),Pa.clearRect(0,0,1,1);let s;try{Pa.drawImage(e,n,i,1,1,0,0,1,1),s=Pa.getImageData(0,0,1,1).data}catch{return Pa=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let r,a;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&Tr(Bl(e.style.backgroundColor),Bl(i)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=s;let o=r.style;o.position="absolute",o.width="100%",o.height="100%",a=Zt();const l=a.canvas;r.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=r,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=ha(i),r=td(i),a=ed(i),o=Qh(i);Kt(n.coordinateToPixelTransform,s),Kt(n.coordinateToPixelTransform,r),Kt(n.coordinateToPixelTransform,a),Kt(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Kt(l,s),Kt(l,r),Kt(l,a),Kt(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,r=e.viewState.rotation,a=e.pixelRatio,o=Math.round(tt(i)/s*a),l=Math.round(on(i)/s*a);Ps(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,r,-o/2,-l/2),LS(this.inversePixelTransform,this.pixelTransform);const u=FV(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=o||c.height!=l?(c.width=o,c.height=l):this.context.clearRect(0,0,o,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const r=new vC(e,this.inversePixelTransform,i,n);s.dispatchEvent(r)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(oi.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(oi.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new SC),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(oi.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(oi.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,s,r,a,o){const l=r/2,u=a/2,c=s/n,h=-c,d=-e[0]+o,g=-e[1];return Ps(this.tempTransform,l,u,c,h,-i,d,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class EC extends Zh{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ne.CHANGE)}release(){this.state===Se.ERROR&&this.setState(Se.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Se.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Se.LOADED){e.interimTile=null;break}e.getState()==Se.LOADING?n=e:e.getState()==Se.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Se.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Ie()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:OS(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class MC extends EC{constructor(e,n,i,s,r,a){super(e,n,a),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Se.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Se.ERROR,this.unlistenImage_(),this.image_=c6(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Se.LOADED:this.state=Se.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Se.ERROR&&(this.state=Se.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Se.IDLE&&(this.state=Se.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=C5(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function c6(){const t=Zt(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const h6=.5,d6=10,ep=.25;class f6{constructor(e,n,i,s,r,a){this.sourceProj_=e,this.targetProj_=n;let o={};const l=ho(this.targetProj_,this.sourceProj_);this.transformInv_=function(p){const b=p[0]+"/"+p[1];return o[b]||(o[b]=l(p)),o[b]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&tt(s)>=tt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?tt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?tt(this.targetProj_.getExtent()):null;const u=ha(i),c=td(i),h=ed(i),d=Qh(i),g=this.transformInv_(u),f=this.transformInv_(c),m=this.transformInv_(h),v=this.transformInv_(d),_=d6+(a?Math.max(0,Math.ceil(Math.log2(lg(i)/(a*a*256*256)))):0);if(this.addQuad_(u,c,h,d,g,f,m,v,_),this.wrapsXInSource_){let p=1/0;this.triangles_.forEach(function(b,S,x){p=Math.min(p,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(b=>{if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-p>this.sourceWorldWidth_/2){const S=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];S[0][0]-p>this.sourceWorldWidth_/2&&(S[0][0]-=this.sourceWorldWidth_),S[1][0]-p>this.sourceWorldWidth_/2&&(S[1][0]-=this.sourceWorldWidth_),S[2][0]-p>this.sourceWorldWidth_/2&&(S[2][0]-=this.sourceWorldWidth_);const x=Math.min(S[0][0],S[1][0],S[2][0]);Math.max(S[0][0],S[1][0],S[2][0])-x<this.sourceWorldWidth_/2&&(b.source=S)}})}o={}}addTriangle_(e,n,i,s,r,a){this.triangles_.push({source:[s,r,a],target:[e,n,i]})}addQuad_(e,n,i,s,r,a,o,l,u){const c=Zc([r,a,o,l]),h=this.sourceWorldWidth_?tt(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&h>.5&&h<1;let f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=Zc([e,n,i,s]);f=tt(v)/this.targetWorldWidth_>ep||f}!g&&this.sourceProj_.isGlobal()&&h&&(f=h>ep||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Rn(c,this.maxSourceExtent_))return;let m=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)f=!0;else if(m=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(u>0){if(!f){const v=[(e[0]+i[0])/2,(e[1]+i[1])/2],_=this.transformInv_(v);let p;g?p=(Ya(r[0],d)+Ya(o[0],d))/2-Ya(_[0],d):p=(r[0]+o[0])/2-_[0];const b=(r[1]+o[1])/2-_[1];f=p*p+b*b>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const v=[(n[0]+i[0])/2,(n[1]+i[1])/2],_=this.transformInv_(v),p=[(s[0]+e[0])/2,(s[1]+e[1])/2],b=this.transformInv_(p);this.addQuad_(e,n,v,p,r,a,_,b,u-1),this.addQuad_(p,v,i,s,b,_,o,l,u-1)}else{const v=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(v),p=[(i[0]+s[0])/2,(i[1]+s[1])/2],b=this.transformInv_(p);this.addQuad_(e,v,p,s,r,_,b,l,u-1),this.addQuad_(v,n,i,p,_,a,o,b,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}m&11||this.addTriangle_(e,i,s,r,o,l),m&14||this.addTriangle_(e,i,n,r,o,a),m&&(m&13||this.addTriangle_(n,s,e,a,l,r),m&7||this.addTriangle_(n,s,i,a,l,o))}calculateSourceExtent(){const e=hi();return this.triangles_.forEach(function(n,i,s){const r=n.source;ll(e,r[0]),ll(e,r[1]),ll(e,r[2])}),e}getTriangles(){return this.triangles_}}let lf;const Ka=[];function tp(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function uf(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function g6(){if(lf===void 0){const t=Zt(6,6,Ka);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",tp(t,4,5,4,0),tp(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;lf=uf(e,0)||uf(e,4)||uf(e,8),od(t),Ka.push(t.canvas)}return lf}function np(t,e,n,i){const s=SV(n,e,t);let r=C_(e,i,n);const a=e.getMetersPerUnit();a!==void 0&&(r*=a);const o=t.getMetersPerUnit();o!==void 0&&(r/=o);const l=t.getExtent();if(!l||co(l,s)){const u=C_(t,r,s)/r;isFinite(u)&&u>0&&(r/=u)}return r}function m6(t,e,n,i){const s=_r(n);let r=np(t,e,s,i);return(!isFinite(r)||r<=0)&&CS(n,function(a){return r=np(t,e,a,i),isFinite(r)&&r>0}),r}function v6(t,e,n,i,s,r,a,o,l,u,c,h,d,g){const f=Zt(Math.round(n*t),Math.round(n*e),Ka);if(h||(f.imageSmoothingEnabled=!1),l.length===0)return f.canvas;f.scale(n,n);function m(x){return Math.round(x*n)/n}f.globalCompositeOperation="lighter";const v=hi();l.forEach(function(x,C,E){wS(v,x.extent)});let _;const p=n/i,b=(h?1:1+Math.pow(2,-24))/p;{if(_=Zt(Math.round(tt(v)*p),Math.round(on(v)*p),Ka),h||(_.imageSmoothingEnabled=!1),s&&g){const x=(s[0]-v[0])*p,C=-(s[3]-v[3])*p,E=tt(s)*p,M=on(s)*p;_.rect(x,C,E,M),_.clip()}l.forEach(function(x,C,E){if(x.image.width>0&&x.image.height>0){if(x.clipExtent){_.save();const T=(x.clipExtent[0]-v[0])*p,F=-(x.clipExtent[3]-v[3])*p,O=tt(x.clipExtent)*p,k=on(x.clipExtent)*p;_.rect(h?T:Math.round(T),h?F:Math.round(F),h?O:Math.round(T+O)-Math.round(T),h?k:Math.round(F+k)-Math.round(F)),_.clip()}const M=(x.extent[0]-v[0])*p,w=-(x.extent[3]-v[3])*p,A=tt(x.extent)*p,P=on(x.extent)*p;_.drawImage(x.image,u,u,x.image.width-2*u,x.image.height-2*u,h?M:Math.round(M),h?w:Math.round(w),h?A:Math.round(M+A)-Math.round(M),h?P:Math.round(w+P)-Math.round(w)),x.clipExtent&&_.restore()}})}const S=ha(a);return o.getTriangles().forEach(function(x,C,E){const M=x.source,w=x.target;let A=M[0][0],P=M[0][1],T=M[1][0],F=M[1][1],O=M[2][0],k=M[2][1];const I=m((w[0][0]-S[0])/r),j=m(-(w[0][1]-S[1])/r),N=m((w[1][0]-S[0])/r),$=m(-(w[1][1]-S[1])/r),V=m((w[2][0]-S[0])/r),U=m(-(w[2][1]-S[1])/r),K=A,oe=P;A=0,P=0,T-=K,F-=oe,O-=K,k-=oe;const Y=[[T,F,0,0,N-I],[O,k,0,0,V-I],[0,0,T,F,$-j],[0,0,O,k,U-j]],G=eV(Y);if(!G)return;if(f.save(),f.beginPath(),g6()||!h){f.moveTo(N,$);const se=4,Ge=I-N,yt=j-$;for(let it=0;it<se;it++)f.lineTo(N+m((it+1)*Ge/se),$+m(it*yt/(se-1))),it!=se-1&&f.lineTo(N+m((it+1)*Ge/se),$+m((it+1)*yt/(se-1)));f.lineTo(V,U)}else f.moveTo(N,$),f.lineTo(I,j),f.lineTo(V,U);f.clip(),f.transform(G[0],G[2],G[1],G[3],I,j),f.translate(v[0]-K,v[3]-oe);let Z;if(_)Z=_.canvas,f.scale(b,-b);else{const se=l[0],Ge=se.extent;Z=se.image,f.scale(tt(Ge)/Z.width,-on(Ge)/Z.height)}f.drawImage(Z,0,0),f.restore()}),_&&(od(_),Ka.push(_.canvas)),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,o.getTriangles().forEach(function(x,C,E){const M=x.target,w=(M[0][0]-S[0])/r,A=-(M[0][1]-S[1])/r,P=(M[1][0]-S[0])/r,T=-(M[1][1]-S[1])/r,F=(M[2][0]-S[0])/r,O=-(M[2][1]-S[1])/r;f.beginPath(),f.moveTo(P,T),f.lineTo(w,A),f.lineTo(F,O),f.closePath(),f.stroke()}),f.restore()),f.canvas}class Sg extends EC{constructor(e,n,i,s,r,a,o,l,u,c,h,d){super(r,Se.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=a||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=s.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const v=f?ul(g,f):g;if(lg(v)===0){this.state=Se.EMPTY;return}const _=e.getExtent();_&&(m?m=ul(m,_):m=_);const p=s.getResolution(this.wrappedTileCoord_[0]),b=m6(e,i,v,p);if(!isFinite(b)||b<=0){this.state=Se.EMPTY;return}const S=c!==void 0?c:h6;if(this.triangulation_=new f6(e,i,v,m,b*S,p),this.triangulation_.getTriangles().length===0){this.state=Se.EMPTY;return}this.sourceZ_=n.getZForResolution(b);let x=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(x[1]=At(x[1],m[1],m[3]),x[3]=At(x[3],m[1],m[3])):x=ul(x,m)),!lg(x))this.state=Se.EMPTY;else{let C=0,E=0;e.canWrapX()&&(C=tt(_),E=Math.floor((x[0]-_[0])/C)),MS(x.slice(),e,!0).forEach(w=>{const A=n.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let P=A.minX;P<=A.maxX;P++)for(let T=A.minY;T<=A.maxY;T++){const F=u(this.sourceZ_,P,T,o);if(F){const O=E*C;this.sourceTiles_.push({tile:F,offset:O})}}++E}),this.sourceTiles_.length===0&&(this.state=Se.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var s;const i=n.tile;if(i&&i.getState()==Se.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const a=(s=this.clipExtent_)==null?void 0:s.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),e.push({extent:r,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Se.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],r=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=v6(s,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Se.LOADED}this.changed()}load(){if(this.state==Se.IDLE){this.state=Se.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Se.IDLE||i==Se.LOADING){e++;const s=Xe(n,Ne.CHANGE,function(r){const a=n.getState();(a==Se.LOADED||a==Se.ERROR||a==Se.EMPTY)&&(_t(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==Se.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(_t),this.sourcesListenerKeys_=null}release(){this.canvas_&&(od(this.canvas_.getContext("2d")),Ka.push(this.canvas_),this.canvas_=null),super.release()}}class Sv{constructor(e,n,i,s){this.minX=e,this.maxX=n,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Sa(t,e,n,i,s){return s!==void 0?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=i,s):new Sv(t,e,n,i)}class y6 extends CC{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=hi(),this.tmpTileRange_=new Sv(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),i=e.getState(),s=n.getUseInterimTilesOnError();return i==Se.LOADED||i==Se.EMPTY||i==Se.ERROR&&!s}getTile(e,n,i,s){const r=s.pixelRatio,a=s.viewState.projection,o=this.getLayer();let u=o.getSource().getTile(e,n,i,r,a);return u.getState()==Se.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=Kt(n.pixelToCoordinateTransform,e.slice()),r=i.getExtent();if(r&&!co(r,s))return null;const a=n.pixelRatio,o=n.viewState.projection,l=n.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(l.projection),h=u.getTilePixelRatio(n.pixelRatio);for(let d=c.getZForResolution(l.resolution);d>=c.getMinZoom();--d){const g=c.getTileCoordForCoordAndZ(s,d),f=u.getTile(d,g[1],g[2],a,o);if(!(f instanceof MC||f instanceof Sg)||f instanceof Sg&&f.getState()===Se.EMPTY)return null;if(f.getState()!==Se.LOADED)continue;const m=c.getOrigin(d),v=Xn(c.getTileSize(d)),_=c.getResolution(d),p=Math.floor(h*((s[0]-m[0])/_-g[1]*v[0])),b=Math.floor(h*((m[1]-s[1])/_-g[2]*v[1])),S=Math.round(h*u.getGutterForProjection(l.projection));return this.getImageData(f.getImage(),p+S,b+S)}return null}loadedTileCallback(e,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,n,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex],s=e.viewState,r=s.projection,a=s.resolution,o=s.center,l=s.rotation,u=e.pixelRatio,c=this.getLayer(),h=c.getSource(),d=h.getRevision(),g=h.getTileGridForProjection(r),f=g.getZForResolution(a,h.zDirection),m=g.getResolution(f);let v=e.extent;const _=e.viewState.resolution,p=h.getTilePixelRatio(u);this.prepareContainer(e,n);const b=this.context.canvas.width,S=this.context.canvas.height,x=i.extent&&Gr(i.extent);x&&(v=ul(v,Gr(i.extent)));const C=m*b/2/p,E=m*S/2/p,M=[o[0]-C,o[1]-E,o[0]+C,o[1]+E],w=g.getTileRangeForExtentAndZ(v,f),A={};A[f]={};const P=this.createLoadedTileFinder(h,r,A),T=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;const O=l?cg(s.center,_,l,e.size):void 0;for(let U=w.minX;U<=w.maxX;++U)for(let K=w.minY;K<=w.maxY;++K){if(l&&!g.tileCoordIntersectsViewport([f,U,K],O))continue;const oe=this.getTile(f,U,K,e);if(this.isDrawableTile(oe)){const Z=ot(this);if(oe.getState()==Se.LOADED){A[f][oe.tileCoord.toString()]=oe;let se=oe.inTransition(Z);se&&i.opacity!==1&&(oe.endTransition(Z),se=!1),!this.newTiles_&&(se||!this.renderedTiles.includes(oe))&&(this.newTiles_=!0)}if(oe.getAlpha(Z,e.time)===1)continue}const Y=g.getTileCoordChildTileRange(oe.tileCoord,F,T);let G=!1;Y&&(G=P(f+1,Y)),G||g.forEachTileCoordParentTileRange(oe.tileCoord,P,F,T)}const k=m/a*u/p,I=this.getRenderContext(e);Ps(this.tempTransform,b/2,S/2,k,k,0,-b/2,-S/2),x&&this.clipUnrotated(I,e,x),h.getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,e),this.renderedTiles.length=0;let j=Object.keys(A).map(Number);j.sort(ws);let N,$,V;i.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?j=j.reverse():(N=[],$=[]);for(let U=j.length-1;U>=0;--U){const K=j[U],oe=h.getTilePixelSize(K,u,r),G=g.getResolution(K)/m,Z=oe[0]*G*k,se=oe[1]*G*k,Ge=g.getTileCoordForCoordAndZ(ha(M),K),yt=g.getTileCoordExtent(Ge),it=Kt(this.tempTransform,[p*(yt[0]-M[0])/m,p*(M[3]-yt[3])/m]),Bn=p*h.getGutterForProjection(r),$n=A[K];for(const L in $n){const D=$n[L],z=D.tileCoord,q=Ge[1]-z[1],Q=Math.round(it[0]-(q-1)*Z),re=Ge[2]-z[2],ue=Math.round(it[1]-(re-1)*se),te=Math.round(it[0]-q*Z),ne=Math.round(it[1]-re*se),ee=Q-te,fe=ue-ne,pe=f===K,ye=pe&&D.getAlpha(ot(this),e.time)!==1;let Ce=!1;if(!ye)if(N){V=[te,ne,te+ee,ne,te+ee,ne+fe,te,ne+fe];for(let ke=0,Qe=N.length;ke<Qe;++ke)if(f!==K&&K<$[ke]){const Te=N[ke];Rn([te,ne,te+ee,ne+fe],[Te[0],Te[3],Te[4],Te[7]])&&(Ce||(I.save(),Ce=!0),I.beginPath(),I.moveTo(V[0],V[1]),I.lineTo(V[2],V[3]),I.lineTo(V[4],V[5]),I.lineTo(V[6],V[7]),I.moveTo(Te[6],Te[7]),I.lineTo(Te[4],Te[5]),I.lineTo(Te[2],Te[3]),I.lineTo(Te[0],Te[1]),I.clip())}N.push(V),$.push(K)}else I.clearRect(te,ne,ee,fe);this.drawTileImage(D,e,te,ne,ee,fe,Bn,pe),N&&!ye?(Ce&&I.restore(),this.renderedTiles.unshift(D)):this.renderedTiles.push(D),this.updateUsedTiles(e.usedTiles,h,D)}}return this.renderedRevision=d,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!Fl(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=u,this.renderedProjection=r,this.manageTilePyramid(e,h,g,u,r,v,f,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(this.context,e),i.extent&&I.restore(),I.imageSmoothingEnabled=!0,this.container}drawTileImage(e,n,i,s,r,a,o,l){const u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=ot(this),d=n.layerStatesArray[n.layerIndex],g=d.opacity*(l?e.getAlpha(h,n.time):1),f=g!==c.globalAlpha;f&&(c.save(),c.globalAlpha=g),c.drawImage(u,o,o,u.width-2*o,u.height-2*o,i,s,r,a),f&&c.restore(),g!==d.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const i=(function(s,r,a){const o=ot(s);o in a.usedTiles&&s.expireCache(a.viewState.projection,a.usedTiles[o])}).bind(null,n);e.postRenderFunctions.push(i)}}updateUsedTiles(e,n,i){const s=ot(n);s in e||(e[s]={}),e[s][i.getKey()]=!0}manageTilePyramid(e,n,i,s,r,a,o,l,u){const c=ot(n);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],d=e.tileQueue,g=i.getMinZoom(),f=e.viewState.rotation,m=f?cg(e.viewState.center,e.viewState.resolution,f,e.size):void 0;let v=0,_,p,b,S,x,C;for(C=g;C<=o;++C)for(p=i.getTileRangeForExtentAndZ(a,C,p),b=i.getResolution(C),S=p.minX;S<=p.maxX;++S)for(x=p.minY;x<=p.maxY;++x)f&&!i.tileCoordIntersectsViewport([C,S,x],m)||(o-C<=l?(++v,_=n.getTile(C,S,x,s,r),_.getState()==Se.IDLE&&(h[_.getKey()]=!0,d.isKeyQueued(_.getKey())||d.enqueue([_,c,i.getTileCoordCenter(_.tileCoord),b])),u!==void 0&&u(_)):n.useTile(C,S,x,r));n.updateCacheSize(v,r)}}class _6 extends o6{constructor(e){super(e)}createRenderer(){return new y6(this)}}const we={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ju=[we.FILL],rr=[we.STROKE],Wr=[we.BEGIN_PATH],ip=[we.CLOSE_PATH];class TC{drawCustom(e,n,i,s,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class wu extends TC{constructor(e,n,i,s){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=s,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,r=this.coordinates;let a=r.length;for(let o=0,l=e.length;o<l;o+=n)s[0]=e[o],s[1]=e[o+1],co(i,s)&&(r[a++]=s[0],r[a++]=s[1]);return a}appendFlatLineCoordinates(e,n,i,s,r,a){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();a&&(n+=s);let c=e[n],h=e[n+1];const d=this.tmpCoordinate_;let g=!0,f,m,v;for(f=n+s;f<i;f+=s)d[0]=e[f],d[1]=e[f+1],v=og(u,d),v!==m?(g&&(o[l++]=c,o[l++]=h,g=!1),o[l++]=d[0],o[l++]=d[1]):v===Ut.INTERSECTING?(o[l++]=d[0],o[l++]=d[1],g=!1):g=!0,c=d[0],h=d[1],m=v;return(r&&g||f===n+s)&&(o[l++]=c,o[l++]=h),l}drawCustomCoordinates_(e,n,i,s,r){for(let a=0,o=i.length;a<o;++a){const l=i[a],u=this.appendFlatLineCoordinates(e,n,l,s,!1,!1);r.push(u),n=l}return n}drawCustom(e,n,i,s,r){this.beginGeometry(e,n,r);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,c,h,d,g;switch(a){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),d=[];const f=e.getEndss();g=0;for(let m=0,v=f.length;m<v;++m){const _=[];g=this.drawCustomCoordinates_(u,g,f[m],o,_),d.push(_)}this.instructions.push([we.CUSTOM,l,d,e,i,gg,r]),this.hitDetectionInstructions.push([we.CUSTOM,l,d,e,s||i,gg,r]);break;case"Polygon":case"MultiLineString":h=[],u=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(u,0,e.getEnds(),o,h),this.instructions.push([we.CUSTOM,l,h,e,i,Dl,r]),this.hitDetectionInstructions.push([we.CUSTOM,l,h,e,s||i,Dl,r]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([we.CUSTOM,l,c,e,i,ir,r]),this.hitDetectionInstructions.push([we.CUSTOM,l,c,e,s||i,ir,r]);break;case"MultiPoint":u=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(u,o),c>l&&(this.instructions.push([we.CUSTOM,l,c,e,i,ir,r]),this.hitDetectionInstructions.push([we.CUSTOM,l,c,e,s||i,ir,r]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),c=this.coordinates.length,this.instructions.push([we.CUSTOM,l,c,e,i,void 0,r]),this.hitDetectionInstructions.push([we.CUSTOM,l,c,e,s||i,void 0,r]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[we.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[we.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let s,r,a=-1;for(n=0;n<i;++n)s=e[n],r=s[0],r==we.END_GEOMETRY?a=n:r==we.BEGIN_GEOMETRY&&(s[2]=n,X3(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const s=e.getColor();i.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,i.fillStyle=Yi(s||Mn)}else i.fillStyle=void 0;if(n){const s=n.getColor();i.strokeStyle=Yi(s||Gl);const r=n.getLineCap();i.lineCap=r!==void 0?r:go;const a=n.getLineDash();i.lineDash=a?a.slice():Ss;const o=n.getLineDashOffset();i.lineDashOffset=o||Cs;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:mo;const u=n.getWidth();i.lineWidth=u!==void 0?u:zl;const c=n.getMiterLimit();i.miterLimit=c!==void 0?c:$l,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[we.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[we.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,s=e.lineCap,r=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=s||r!=e.currentLineDash&&!Tr(e.currentLineDash,r)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=s,e.currentLineDash=r,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[we.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=bS(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ym(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class p6 extends wu{constructor(e,n,i,s){super(e,n,i,s),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!co(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,r);this.instructions.push([we.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([we.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const s=e.getFlatCoordinates(),r=[];for(let l=0,u=s.length;l<u;l+=e.getStride())(!this.maxExtent||co(this.maxExtent,s.slice(l,l+2)))&&r.push(s[l],s[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(r,2);this.instructions.push([we.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([we.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),s=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class b6 extends wu{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinates_(e,n,i,s){const r=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,i,s,!1,!1),o=[we.MOVE_TO_LINE_TO,r,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(e,n,i){const s=this.state,r=s.strokeStyle,a=s.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([we.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ss,Cs],Wr);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(rr),this.endGeometry(n)}drawMultiLineString(e,n,i){const s=this.state,r=s.strokeStyle,a=s.lineWidth;if(r===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([we.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ss,Cs],Wr);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,d=o.length;h<d;++h)c=this.drawFlatCoordinates_(l,c,o[h],u);this.hitDetectionInstructions.push(rr),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(rr),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(rr),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Wr)}}class sp extends wu{constructor(e,n,i,s){super(e,n,i,s)}drawFlatCoordinatess_(e,n,i,s){const r=this.state,a=r.fillStyle!==void 0,o=r.strokeStyle!==void 0,l=i.length;this.instructions.push(Wr),this.hitDetectionInstructions.push(Wr);for(let u=0;u<l;++u){const c=i[u],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,c,s,!0,!o),g=[we.MOVE_TO_LINE_TO,h,d];this.instructions.push(g),this.hitDetectionInstructions.push(g),o&&(this.instructions.push(ip),this.hitDetectionInstructions.push(ip)),n=c}return a&&(this.instructions.push(Ju),this.hitDetectionInstructions.push(Ju)),o&&(this.instructions.push(rr),this.hitDetectionInstructions.push(rr)),n}drawCircle(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_FILL_STYLE,Mn]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ss,Cs]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const c=[we.CIRCLE,u];this.instructions.push(Wr,c),this.hitDetectionInstructions.push(Wr,c),s.fillStyle!==void 0&&(this.instructions.push(Ju),this.hitDetectionInstructions.push(Ju)),s.strokeStyle!==void 0&&(this.instructions.push(rr),this.hitDetectionInstructions.push(rr)),this.endGeometry(n)}drawPolygon(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_FILL_STYLE,Mn]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ss,Cs]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n,i){const s=this.state,r=s.fillStyle,a=s.strokeStyle;if(r===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),s.fillStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_FILL_STYLE,Mn]),s.strokeStyle!==void 0&&this.hitDetectionInstructions.push([we.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,Ss,Cs]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,d=o.length;h<d;++h)c=this.drawFlatCoordinatess_(l,c,o[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,s=n.length;i<s;++i)n[i]=Nr(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function x6(t,e,n,i,s){const r=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+s<i;){const[u,c]=l.slice(-2),h=e[a+s],d=e[a+s+1],g=Math.sqrt((h-u)*(h-u)+(d-c)*(d-c));if(o+=g,o>=t){const f=(t-o+g)/g,m=Wn(u,h,f),v=Wn(c,d,f);l.push(m,v),r.push(l),l=[m,v],o==t&&(a+=s),o=0}else if(o<t)l.push(e[a+s],e[a+s+1]),a+=s;else{const f=g-o,m=Wn(u,h,f/g),v=Wn(c,d,f/g);l.push(m,v),r.push(l),l=[m,v],o=0,a+=s}}return o>0&&r.push(l),r}function w6(t,e,n,i,s){let r=n,a=n,o=0,l=0,u=n,c,h,d,g,f,m,v,_,p,b;for(h=n;h<i;h+=s){const S=e[h],x=e[h+1];f!==void 0&&(p=S-f,b=x-m,g=Math.sqrt(p*p+b*b),v!==void 0&&(l+=d,c=Math.acos((v*p+_*b)/(d*g)),c>t&&(l>o&&(o=l,r=u,a=h),l=0,u=h-s)),d=g,v=p,_=b),f=S,m=x}return l+=g,l>o?[u,h]:[r,a]}const oh={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class S6 extends wu{constructor(e,n,i,s){super(e,n,i,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Mn]={fillStyle:Mn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const s=this.textFillState_,r=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!s&&!r)return;const o=this.coordinates;let l=o.length;const u=e.getType();let c=null,h=e.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!Rn(this.maxExtent,e.getExtent()))return;let d;if(c=e.getFlatCoordinates(),u=="LineString")d=[c.length];else if(u=="MultiLineString")d=e.getEnds();else if(u=="Polygon")d=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const v=e.getEndss();d=[];for(let _=0,p=v.length;_<p;++_)d.push(v[_][0])}this.beginGeometry(e,n,i);const g=a.repeat,f=g?void 0:a.textAlign;let m=0;for(let v=0,_=d.length;v<_;++v){let p;g?p=x6(g*this.resolution,c,m,d[v],h):p=[c.slice(m,d[v])];for(let b=0,S=p.length;b<S;++b){const x=p[b];let C=0,E=x.length;if(f==null){const w=w6(a.maxAngle,x,0,x.length,2);C=w[0],E=w[1]}for(let w=C;w<E;w+=h)o.push(x[w],x[w+1]);const M=o.length;m=d[v],this.drawChars_(l,M),l=M}}this.endGeometry(n)}else{let d=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),h=2;break;case"Polygon":c=e.getFlatInteriorPoint(),a.overflow||d.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const p=e.getFlatInteriorPoints();c=[];for(let b=0,S=p.length;b<S;b+=3)a.overflow||d.push(p[b+2]/this.resolution),c.push(p[b],p[b+1]);if(c.length===0)return;h=2;break}const g=this.appendFlatPointCoordinates(c,h);if(g===l)return;if(d&&(g-l)/2!==c.length/h){let p=l/2;d=d.filter((b,S)=>{const x=o[(p+S)*2]===c[S*h]&&o[(p+S)*2+1]===c[S*h+1];return x||--p,x})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,i);let f=a.padding;if(f!=zr&&(a.scale[0]<0||a.scale[1]<0)){let p=a.padding[0],b=a.padding[1],S=a.padding[2],x=a.padding[3];a.scale[0]<0&&(b=-b,x=-x),a.scale[1]<0&&(p=-p,S=-S),f=[p,b,S,x]}const m=this.pixelRatio;this.instructions.push([we.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,f==zr?zr:f.map(function(p){return p*m}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]);const v=1/m,_=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=Mn,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([we.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterMode_,this.declutterImageWithText_,f,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Mn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),a.backgroundFill&&(this.state.fillStyle=_,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:n.font,textAlign:n.textAlign||Ul,justify:n.justify,textBaseline:n.textBaseline||nh,scale:n.scale});const a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,s=this.textState_,r=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=oh[s.textBaseline],c=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([we.DRAW_CHARS,e,n,u,s.overflow,o,s.maxAngle,l,c,r,d*l,h,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([we.DRAW_CHARS,e,n,u,s.overflow,o&&Mn,s.maxAngle,l,c,r,d*l,h,a,1/l,this.declutterMode_])}setTextStyle(e,n){let i,s,r;if(!e)this.text_="";else{const a=e.getFill();a?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=Yi(a.getColor()||Mn)):(s=null,this.textFillState_=s);const o=e.getStroke();if(!o)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const f=o.getLineDash(),m=o.getLineDashOffset(),v=o.getWidth(),_=o.getMiterLimit();r.lineCap=o.getLineCap()||go,r.lineDash=f?f.slice():Ss,r.lineDashOffset=m===void 0?Cs:m,r.lineJoin=o.getLineJoin()||mo,r.lineWidth=v===void 0?zl:v,r.miterLimit=_===void 0?$l:_,r.strokeStyle=Yi(o.getColor()||Gl)}i=this.textState_;const l=e.getFont()||sC;k5(l);const u=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||nh,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||zr,i.scale=u===void 0?[1,1]:u;const c=e.getOffsetX(),h=e.getOffsetY(),d=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=d===void 0?!1:d,this.textRotation_=g===void 0?0:g,this.strokeKey_=r?(typeof r.strokeStyle=="string"?r.strokeStyle:ot(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=s&&s.fillStyle?typeof s.fillStyle=="string"?s.fillStyle:"|"+ot(s.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const C6={Circle:sp,Default:wu,Image:p6,LineString:b6,Polygon:sp,Text:S6};class E6{constructor(e,n,i,s){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=s,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const s in i){const r=i[s].finish();e[n][s]=r}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let s=this.buildersByZIndex_[i];s===void 0&&(s={},this.buildersByZIndex_[i]=s);let r=s[n];if(r===void 0){const a=C6[n];r=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),s[n]=r}return r}}function M6(t,e,n,i,s,r,a,o,l,u,c,h){let d=t[e],g=t[e+1],f=0,m=0,v=0,_=0;function p(){f=d,m=g,e+=i,d=t[e],g=t[e+1],_+=v,v=Math.sqrt((d-f)*(d-f)+(g-m)*(g-m))}do p();while(e<n-i&&_+v<r);let b=v===0?0:(r-_)/v;const S=Wn(f,d,b),x=Wn(m,g,b),C=e-i,E=_,M=r+o*l(u,s,c);for(;e<n-i&&_+v<M;)p();b=v===0?0:(M-_)/v;const w=Wn(f,d,b),A=Wn(m,g,b);let P;if(h){const I=[S,x,w,A];FS(I,0,4,2,h,I,I),P=I[0]>I[2]}else P=S>w;const T=Math.PI,F=[],O=C+i===e;e=C,v=0,_=E,d=t[e],g=t[e+1];let k;if(O){p(),k=Math.atan2(g-m,d-f),P&&(k+=k>0?-T:T);const I=(w+S)/2,j=(A+x)/2;return F[0]=[I,j,(M-r)/2,k,s],F}s=s.replace(/\n/g," ");for(let I=0,j=s.length;I<j;){p();let N=Math.atan2(g-m,d-f);if(P&&(N+=N>0?-T:T),k!==void 0){let Y=N-k;if(Y+=Y>T?-2*T:Y<-T?2*T:0,Math.abs(Y)>a)return null}k=N;const $=I;let V=0;for(;I<j;++I){const Y=P?j-I-1:I,G=o*l(u,s[Y],c);if(e+i<n&&_+v<r+V+G/2)break;V+=G}if(I===$)continue;const U=P?s.substring(j-$,j-I):s.substring($,I);b=v===0?0:(r+V/2-_)/v;const K=Wn(f,d,b),oe=Wn(m,g,b);F.push([K,oe,V/2,N,U]),r+=V}return F}function IC(t,e,n,i){let s=t[e],r=t[e+1],a=0;for(let o=e+i;o<n;o+=i){const l=t[o],u=t[o+1];a+=Math.sqrt((l-s)*(l-s)+(u-r)*(u-r)),s=l,r=u}return a}const Ca=hi(),zs=[],cs=[],hs=[],Ws=[];function rp(t){return t[3].declutterBox}const ap=new RegExp("[-----]");function cf(t,e){return e==="start"?e=ap.test(t)?"right":"left":e==="end"&&(e=ap.test(t)?"left":"right"),oh[e]}function T6(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class I6{constructor(e,n,i,s,r){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=s.instructions,this.coordinates=s.coordinates,this.coordinateCache_={},this.renderedTransform_=Ci(),this.hitDetectionInstructions=s.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=s.fillStates||{},this.strokeStates=s.strokeStates||{},this.textStates=s.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new SC:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,s){const r=e+n+i+s;if(this.labels_[r])return this.labels_[r];const a=s?this.strokeStates[s]:null,o=i?this.fillStates[i]:null,l=this.textStates[n],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],h=Array.isArray(e),d=l.justify?oh[l.justify]:cf(Array.isArray(e)?e[0]:e,l.textAlign||Ul),g=s&&a.lineWidth?a.lineWidth:0,f=h?e:e.split(`
`).reduce(T6,[]),{width:m,height:v,widths:_,heights:p,lineWidths:b}=L5(l,f),S=m+g,x=[],C=(S+2)*c[0],E=(v+g)*c[1],M={width:C<0?Math.floor(C):Math.ceil(C),height:E<0?Math.floor(E):Math.ceil(E),contextInstructions:x};(c[0]!=1||c[1]!=1)&&x.push("scale",c),s&&(x.push("strokeStyle",a.strokeStyle),x.push("lineWidth",g),x.push("lineCap",a.lineCap),x.push("lineJoin",a.lineJoin),x.push("miterLimit",a.miterLimit),x.push("setLineDash",[a.lineDash]),x.push("lineDashOffset",a.lineDashOffset)),i&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const w=.5-d;let A=d*S+w*g;const P=[],T=[];let F=0,O=0,k=0,I=0,j;for(let N=0,$=f.length;N<$;N+=2){const V=f[N];if(V===`
`){O+=F,F=0,A=d*S+w*g,++I;continue}const U=f[N+1]||l.font;U!==j&&(s&&P.push("font",U),i&&T.push("font",U),j=U),F=Math.max(F,p[k]);const K=[V,A+w*_[k]+d*(_[k]-b[I]),.5*(g+F)+O];A+=_[k],s&&P.push("strokeText",K),i&&T.push("fillText",K),++k}return Array.prototype.push.apply(x,P),Array.prototype.push.apply(x,T),this.labels_[r]=M,M}replayTextBackground_(e,n,i,s,r,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,r),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,s,r,a,o,l,u,c,h,d,g,f,m,v){o*=d[0],l*=d[1];let _=i-o,p=s-l;const b=r+u>e?e-u:r,S=a+c>n?n-c:a,x=f[3]+b*d[0]+f[1],C=f[0]+S*d[1]+f[2],E=_-f[3],M=p-f[0];(m||h!==0)&&(zs[0]=E,Ws[0]=E,zs[1]=M,cs[1]=M,cs[0]=E+x,hs[0]=cs[0],hs[1]=M+C,Ws[1]=hs[1]);let w;return h!==0?(w=Ps(Ci(),i,s,1,1,h,-i,-s),Kt(w,zs),Kt(w,cs),Kt(w,hs),Kt(w,Ws),As(Math.min(zs[0],cs[0],hs[0],Ws[0]),Math.min(zs[1],cs[1],hs[1],Ws[1]),Math.max(zs[0],cs[0],hs[0],Ws[0]),Math.max(zs[1],cs[1],hs[1],Ws[1]),Ca)):As(Math.min(E,E+x),Math.min(M,M+C),Math.max(E,E+x),Math.max(M,M+C),Ca),g&&(_=Math.round(_),p=Math.round(p)),{drawImageX:_,drawImageY:p,drawImageW:b,drawImageH:S,originX:u,originY:c,declutterBox:{minX:Ca[0],minY:Ca[1],maxX:Ca[2],maxY:Ca[3],value:v},canvasTransform:w,scale:d}}replayImageOrLabel_(e,n,i,s,r,a,o){const l=!!(a||o),u=s.declutterBox,c=o?o[2]*s.scale[0]/2:0;return u.minX-c<=n[0]&&u.maxX+c>=0&&u.minY-c<=n[1]&&u.maxY+c>=0&&(l&&this.replayTextBackground_(e,zs,cs,hs,Ws,a,o),F5(e,s.canvasTransform,r,i,s.originX,s.originY,s.drawImageW,s.drawImageH,s.drawImageX,s.drawImageY,s.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=Kt(this.renderedTransform_,[0,0]),s=512*this.pixelRatio;e.save(),e.translate(i[0]%s,i[1]%s),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,s){const r=this.textStates[n],a=this.createLabel(e,n,s,i),o=this.strokeStates[i],l=this.pixelRatio,u=cf(Array.isArray(e)?e[0]:e,r.textAlign||Ul),c=oh[r.textBaseline||nh],h=o&&o.lineWidth?o.lineWidth:0,d=a.width/l-2*r.scale[0],g=u*d+2*(.5-u)*h,f=c*a.height/l+2*(.5-c)*h;return{label:a,anchorX:g,anchorY:f}}execute_(e,n,i,s,r,a,o,l){const u=this.zIndexContext_;let c;this.pixelCoordinates_&&Tr(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=dr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),OV(this.renderedTransform_,i));let h=0;const d=s.length;let g=0,f,m,v,_,p,b,S,x,C,E,M,w,A,P=0,T=0,F=null,O=null;const k=this.coordinateCache_,I=this.viewRotation_,j=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,N={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:I},$=this.instructions!=s||this.overlaps?0:200;let V,U,K,oe;for(;h<d;){const Y=s[h];switch(Y[0]){case we.BEGIN_GEOMETRY:V=Y[1],oe=Y[3],V.getGeometry()?o!==void 0&&!Rn(o,oe.getExtent())?h=Y[2]+1:++h:h=Y[2],u&&(u.zIndex=Y[4]);break;case we.BEGIN_PATH:P>$&&(this.fill_(e),P=0),T>$&&(e.stroke(),T=0),!P&&!T&&(e.beginPath(),p=NaN,b=NaN),++h;break;case we.CIRCLE:g=Y[1];const Z=c[g],se=c[g+1],Ge=c[g+2],yt=c[g+3],it=Ge-Z,Bn=yt-se,$n=Math.sqrt(it*it+Bn*Bn);e.moveTo(Z+$n,se),e.arc(Z,se,$n,0,2*Math.PI,!0),++h;break;case we.CLOSE_PATH:e.closePath(),++h;break;case we.CUSTOM:g=Y[1],f=Y[2];const L=Y[3],D=Y[4],z=Y[5];N.geometry=L,N.feature=V,h in k||(k[h]=[]);const q=k[h];z?z(c,g,f,2,q):(q[0]=c[g],q[1]=c[g+1],q.length=2),u&&(u.zIndex=Y[6]),D(q,N),++h;break;case we.DRAW_IMAGE:g=Y[1],f=Y[2],C=Y[3],m=Y[4],v=Y[5];let Q=Y[6];const re=Y[7],ue=Y[8],te=Y[9],ne=Y[10];let ee=Y[11];const fe=Y[12];let pe=Y[13];_=Y[14]||"declutter";const ye=Y[15];if(!C&&Y.length>=20){E=Y[19],M=Y[20],w=Y[21],A=Y[22];const qn=this.drawLabelWithPointPlacement_(E,M,w,A);C=qn.label,Y[3]=C;const Rr=Y[23];m=(qn.anchorX-Rr)*this.pixelRatio,Y[4]=m;const Zn=Y[24];v=(qn.anchorY-Zn)*this.pixelRatio,Y[5]=v,Q=C.height,Y[6]=Q,pe=C.width,Y[13]=pe}let Ce;Y.length>25&&(Ce=Y[25]);let ke,Qe,Te;Y.length>17?(ke=Y[16],Qe=Y[17],Te=Y[18]):(ke=zr,Qe=!1,Te=!1),ne&&j?ee+=I:!ne&&!j&&(ee-=I);let Dt=0;for(;g<f;g+=2){if(Ce&&Ce[Dt++]<pe/this.pixelRatio)continue;const qn=this.calculateImageOrLabelDimensions_(C.width,C.height,c[g],c[g+1],pe,Q,m,v,ue,te,ee,fe,r,ke,Qe||Te,V),Rr=[e,n,C,qn,re,Qe?F:null,Te?O:null];if(l){let Zn,Li,Jn;if(ye){const Tt=f-g;if(!ye[Tt]){ye[Tt]={args:Rr,declutterMode:_};continue}const fn=ye[Tt];Zn=fn.args,Li=fn.declutterMode,delete ye[Tt],Jn=rp(Zn)}let as,os;if(Zn&&(Li!=="declutter"||!l.collides(Jn))&&(as=!0),(_!=="declutter"||!l.collides(qn.declutterBox))&&(os=!0),Li==="declutter"&&_==="declutter"){const Tt=as&&os;as=Tt,os=Tt}as&&(Li!=="none"&&l.insert(Jn),this.replayImageOrLabel_.apply(this,Zn)),os&&(_!=="none"&&l.insert(qn.declutterBox),this.replayImageOrLabel_.apply(this,Rr))}else this.replayImageOrLabel_.apply(this,Rr)}++h;break;case we.DRAW_CHARS:const xn=Y[1],rs=Y[2],va=Y[3],Ir=Y[4];A=Y[5];const Su=Y[6],Jt=Y[7],Gn=Y[8];w=Y[9];const ya=Y[10];E=Y[11],M=Y[12];const Pv=[Y[13],Y[13]];_=Y[14]||"declutter";const pd=this.textStates[M],Ao=pd.font,Po=[pd.scale[0]*Jt,pd.scale[1]*Jt];let ko;Ao in this.widths_?ko=this.widths_[Ao]:(ko={},this.widths_[Ao]=ko);const kv=IC(c,xn,rs,2),Ov=Math.abs(Po[0])*z_(Ao,E,ko);if(Ir||Ov<=kv){const qn=this.textStates[M].textAlign,Rr=(kv-Ov)*cf(E,qn),Zn=M6(c,xn,rs,2,E,Rr,Su,Math.abs(Po[0]),z_,Ao,ko,j?0:this.viewRotation_);e:if(Zn){const Li=[];let Jn,as,os,Tt,fn;if(w)for(Jn=0,as=Zn.length;Jn<as;++Jn){fn=Zn[Jn],os=fn[4],Tt=this.createLabel(os,M,"",w),m=fn[2]+(Po[0]<0?-ya:ya),v=va*Tt.height+(.5-va)*2*ya*Po[1]/Po[0]-Gn;const ls=this.calculateImageOrLabelDimensions_(Tt.width,Tt.height,fn[0],fn[1],Tt.width,Tt.height,m,v,0,0,fn[3],Pv,!1,zr,!1,V);if(l&&_==="declutter"&&l.collides(ls.declutterBox))break e;Li.push([e,n,Tt,ls,1,null,null])}if(A)for(Jn=0,as=Zn.length;Jn<as;++Jn){fn=Zn[Jn],os=fn[4],Tt=this.createLabel(os,M,A,""),m=fn[2],v=va*Tt.height-Gn;const ls=this.calculateImageOrLabelDimensions_(Tt.width,Tt.height,fn[0],fn[1],Tt.width,Tt.height,m,v,0,0,fn[3],Pv,!1,zr,!1,V);if(l&&_==="declutter"&&l.collides(ls.declutterBox))break e;Li.push([e,n,Tt,ls,1,null,null])}l&&_!=="none"&&l.load(Li.map(rp));for(let ls=0,YC=Li.length;ls<YC;++ls)this.replayImageOrLabel_.apply(this,Li[ls])}}++h;break;case we.END_GEOMETRY:if(a!==void 0){V=Y[1];const qn=a(V,oe,_);if(qn)return qn}++h;break;case we.FILL:$?P++:this.fill_(e),++h;break;case we.MOVE_TO_LINE_TO:for(g=Y[1],f=Y[2],U=c[g],K=c[g+1],e.moveTo(U,K),p=U+.5|0,b=K+.5|0,g+=2;g<f;g+=2)U=c[g],K=c[g+1],S=U+.5|0,x=K+.5|0,(g==f-2||S!==p||x!==b)&&(e.lineTo(U,K),p=S,b=x);++h;break;case we.SET_FILL_STYLE:F=Y,this.alignAndScaleFill_=Y[2],P&&(this.fill_(e),P=0,T&&(e.stroke(),T=0)),e.fillStyle=Y[1],++h;break;case we.SET_STROKE_STYLE:O=Y,T&&(e.stroke(),T=0),this.setStrokeStyle_(e,Y),++h;break;case we.STROKE:$?T++:e.stroke(),++h;break;default:++h;break}}P&&this.fill_(e),T&&e.stroke()}execute(e,n,i,s,r,a){this.viewRotation_=s,this.execute_(e,n,i,this.instructions,r,void 0,void 0,a)}executeHitDetection(e,n,i,s,r){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,s,r)}}const Va=["Polygon","Circle","LineString","Image","Text","Default"],RC=["Image","Text"],R6=Va.filter(t=>!RC.includes(t));class A6{constructor(e,n,i,s,r,a,o){this.maxExtent_=e,this.overlaps_=s,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Ci(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,o)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let s=this.executorsByZIndex_[i];s===void 0&&(s={},this.executorsByZIndex_[i]=s);const r=e[i];for(const a in r){const o=r[a];s[a]=new I6(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let s=0,r=e.length;s<r;++s)if(e[s]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,s,r,a){s=Math.round(s);const o=s*2+1,l=Ps(this.hitDetectionTransform_,s+.5,s+.5,1/n,-1/n,-i,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Zt(o,o,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;c.canvas.width!==o||c.canvas.height!==o?(c.canvas.width=o,c.canvas.height=o):u||c.clearRect(0,0,o,o);let h;this.renderBuffer_!==void 0&&(h=hi(),ll(h,e),Ym(h,n*(this.renderBuffer_+s),h));const d=P6(s);let g;function f(x,C,E){const M=c.getImageData(0,0,o,o).data;for(let w=0,A=d.length;w<A;w++)if(M[d[w]]>0){if(!a||E==="none"||g!=="Image"&&g!=="Text"||a.includes(x)){const P=(d[w]-3)/4,T=s-P%o,F=s-(P/o|0),O=r(x,C,T*T+F*F);if(O)return O}c.clearRect(0,0,o,o);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(ws);let v,_,p,b,S;for(v=m.length-1;v>=0;--v){const x=m[v].toString();for(p=this.executorsByZIndex_[x],_=Va.length-1;_>=0;--_)if(g=Va[_],b=p[g],b!==void 0&&(S=b.executeHitDetection(c,l,i,f,h),S))return S}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],s=n[1],r=n[2],a=n[3],o=[i,s,i,a,r,a,r,s];return dr(o,0,8,2,e,o),o}isEmpty(){return aa(this.executorsByZIndex_)}execute(e,n,i,s,r,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(ws),a=a||Va;const u=Va.length;let c,h,d,g,f;for(o&&l.reverse(),c=0,h=l.length;c<h;++c){const m=l[c].toString();for(f=this.executorsByZIndex_[m],d=0,g=a.length;d<g;++d){const v=a[d],_=f[v];if(_!==void 0){const p=o===null?void 0:_.getZIndexContext(),b=p?p.getContext():e,S=this.maxExtent_&&v!=="Image"&&v!=="Text";if(S&&(b.save(),this.clip(b,i)),!p||v==="Text"||v==="Image"?_.execute(b,n,i,s,r,o):p.pushFunction(x=>_.execute(x,n,i,s,r,o)),S&&b.restore(),p){p.offset();const x=l[c]*u+d;this.deferredZIndexContexts_[x]||(this.deferredZIndexContexts_[x]=[]),this.deferredZIndexContexts_[x].push(p)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(ws);for(let i=0,s=n.length;i<s;++i)e[n[i]].forEach(r=>{r.draw(this.renderedContext_),r.clear()}),e[n[i]].length=0}}const hf={};function P6(t){if(hf[t]!==void 0)return hf[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let r=0;r<=t;++r)for(let a=0;a<=t;++a){const o=r*r+a*a;if(o>n)break;let l=i[o];l||(l=[],i[o]=l),l.push(((t+r)*e+(t+a))*4+3),r>0&&l.push(((t-r)*e+(t+a))*4+3),a>0&&(l.push(((t+r)*e+(t-a))*4+3),r>0&&l.push(((t-r)*e+(t-a))*4+3))}const s=[];for(let r=0,a=i.length;r<a;++r)i[r]&&s.push(...i[r]);return hf[t]=s,s}class k6 extends TC{constructor(e,n,i,s,r,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=s,this.transformRotation_=s?Wm(Math.atan2(s[1],s[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ci()}drawImages_(e,n,i,s){if(!this.image_)return;const r=dr(e,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=r.length;c<h;c+=2){const d=r[c]-this.imageAnchorX_,g=r[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const f=d+this.imageAnchorX_,m=g+this.imageAnchorY_;Ps(o,f,m,1,1,u,-f,-m),a.save(),a.transform.apply(a,o),a.translate(f,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,i,s){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=dr(e,n,i,s,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<i;n+=s){const l=r[n]+this.textOffsetX_,u=r[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u))}}moveToLineTo_(e,n,i,s,r){const a=this.context_,o=dr(e,n,i,s,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;r&&(l-=2);for(let u=2;u<l;u+=2)a.lineTo(o[u],o[u+1]);return r&&a.closePath(),i}drawRings_(e,n,i,s){for(let r=0,a=i.length;r<a;++r)n=this.moveToLineTo_(e,n,i[r],s,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=VV(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],s=n[3]-n[1],r=Math.sqrt(i*i+s*s),a=this.context_;a.beginPath(),a.arc(n[0],n[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,s=n.length;i<s;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(Rn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,s=e.getFlatCoordinates();let r=0;const a=e.getEnds(),o=e.getStride();i.beginPath();for(let l=0,u=a.length;l<u;++l)r=this.moveToLineTo_(s,r,a[l],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Rn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let s=0;const r=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=r.length;o<l;++o){const u=r[o];s=this.drawRings_(i,s,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),Tr(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,s=e.textAlign?e.textAlign:Ul;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=s&&(i.textAlign=s,n.textAlign=s),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=s,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Yi(i||Mn)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),s=n.getLineCap(),r=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),c=r||Ss;this.strokeState_={lineCap:s!==void 0?s:go,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(a||Cs)*this.pixelRatio_,lineJoin:o!==void 0?o:mo,lineWidth:(l!==void 0?l:zl)*this.pixelRatio_,miterLimit:u!==void 0?u:$l,strokeStyle:Yi(i||Gl)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),s=e.getAnchor(),r=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=s[0]*i,this.imageAnchorY_=s[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:Yi(g||Mn)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),f=i.getLineCap(),m=i.getLineDash(),v=i.getLineDashOffset(),_=i.getLineJoin(),p=i.getWidth(),b=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:go,lineDash:m||Ss,lineDashOffset:v||Cs,lineJoin:_!==void 0?_:mo,lineWidth:p!==void 0?p:zl,miterLimit:b!==void 0?b:$l,strokeStyle:Yi(g||Gl)}}const s=e.getFont(),r=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),d=e.getTextBaseline();this.textState_={font:s!==void 0?s:sC,textAlign:h!==void 0?h:Ul,textBaseline:d!==void 0?d:nh},this.text_=c!==void 0?Array.isArray(c)?c.reduce((g,f,m)=>g+=m%2?" ":f,""):c:"",this.textOffsetX_=r!==void 0?this.pixelRatio_*r:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const Ui=.5;function O6(t,e,n,i,s,r,a,o,l){const u=s,c=t[0]*Ui,h=t[1]*Ui,d=Zt(c,h);d.imageSmoothingEnabled=!1;const g=d.canvas,f=new k6(d,Ui,s,null,a,o,null),m=n.length,v=Math.floor((256*256*256-1)/m),_={};for(let b=1;b<=m;++b){const S=n[b-1],x=S.getStyleFunction()||i;if(!x)continue;let C=x(S,r);if(!C)continue;Array.isArray(C)||(C=[C]);const M=(b*v).toString(16).padStart(7,"#00000");for(let w=0,A=C.length;w<A;++w){const P=C[w],T=P.getGeometryFunction()(S);if(!T||!Rn(u,T.getExtent()))continue;const F=P.clone(),O=F.getFill();O&&O.setColor(M);const k=F.getStroke();k&&(k.setColor(M),k.setLineDash(null)),F.setText(void 0);const I=P.getImage();if(I){const V=I.getImageSize();if(!V)continue;const U=Zt(V[0],V[1],void 0,{alpha:!1}),K=U.canvas;U.fillStyle=M,U.fillRect(0,0,K.width,K.height),F.setImage(new vo({img:K,anchor:I.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:I.getOrigin(),opacity:1,size:I.getSize(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}const j=F.getZIndex()||0;let N=_[j];N||(N={},_[j]=N,N.Polygon=[],N.Circle=[],N.LineString=[],N.Point=[]);const $=T.getType();if($==="GeometryCollection"){const V=T.getGeometriesArrayRecursive();for(let U=0,K=V.length;U<K;++U){const oe=V[U];N[oe.getType().replace("Multi","")].push(oe,F)}}else N[$.replace("Multi","")].push(T,F)}}const p=Object.keys(_).map(Number).sort(ws);for(let b=0,S=p.length;b<S;++b){const x=_[p[b]];for(const C in x){const E=x[C];for(let M=0,w=E.length;M<w;M+=2){f.setStyle(E[M+1]);for(let A=0,P=e.length;A<P;++A)f.setTransform(e[A]),f.drawGeometry(E[M])}}}return d.getImageData(0,0,g.width,g.height)}function L6(t,e,n){const i=[];if(n){const s=Math.floor(Math.round(t[0])*Ui),r=Math.floor(Math.round(t[1])*Ui),a=(At(s,0,n.width-1)+At(r,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*o),h=Math.floor((256*256*256-1)/e.length);c&&c%h===0&&i.push(e[c/h-1])}return i}const F6=.5,AC={Point:z6,LineString:$6,Polygon:j6,MultiPoint:W6,MultiLineString:G6,MultiPolygon:U6,GeometryCollection:B6,Circle:N6};function D6(t,e){return parseInt(ot(t),10)-parseInt(ot(e),10)}function op(t,e){const n=PC(t,e);return n*n}function PC(t,e){return F6*t/e}function N6(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(r,a),l.drawCircle(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i)}}function lp(t,e,n,i,s,r,a,o){const l=[],u=n.getImage();if(u){let d=!0;const g=u.getImageState();g==je.LOADED||g==je.ERROR?d=!1:g==je.IDLE&&u.load(),d&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>s(null)),V6(t,e,n,i,r,a,o),h}function V6(t,e,n,i,s,r,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(i,s);if(n.getRenderer())kC(t,l,n,e,a);else{const c=AC[l.getType()];c(t,l,n,e,a,r)}}function kC(t,e,n,i,s){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)kC(t,a[o],n,i,s);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),s)}function B6(t,e,n,i,s,r){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const u=AC[a[o].getType()];u(t,a[o],n,i,s,r)}}function $6(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawLineString(e,i,s)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,s)}}function G6(t,e,n,i,s){const r=n.getStroke();if(r){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i,s)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,s)}}function U6(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(a||r){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawMultiPolygon(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,s)}}function z6(t,e,n,i,s,r){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),u=r&&a&&l?{}:void 0;if(a){if(a.getImageState()!=je.LOADED)return;const c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,u),c.drawPoint(e,i,s)}if(l){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(o,u),c.drawText(e,i,s)}}function W6(t,e,n,i,s,r){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),c=r&&o&&u?{}:void 0;if(o){if(a.getImageState()!=je.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,c),h.drawMultiPoint(e,i,s)}if(u){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,c),h.drawText(e,i,s)}}function j6(t,e,n,i,s){const r=n.getFill(),a=n.getStroke();if(r||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(r,a),l.drawPolygon(e,i,s)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,s)}}class H6 extends CC{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=hi(),this.wrappedRenderedExtent_=hi(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const s=n.extent,r=n.viewState,a=r.center,o=r.resolution,l=r.projection,u=r.rotation,c=l.getExtent(),h=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),g=n.pixelRatio,f=n.viewHints,m=!(f[sn.ANIMATING]||f[sn.INTERACTING]),v=this.context,_=Math.round(tt(s)/o*g),p=Math.round(on(s)/o*g),b=h.getWrapX()&&l.canWrapX(),S=b?tt(c):null,x=b?Math.ceil((s[2]-c[2])/S)+1:1;let C=b?Math.floor((s[0]-c[0])/S):0;do{let E=this.getRenderTransform(a,o,0,g,_,p,C*S);n.declutter&&(E=E.slice(0)),e.execute(v,[v.canvas.width,v.canvas.height],E,u,m,i===void 0?Va:i?RC:R6,i?d&&n.declutter[d]:void 0)}while(++C<x)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Zt(this.context.canvas.width,this.context.canvas.height,Q_))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,od(this.context),Q_.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const s=e.viewState;this.prepareContainer(e,n);const r=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(oi.PRERENDER)||this.getLayer().hasListener(oi.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(r,e),s.projection,this.clipped_=!1,o&&i.extent&&this.clipping){const l=Gr(i.extent);o=Rn(l,e.extent),this.clipped_=o&&!nr(l,e.extent),this.clipped_&&this.clipUnrotated(r,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),s=this.renderedCenter_,r=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*Ui,d=i[1]*Ui;c.push(this.getRenderTransform(s,r,a,Ui,h,d,0).slice());const g=u.getSource(),f=o.getExtent();if(g.getWrapX()&&o.canWrapX()&&!nr(f,l)){let m=l[0];const v=tt(f);let _=0,p;for(;m<f[0];)--_,p=v*_,c.push(this.getRenderTransform(s,r,a,Ui,h,d,p).slice()),m+=v;for(_=0,m=l[2];m>f[2];)++_,p=v*_,c.push(this.getRenderTransform(s,r,a,Ui,h,d,p).slice()),m-=v}this.hitDetectionImageData_=O6(i,c,this.renderedFeatures_,u.getStyleFunction(),l,r,a,op(r,this.renderedPixelRatio_))}n(L6(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,s,r){if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),u={},c=function(f,m,v){const _=ot(f),p=u[_];if(p){if(p!==!0&&v<p.distanceSq){if(v===0)return u[_]=!0,r.splice(r.lastIndexOf(p),1),s(f,l,m);p.geometry=m,p.distanceSq=v}}else{if(v===0)return u[_]=!0,s(f,l,m);r.push(u[_]={feature:f,layer:l,geometry:m,distanceSq:v,callback:s})}};let h;const d=[this.replayGroup_],g=this.getLayer().getDeclutter();return d.some(f=>h=f.forEachFeatureAtCoordinate(e,a,o,i,c,g&&n.declutter[g]?n.declutter[g].all().map(m=>m.value):null)),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const s=e.viewHints[sn.ANIMATING],r=e.viewHints[sn.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&s||!o&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,c=u.projection,h=u.resolution,d=e.pixelRatio,g=n.getRevision(),f=n.getRenderBuffer();let m=n.getRenderOrder();m===void 0&&(m=D6);const v=u.center.slice(),_=Ym(l,f*h),p=_.slice(),b=[_.slice()],S=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!nr(S,e.extent)){const O=tt(S),k=Math.max(tt(_)/2,O);_[0]=S[0]-k,_[2]=S[2]+k,TS(v,c);const I=ES(b[0],c);I[0]<S[0]&&I[2]<S[2]?b.push([I[0]+O,I[1],I[2]+O,I[3]]):I[0]>S[0]&&I[2]>S[2]&&b.push([I[0]-O,I[1],I[2]-O,I[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==g&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&nr(this.wrappedRenderedExtent_,_))return Tr(this.renderedExtent_,p)||(this.hitDetectionImageData_=null,this.renderedExtent_=p),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const x=new E6(PC(h,d),_,h,d);let C;for(let O=0,k=b.length;O<k;++O)i.loadFeatures(b[O],h,c);const E=op(h,d);let M=!0;const w=(O,k)=>{let I;const j=O.getStyleFunction()||n.getStyleFunction();if(j&&(I=j(O,h)),I){const N=this.renderFeature(O,E,I,x,C,this.getLayer().getDeclutter(),k);M=M&&!N}},A=kS(_),P=i.getFeaturesInExtent(A);m&&P.sort(m);for(let O=0,k=P.length;O<k;++O)w(P[O],O);this.renderedFeatures_=P,this.ready=M;const T=x.finish(),F=new A6(_,h,d,i.getOverlaps(),T,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=g,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=p,this.wrappedRenderedExtent_=_,this.renderedCenter_=v,this.renderedProjection_=c,this.renderedPixelRatio_=d,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,s,r,a,o){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)l=lp(s,e,i[u],n,this.boundHandleStyleImageChange_,r,a,o)||l;else l=lp(s,e,i,n,this.boundHandleStyleImageChange_,r,a,o);return l}}class Y6 extends mC{constructor(e){super(e)}createRenderer(){return new H6(this)}}class up{constructor(e){this.rbush_=new YS(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[ot(n)]=i}load(e,n){const i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const a=e[s],o=n[s],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};i[s]=l,this.items_[ot(o)]=l}this.rbush_.load(i)}remove(e){const n=ot(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[ot(n)],s=[i.minX,i.minY,i.maxX,i.maxY];Fl(s,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(s){return s.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let s=0,r=e.length;s<r;s++)if(i=n(e[s]),i)return i;return i}isEmpty(){return aa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return As(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class lh extends DS{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(_t),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(Xe(e[n],Ne.CHANGE,this.changed,this))}clone(){const e=new lh(df(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,s){if(s<ca(this.getExtent(),e,n))return s;const r=this.geometries_;for(let a=0,o=r.length;a<o;++a)s=r[a].closestPointXY(e,n,i,s);return s}containsXY(e,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)if(i[s].containsXY(e,n))return!0;return!1}computeExtent(e){Mo(e);const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)wS(e,n[i].getExtent());return e}getGeometries(){return df(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let s=!1;for(let r=0,a=i.length;r<a;++r){const o=i[r],l=o.getSimplifiedGeometry(e);n.push(l),l!==o&&(s=!0)}return s?new lh(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)i[s].rotate(e,n);this.changed()}scale(e,n,i){i||(i=_r(this.getExtent()));const s=this.geometries_;for(let r=0,a=s.length;r<a;++r)s[r].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(df(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,s=n.length;i<s;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let s=0,r=i.length;s<r;++s)i[s].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function df(t){return t.map(e=>e.clone())}function uh(t,e,n,i,s,r,a){let o,l;const u=(n-e)/i;if(u===1)o=e;else if(u===2)o=e,l=s;else if(u!==0){let c=t[e],h=t[e+1],d=0;const g=[0];for(let v=e+i;v<n;v+=i){const _=t[v],p=t[v+1];d+=Math.sqrt((_-c)*(_-c)+(p-h)*(p-h)),g.push(d),c=_,h=p}const f=s*d,m=Y3(g,f);m<0?(l=(f-g[-m-2])/(g[-m-1]-g[-m-2]),o=e+(-m-2)*i):o=e+m*i}a=a>1?a:2,r=r||new Array(a);for(let c=0;c<a;++c)r[c]=o===void 0?NaN:l===void 0?t[o+c]:Wn(t[o+c],t[o+i+c],l);return r}function Cg(t,e,n,i,s,r){if(n==e)return null;let a;if(s<t[e+i-1])return r?(a=t.slice(e,e+i),a[i-1]=s,a):null;if(t[n-1]<s)return r?(a=t.slice(n-i,n),a[i-1]=s,a):null;if(s==t[e+i-1])return t.slice(e,e+i);let o=e/i,l=n/i;for(;o<l;){const d=o+l>>1;s<t[(d+1)*i-1]?l=d:o=d+1}const u=t[o*i-1];if(s==u)return t.slice((o-1)*i,(o-1)*i+i);const c=t[(o+1)*i-1],h=(s-u)/(c-u);a=[];for(let d=0;d<i-1;++d)a.push(Wn(t[(o-1)*i+d],t[o*i+d],h));return a.push(s),a}function X6(t,e,n,i,s,r,a){if(a)return Cg(t,e,n[n.length-1],i,s,r);let o;if(s<t[i-1])return r?(o=t.slice(0,i),o[i-1]=s,o):null;if(t[t.length-1]<s)return r?(o=t.slice(t.length-i),o[i-1]=s,o):null;for(let l=0,u=n.length;l<u;++l){const c=n[l];if(e!=c){if(s<t[e+i-1])return null;if(s<=t[c-1])return Cg(t,e,c,i,s,!1);e=c}}return null}class yo extends da{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Ki(this.flatCoordinates,e),this.changed()}clone(){const e=new yo(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<ca(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,s))}forEachSegment(e){return US(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,Cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return ir(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return uh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return IC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new yo(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return sd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nd(this.flatCoordinates,0,e,this.stride),this.changed()}}class ch extends da{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const s=e,r=[],a=[];for(let l=0,u=s.length;l<u;++l){const c=s[l];Ki(r,c.getFlatCoordinates()),a.push(r.length)}const o=s.length===0?this.getLayout():s[0].getLayout();this.setFlatCoordinates(o,r),this.ends_=a}}appendLineString(e){Ki(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ch(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<ca(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(sv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),av(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,s))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,X6(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return Dl(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new yo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,s=[];let r=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],u=new yo(e.slice(r,l),i);s.push(u),r=l}return s}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const s=this.ends_,r=this.stride;for(let a=0,o=s.length;a<o;++a){const l=s[a],u=uh(n,i,l,r,.5);Ki(e,u),i=l}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=VS(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new ch(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return YV(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=yu(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class yd extends da{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Ki(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new yd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){if(s<ca(this.getExtent(),e,n))return s;const r=this.flatCoordinates,a=this.stride;for(let o=0,l=r.length;o<l;o+=a){const u=Jr(e,n,r[o],r[o+1]);if(u<s){s=u;for(let c=0;c<a;++c)i[c]=r[o+c];i.length=a}}return s}getCoordinates(){return ir(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new fo(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,s=[];for(let r=0,a=e.length;r<a;r+=i){const o=new fo(e.slice(r,r+i),n);s.push(o)}return s}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let s=0,r=n.length;s<r;s+=i){const a=n[s],o=n[s+1];if(Xm(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nd(this.flatCoordinates,0,e,this.stride),this.changed()}}function OC(t,e,n,i){const s=[];let r=hi();for(let a=0,o=n.length;a<o;++a){const l=n[a];r=Km(t,e,l[0],i),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return s}class hh extends da{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const s=e,r=[],a=[];for(let o=0,l=s.length;o<l;++o){const u=s[o],c=r.length,h=u.getEnds();for(let d=0,g=h.length;d<g;++d)h[d]+=c;Ki(r,u.getFlatCoordinates()),a.push(h)}n=s.length===0?this.getLayout():s[0].getLayout(),e=r,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Ki(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let s=0,r=n.length;s<r;++s)n[s]+=i}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let s=0;s<e;++s)n[s]=this.endss_[s].slice();const i=new hh(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,s){return s<ca(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(BV(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$V(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return HV(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return WV(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),mg(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,gg(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=OC(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=GS(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new yd(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;jS(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=mg(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=zV(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new hh(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const r=this.endss_[e-1];n=r[r.length-1]}const i=this.endss_[e].slice(),s=i[i.length-1];if(n!==0)for(let r=0,a=i.length;r<a;++r)i[r]-=n;return new pr(this.flatCoordinates.slice(n,s),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,s=[];let r=0;for(let a=0,o=i.length;a<o;++a){const l=i[a].slice(),u=l[l.length-1];if(r!==0)for(let h=0,d=l.length;h<d;++h)l[h]-=r;const c=new pr(n.slice(r,u),e,l);s.push(c),r=u}return s}getType(){return"MultiPolygon"}intersectsExtent(e){return XV(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=NS(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const s=i[i.length-1];this.flatCoordinates.length=s.length===0?0:s[s.length-1]}this.changed()}}const cp=Ci();class Cn{constructor(e,n,i,s,r,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=r,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?xS(this.flatCoordinates_):Km(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=_r(this.getExtent());this.flatInteriorPoints_=uv(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=qV(this.flatCoordinates_,this.ends_),n=OC(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=GS(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=uh(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let s=0,r=i.length;s<r;++s){const a=i[s],o=uh(e,n,a,2,.5);Ki(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=ut(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const s=on(i)/on(n);Ps(cp,i[0],i[3],s,-s,0,0,0),dr(this.flatCoordinates_,0,this.flatCoordinates_.length,2,cp,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Cn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=vS((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let s;switch(this.type_){case"LineString":i.length=id(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),s=[i.length];break;case"MultiLineString":s=[],i.length=VS(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,s);break;case"Polygon":s=[],i.length=ov(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,s);break}return s&&(this.simplifiedGeometry_=new Cn(this.type_,i,s,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Cn.prototype.getFlatCoordinates=Cn.prototype.getOrientedFlatCoordinates;class LC extends Oi{constructor(e){super(),this.projection=ut(e.projection),this.attributions_=hp(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=hp(e),this.changed()}setState(e){this.state_=e,this.changed()}}function hp(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const ti={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function K6(t,e){return[[-1/0,-1/0,1/0,1/0]]}let q6=!1;function Z6(t,e,n,i,s,r,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,i,s):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=q6,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const u=e.getType();try{let c;u=="text"||u=="json"?c=o.responseText:u=="xml"?c=o.responseXML||o.responseText:u=="arraybuffer"&&(c=o.response),c?r(e.readFeatures(c,{extent:n,featureProjection:s}),e.readProjection(c)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function dp(t,e){return function(n,i,s,r,a){const o=this;Z6(t,e,n,i,s,function(l,u){o.addFeatures(l),r!==void 0&&r(l)},a||lo)}}class js extends Ns{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class J6 extends LC{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=lo,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Je(this.format_,"`format` must be set when `url` is set"),this.loader_=dp(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:K6;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new up:null,this.loadedExtentsRtree_=new up,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,s;Array.isArray(e.features)?s=e.features:e.features&&(i=e.features,s=i.getArray()),!n&&i===void 0&&(i=new ji(s)),s!==void 0&&this.addFeaturesInternal(s),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=ot(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const s=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new js(ti.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Cn||(this.featureChangeKeys_[e]=[Xe(n,Ne.CHANGE,this.handleFeatureChange_,this),Xe(n,oo.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const s=String(n.getId());if(!(s in this.idIndex_))this.idIndex_[s]=n;else if(n instanceof Cn){const r=this.idIndex_[s];r instanceof Cn?Array.isArray(r)?r.push(n):this.idIndex_[s]=[r,n]:i=!1}else i=!1}return i&&(Je(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],s=[];for(let r=0,a=e.length;r<a;r++){const o=e[r],l=ot(o);this.addToIndex_(l,o)&&i.push(o)}for(let r=0,a=i.length;r<a;r++){const o=i[r],l=ot(o);this.setupChangeEvents_(l,o);const u=o.getGeometry();if(u){const c=u.getExtent();n.push(c),s.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,s),this.hasListener(ti.ADDFEATURE))for(let r=0,a=i.length;r<a;r++)this.dispatchEvent(new js(ti.ADDFEATURE,i[r]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(ti.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(ti.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(En.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(En.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(_t);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=s=>{this.removeFeatureInternal(s)};this.featuresRtree_.forEach(i);for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new js(ti.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(s){const r=s.getGeometry();if(r instanceof Cn||r.intersectsCoordinate(e))return n(s)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const s=i.getGeometry();if(s instanceof Cn||s.intersectsExtent(e)){const r=n(i);if(r)return r}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),aa(this.nullGeometryFeatures_)||Ki(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const s=MS(e,n);return[].concat(...s.map(r=>this.featuresRtree_.getInExtent(r)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],s=e[1];let r=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Ll,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const c=u.getGeometry(),h=o;if(o=c instanceof Cn?0:c.closestPointXY(i,s,a,o),o<h){r=u;const d=Math.sqrt(o);l[0]=i-d,l[1]=s-d,l[2]=i+d,l[3]=s+d}}}),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=ot(n),s=n.getGeometry();if(!s)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const a=s.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const r=n.getId();if(r!==void 0){const a=r.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new js(ti.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:ot(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&aa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const s=this.loadedExtentsRtree_,r=this.strategy_(e,n,i);for(let a=0,o=r.length;a<o;++a){const l=r[a];s.forEachInExtent(l,function(c){return nr(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new js(ti.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new js(ti.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new js(ti.FEATURESLOADERROR))}),s.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(e,function(s){if(Fl(s.extent,e))return i=s,!0}),i&&n.remove(i)}removeFeatures(e){const n=[];for(let i=0,s=e.length;i<s;++i){const r=e[i],a=this.removeFeatureInternal(r);a&&n.push(a)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=ot(e);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[n];i==null||i.forEach(_t),delete this.featureChangeKeys_[n];const s=e.getId();if(s!==void 0){const r=s.toString(),a=this.idIndex_[r];a===e?delete this.idIndex_[r]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[r]=a[0]))}return delete this.uidIndex_[n],this.hasListener(ti.REMOVEFEATURE)&&this.dispatchEvent(new js(ti.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const i in this.idIndex_){const s=this.idIndex_[i];if(e instanceof Cn&&Array.isArray(s)&&s.includes(e))s.splice(s.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){Je(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(dp(e,this.format_))}}class Q6{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Je(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Je(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Je(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function fp(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function _d(t,e,n){return t+"/"+e+"/"+n}function FC(t){return _d(t[0],t[1],t[2])}function eB(t){return t.split("/").map(Number)}function tB(t){return(t[1]<<t[0])+t[2]}function nB(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return r?r.containsXY(i,s):!0}class DC extends Q6{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=eB(e)[0];this.forEach(s=>{s.tileCoord[0]!==i&&(this.remove(FC(s.tileCoord)),s.release())})}}const ff={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Ea=[0,0,0],Hs=5;class NC{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Je(K3(this.resolutions_,(s,r)=>r-s),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Je(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ha(i)),Je(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Je(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:jm,Je(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((s,r)=>{const a=new Sv(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,r);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const s=this.getTileRangeForExtentAndZ(e,n);for(let r=s.minX,a=s.maxX;r<=a;++r)for(let o=s.minY,l=s.maxY;o<=l;++o)i([n,r,o])}forEachTileCoordParentTileRange(e,n,i,s){let r,a,o,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,s);u>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),r=Sa(a,a,o,o,i)):r=this.getTileRangeForExtentAndZ(l,u,i),n(u,r))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,a=e[2]*2;return Sa(r,r+1,a,a+1,n)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=e[0],r=e[1],a=e[2];if(n===s)return Sa(r,a,r,a,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-s),u=Math.floor(r*l),c=Math.floor(a*l);if(n<s)return Sa(u,u,c,c,i);const h=Math.floor(l*(r+1))-1,d=Math.floor(l*(a+1))-1;return Sa(u,h,c,d,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Ea);const s=Ea[1],r=Ea[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Ea);const a=Ea[1],o=Ea[2];return Sa(s,a,r,o,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Xn(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*i,n[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),r=Xn(this.getTileSize(e[0]),this.tmpSize_),a=i[0]+e[1]*r[0]*s,o=i[1]-(e[2]+1)*r[1]*s,l=a+r[0]*s,u=o+r[1]*s;return As(a,o,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,s,r){const a=this.getZForResolution(i),o=i/this.getResolution(a),l=this.getOrigin(a),u=Xn(this.getTileSize(a),this.tmpSize_);let c=o*(e-l[0])/i/u[0],h=o*(l[1]-n)/i/u[1];return s?(c=Wu(c,Hs)-1,h=Wu(h,Hs)-1):(c=zu(c,Hs),h=zu(h,Hs)),fp(a,c,h,r)}getTileCoordForXYAndZ_(e,n,i,s,r){const a=this.getOrigin(i),o=this.getResolution(i),l=Xn(this.getTileSize(i),this.tmpSize_);let u=(e-a[0])/o/l[0],c=(a[1]-n)/o/l[1];return s?(u=Wu(u,Hs)-1,c=Wu(c,Hs)-1):(u=zu(u,Hs),c=zu(c,Hs)),fp(i,u,c,r)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=zm(this.resolutions_,e,n||0);return At(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return zS(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}class iB extends NC{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}function sB(t,e,n){const i=[],s=[],r=[],a=[],o=[];n=n!==void 0?n:[];const l="SupportedCRS",u="TileMatrix",c="Identifier",h="ScaleDenominator",d="TopLeftCorner",g="TileWidth",f="TileHeight",m=t[l],v=ut(m),_=v.getMetersPerUnit(),p=v.getAxisOrientation().substr(0,2)=="ne";return t[u].sort(function(b,S){return S[h]-b[h]}),t[u].forEach(function(b){let S;if(n.length>0?S=n.find(function(x){return b[c]==x[u]?!0:b[c].includes(":")?!1:t[c]+":"+b[c]===x[u]}):S=!0,S){s.push(b[c]);const x=b[h]*28e-5/_,C=b[g],E=b[f];p?r.push([b[d][1],b[d][0]]):r.push(b[d]),i.push(x),a.push(C==E?C:[C,E]),o.push([b.MatrixWidth,b.MatrixHeight])}}),new iB({extent:e,origins:r,resolutions:i,matrixIds:s,tileSizes:a,sizes:o})}function VC(t){let e=t.getDefaultTileGrid();return e||(e=lB(t),t.setDefaultTileGrid(e)),e}function rB(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),r=BC(n);if(!co(r,s)){const a=tt(r),o=Math.ceil((r[0]-s[0])/a);return s[0]+=a*o,t.getTileCoordForCoordAndZ(s,i)}return e}function aB(t,e,n,i){i=i!==void 0?i:"top-left";const s=oB(t,e,n);return new NC({extent:t,origin:dV(t,i),resolutions:s,tileSize:n})}function oB(t,e,n,i){e=e!==void 0?e:tV,n=Xn(n!==void 0?n:jm);const s=on(t),r=tt(t);i=i>0?i:Math.max(r/n[0],s/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=i/Math.pow(2,l);return o}function lB(t,e,n,i){const s=BC(t);return aB(s,e,n,i)}function BC(t){t=ut(t);let e=t.getExtent();if(!e){const n=180*Hm.degrees/t.getMetersPerUnit();e=As(-n,-n,n,n)}return e}class uB extends LC{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Xn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new DC(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const i=this.getTileCacheForProjection(e);i&&i.expireCache(n)}forEachLoadedTile(e,n,i,s){const r=this.getTileCacheForProjection(e);if(!r)return!1;let a=!0,o,l,u;for(let c=i.minX;c<=i.maxX;++c)for(let h=i.minY;h<=i.maxY;++h)l=_d(n,c,h),u=!1,r.containsKey(l)&&(o=r.get(l),u=o.getState()===Se.LOADED,u&&(u=s(o)!==!1)),u||(a=!1);return a}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,s,r){return Ie()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:VC(e)}getTileCacheForProjection(e){const n=this.getProjection();return Je(n===null||ps(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const s=this.getTileGridForProjection(i),r=this.getTilePixelRatio(n),a=Xn(s.getTileSize(e),this.tmpSize);return r==1?a:l5(a,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=rB(i,e,n)),nB(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,n,i,s){}}class cB extends Ns{constructor(e,n){super(e),this.tile=n}}function hB(t,e){const n=/\{z\}/g,i=/\{x\}/g,s=/\{y\}/g,r=/\{-y\}/g;return function(a,o,l){if(a)return t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(s,a[2].toString()).replace(r,function(){const u=a[0],c=e.getFullTileRange(u);if(!c)throw new Error("The {-y} placeholder requires a tile grid with extent");return(c.getHeight()-a[2]-1).toString()})}}function dB(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=hB(t[s],e);return Eg(i)}function Eg(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const s=tB(e),r=Ya(s,t.length);return t[r](e,n,i)}}function $C(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}class Cv extends uB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Cv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=ot(n),s=n.getState();let r;s==Se.LOADING?(this.tileLoadingKeys_[i]=!0,r=ff.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=s==Se.ERROR?ff.TILELOADERROR:s==Se.LOADED?ff.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new cB(r,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=$C(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(dB(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}useTile(e,n,i){const s=_d(e,n,i);this.tileCache.containsKey(s)&&this.tileCache.get(s)}}class fB extends Cv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:gB,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:MC,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?n:{});for(const s in this.tileCacheForProjection){const r=this.tileCacheForProjection[s];r.expireCache(r==i?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ps(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!ps(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ps(n,e)))return this.tileGrid;const i=ot(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=VC(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ps(n,e))return this.tileCache;const i=ot(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new DC(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,n,i,s,r,a){const o=[e,n,i],l=this.getTileCoordForTileUrlFunction(o,r),u=l?this.tileUrlFunction(l,s,r):void 0,c=new this.tileClass(o,u!==void 0?Se.IDLE:Se.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener(Ne.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,s,r){const a=this.getProjection();if(!a||!r||ps(a,r))return this.getTileInternal(e,n,i,s,a||r);const o=this.getTileCacheForProjection(r),l=[e,n,i];let u;const c=FC(l);o.containsKey(c)&&(u=o.get(c));const h=this.getKey();if(u&&u.key==h)return u;const d=this.getTileGridForProjection(a),g=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(l,r),m=new Sg(a,d,r,g,l,f,this.getTilePixelRatio(s),this.getGutter(),(v,_,p,b)=>this.getTileInternal(v,_,p,b,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return m.key=h,u?(m.interimTile=u,m.refreshInterimChain(),o.replace(c,m)):o.set(c,m),m}getTileInternal(e,n,i,s,r){let a=null;const o=_d(e,n,i),l=this.getKey();if(!this.tileCache.containsKey(o))a=this.createTile_(e,n,i,s,r,l),this.tileCache.set(o,a);else if(a=this.tileCache.get(o),a.key!=l){const u=a;a=this.createTile_(e,n,i,s,r,l),u.getState()==Se.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(o,a)}return a}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const i=ut(e);if(i){const s=ot(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function gB(t,e){t.getImage().src=e}function gp(t,e){const n=[];Object.keys(e).forEach(function(s){e[s]!==null&&e[s]!==void 0&&n.push(s+"="+encodeURIComponent(e[s]))});const i=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+i}class mB extends fB{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",i=e.tileGrid;let s=e.urls;s===void 0&&e.url!==void 0&&(s=$C(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:s,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),s&&s.length>0&&(this.tileUrlFunction=Eg(s.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(Eg(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?gp(e,i):e.replace(/\{(\w+?)\}/g,function(a,o){return o.toLowerCase()in i?i[o.toLowerCase()]:a});const s=this.tileGrid,r=this.dimensions_;return function(a,o,l){if(!a)return;const u={TileMatrix:s.getMatrixId(a[0]),TileCol:a[1],TileRow:a[2]};Object.assign(u,r);let c=e;return n=="KVP"?c=gp(c,u):c=c.replace(/\{(\w+?)\}/g,function(h,d){return u[d]}),c}}}const vB=mB;function yB(t,e){const n=t.Contents.Layer,i=n==null?void 0:n.find(function(T){return T.Identifier==e.layer});if(!i)return null;const s=t.Contents.TileMatrixSet;let r;i.TileMatrixSetLink.length>1?"projection"in e?r=i.TileMatrixSetLink.findIndex(function(T){const O=s.find(function(j){return j.Identifier==T.TileMatrixSet}).SupportedCRS,k=ut(O),I=ut(e.projection);return k&&I?ps(k,I):O==e.projection}):r=i.TileMatrixSetLink.findIndex(function(T){return T.TileMatrixSet==e.matrixSet}):r=0,r<0&&(r=0);const a=i.TileMatrixSetLink[r].TileMatrixSet,o=i.TileMatrixSetLink[r].TileMatrixSetLimits;let l=i.Format[0];"format"in e&&(l=e.format),r=i.Style.findIndex(function(T){return"style"in e?T.Title==e.style:T.isDefault}),r<0&&(r=0);const u=i.Style[r].Identifier,c={};"Dimension"in i&&i.Dimension.forEach(function(T,F,O){const k=T.Identifier;let I=T.Default;I===void 0&&(I=T.Value[0]),c[k]=I});const d=t.Contents.TileMatrixSet.find(function(T){return T.Identifier==a});let g;const f=d.SupportedCRS;if(f&&(g=ut(f)),"projection"in e){const T=ut(e.projection);T&&(!g||ps(T,g))&&(g=T)}let m=!1;const v=g.getAxisOrientation().substr(0,2)=="ne";let _=d.TileMatrix[0],p={MinTileCol:0,MinTileRow:0,MaxTileCol:_.MatrixWidth-1,MaxTileRow:_.MatrixHeight-1};if(o){p=o[o.length-1];const T=d.TileMatrix.find(F=>F.Identifier===p.TileMatrix||d.Identifier+":"+F.Identifier===p.TileMatrix);T&&(_=T)}const b=_.ScaleDenominator*28e-5/g.getMetersPerUnit(),S=v?[_.TopLeftCorner[1],_.TopLeftCorner[0]]:_.TopLeftCorner,x=_.TileWidth*b,C=_.TileHeight*b;let E=d.BoundingBox;E&&v&&(E=[E[1],E[0],E[3],E[2]]);let M=[S[0]+x*p.MinTileCol,S[1]-C*(1+p.MaxTileRow),S[0]+x*(1+p.MaxTileCol),S[1]-C*p.MinTileRow];if(E!==void 0&&!nr(E,M)){const T=i.WGS84BoundingBox,F=ut("EPSG:4326").getExtent();if(M=E,T)m=T[0]===F[0]&&T[2]===F[2];else{const O=CV(E,d.SupportedCRS,"EPSG:4326");m=O[0]-1e-10<=F[0]&&O[2]+1e-10>=F[2]}}const w=sB(d,M,o),A=[];let P=e.requestEncoding;if(P=P!==void 0?P:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){const T=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let F=0,O=T.length;F<O;++F)if(T[F].Constraint){const I=T[F].Constraint.find(function(j){return j.name=="GetEncoding"}).AllowedValues.Value;if(P===""&&(P=I[0]),P==="KVP")I.includes("KVP")&&A.push(T[F].href);else break}else T[F].href&&(P="KVP",A.push(T[F].href))}return A.length===0&&(P="REST",i.ResourceURL.forEach(function(T){T.resourceType==="tile"&&(l=T.format,A.push(T.template))})),{urls:A,layer:e.layer,matrixSet:a,format:l,projection:g,requestEncoding:P,tileGrid:w,style:u,dimensions:c,wrapX:m,crossOrigin:e.crossOrigin}}class _B{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=vd,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let i=n.dataProjection?ut(n.dataProjection):this.readProjection(e);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=ut(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Ie()}readFeature(e,n){return Ie()}readFeatures(e,n){return Ie()}readGeometry(e,n){return Ie()}readProjection(e){return Ie()}writeFeature(e,n){return Ie()}writeFeatures(e,n){return Ie()}writeGeometry(e,n){return Ie()}}function Ev(t,e,n){const i=n?ut(n.featureProjection):null,s=n?ut(n.dataProjection):null;let r=t;if(i&&s&&!ps(i,s)){e&&(r=t.clone());const a=e?i:s,o=e?s:i;a.getUnits()==="tile-pixels"?r.transform(a,o):r.applyTransform(ho(a,o))}if(e&&n&&n.decimals!==void 0){const a=Math.pow(10,n.decimals),o=function(l){for(let u=0,c=l.length;u<c;++u)l[u]=Math.round(l[u]*a)/a;return l};r===t&&(r=t.clone()),r.applyTransform(o)}return r}const pB={Point:fo,LineString:yo,Polygon:pr,MultiPoint:yd,MultiLineString:ch,MultiPolygon:hh};function bB(t,e,n){return Array.isArray(e[0])?(jS(t,0,e,n)||(t=t.slice(),mg(t,0,e,n)),t):(hv(t,0,e,n)||(t=t.slice(),Qc(t,0,e,n)),t)}function GC(t,e){var r;const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(a=>GC({...t,geometry:a})).flat();const i=n.type==="MultiPolygon"?"Polygon":n.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const s=n.layout.length;return Ev(new Cn(i,i==="Polygon"?bB(n.flatCoordinates,n.ends,s):n.flatCoordinates,(r=n.ends)==null?void 0:r.flat(),s,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function Mv(t,e){if(!t)return null;if(Array.isArray(t)){const i=t.map(s=>Mv(s,e));return new lh(i)}const n=pB[t.type];return Ev(new n(t.flatCoordinates,t.layout,t.ends),!1,e)}class xB extends _B{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(Qu(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(Qu(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Ie()}readFeaturesFromObject(e,n){return Ie()}readGeometry(e,n){return this.readGeometryFromObject(Qu(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Ie()}readProjection(e){return this.readProjectionFromObject(Qu(e))}readProjectionFromObject(e){return Ie()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Ie()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Ie()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Ie()}}function Qu(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class mp extends xB{constructor(e){e=e||{},super(),this.dataProjection=ut(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=ut(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const s=Tv(i.geometry);if(this.featureClass===Cn)return GC({geometry:s,id:i.id,properties:i.properties},n);const r=new vd;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&r.setGeometryName(i.geometry_name),r.setGeometry(Mv(s,n)),"id"in i&&r.setId(i.id),i.properties&&r.setProperties(i.properties,!0),r}readFeaturesFromObject(e,n){const i=e;let s=null;if(i.type==="FeatureCollection"){const r=e;s=[];const a=r.features;for(let o=0,l=a.length;o<l;++o){const u=this.readFeatureFromObject(a[o],n);u&&s.push(u)}}else s=[this.readFeatureFromObject(e,n)];return s.flat()}readGeometryFromObject(e,n){return wB(e,n)}readProjectionFromObject(e){const n=e.crs;let i;if(n)if(n.type=="name")i=ut(n.properties.name);else if(n.type==="EPSG")i=ut("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,n){n=this.adaptOptions(n);const i={type:"Feature",geometry:null,properties:null},s=e.getId();if(s!==void 0&&(i.id=s),!e.hasProperties())return i;const r=e.getProperties(),a=e.getGeometry();return a&&(i.geometry=Mg(a,n),delete r[e.getGeometryName()]),aa(r)||(i.properties=r),i}writeFeaturesObject(e,n){n=this.adaptOptions(n);const i=[];for(let s=0,r=e.length;s<r;++s)i.push(this.writeFeatureObject(e[s],n));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,n){return Mg(e,this.adaptOptions(n))}}function Tv(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=CB(t);break}case"LineString":{n=EB(t);break}case"Polygon":{n=RB(t);break}case"MultiPoint":{n=TB(t);break}case"MultiLineString":{n=MB(t);break}case"MultiPolygon":{n=IB(t);break}case"GeometryCollection":{n=SB(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function wB(t,e){const n=Tv(t);return Mv(n,e)}function SB(t,e){return t.geometries.map(function(i){return Tv(i)})}function CB(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:fa(e.length)}}function EB(t){var i;const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:fa(((i=e[0])==null?void 0:i.length)||2)}}function MB(t){var r,a;const e=t.coordinates,n=((a=(r=e[0])==null?void 0:r[0])==null?void 0:a.length)||2,i=[],s=yu(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:s,layout:fa(n)}}function TB(t){var n;const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:fa(((n=e[0])==null?void 0:n.length)||2)}}function IB(t){var r,a;const e=t.coordinates,n=[],i=((a=(r=e[0])==null?void 0:r[0])==null?void 0:a[0].length)||2,s=NS(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:s,layout:fa(i)}}function RB(t){var r,a;const e=t.coordinates,n=[],i=(a=(r=e[0])==null?void 0:r[0])==null?void 0:a.length,s=yu(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:s,layout:fa(i)}}function Mg(t,e){t=Ev(t,!0,e);const n=t.getType();let i;switch(n){case"Point":{i=FB(t);break}case"LineString":{i=PB(t);break}case"Polygon":{i=DB(t,e);break}case"MultiPoint":{i=OB(t);break}case"MultiLineString":{i=kB(t);break}case"MultiPolygon":{i=LB(t,e);break}case"GeometryCollection":{i=AB(t,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return i}function AB(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(i){return Mg(i,e)})}}function PB(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function kB(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function OB(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function LB(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function FB(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function DB(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}function Iv(t,e){return UC(t,e,[]).join("")}function UC(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)n.push(t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)UC(i,e,n)}return n}function NB(t){return"documentElement"in t}function VB(t){return new DOMParser().parseFromString(t,"application/xml")}function Tg(t,e){return function(n,i){const s=t.call(this,n,i);s!==void 0&&i[i.length-1].push(s)}}function Tn(t,e,n){return function(i,s){const r=t.call(this,i,s);if(r!==void 0){const a=s[s.length-1],o=i.localName;let l;o in a?l=a[o]:(l=[],a[o]=l),l.push(r)}}}function xe(t,e,n){return function(i,s){const r=t.call(this,i,s);if(r!==void 0){const a=s[s.length-1],o=i.localName;a[o]=r}}}function ht(t,e,n){n=n!==void 0?n:{};let i,s;for(i=0,s=t.length;i<s;++i)n[t[i]]=e;return n}function BB(t,e,n,i){let s;for(s=e.firstElementChild;s;s=s.nextElementSibling){const r=t[s.namespaceURI];if(r!==void 0){const a=r[s.localName];a!==void 0&&a.call(i,s,n)}}}function bt(t,e,n,i,s){return i.push(t),BB(e,n,i,s),i.pop()}class zC{read(e){if(!e)return null;if(typeof e=="string"){const n=VB(e);return this.readFromDocument(n)}return NB(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return this.readFromNode(n);return null}readFromNode(e){Ie()}}const $B="http://www.w3.org/1999/xlink";function Rv(t){return t.getAttributeNS($B,"href")}function GB(t){const e=Iv(t,!1);return UB(e)}function UB(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function ar(t){const e=Iv(t,!1);return zB(e)}function zB(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function Ke(t){return Iv(t,!1).trim()}const Vn=[null,"http://www.opengis.net/ows/1.1"],WB=ht(Vn,{ServiceIdentification:xe(m$),ServiceProvider:xe(y$),OperationsMetadata:xe(f$)});class jB extends zC{constructor(){super()}readFromNode(e){const n=bt({},WB,e,[]);return n||null}}const HB=ht(Vn,{DeliveryPoint:xe(Ke),City:xe(Ke),AdministrativeArea:xe(Ke),PostalCode:xe(Ke),Country:xe(Ke),ElectronicMailAddress:xe(Ke)}),YB=ht(Vn,{Value:Tn(_$)}),XB=ht(Vn,{AllowedValues:xe(a$)}),KB=ht(Vn,{Phone:xe(g$),Address:xe(r$)}),qB=ht(Vn,{HTTP:xe(h$)}),ZB=ht(Vn,{Get:Tn(c$),Post:void 0}),JB=ht(Vn,{DCP:xe(u$)}),QB=ht(Vn,{Operation:d$}),e$=ht(Vn,{Voice:xe(Ke),Facsimile:xe(Ke)}),t$=ht(Vn,{Constraint:Tn(o$)}),n$=ht(Vn,{IndividualName:xe(Ke),PositionName:xe(Ke),ContactInfo:xe(l$)}),i$=ht(Vn,{Abstract:xe(Ke),AccessConstraints:xe(Ke),Fees:xe(Ke),Title:xe(Ke),ServiceTypeVersion:xe(Ke),ServiceType:xe(Ke)}),s$=ht(Vn,{ProviderName:xe(Ke),ProviderSite:xe(Rv),ServiceContact:xe(v$)});function r$(t,e){return bt({},HB,t,e)}function a$(t,e){return bt({},YB,t,e)}function o$(t,e){const n=t.getAttribute("name");if(n)return bt({name:n},XB,t,e)}function l$(t,e){return bt({},KB,t,e)}function u$(t,e){return bt({},qB,t,e)}function c$(t,e){const n=Rv(t);if(n)return bt({href:n},t$,t,e)}function h$(t,e){return bt({},ZB,t,e)}function d$(t,e){const n=t.getAttribute("name"),i=bt({},JB,t,e);if(!i)return;const s=e[e.length-1];s[n]=i}function f$(t,e){return bt({},QB,t,e)}function g$(t,e){return bt({},e$,t,e)}function m$(t,e){return bt({},i$,t,e)}function v$(t,e){return bt({},n$,t,e)}function y$(t,e){return bt({},s$,t,e)}function _$(t,e){return Ke(t)}const ss=[null,"http://www.opengis.net/wmts/1.0"],Ro=[null,"http://www.opengis.net/ows/1.1"],p$=ht(ss,{Contents:xe(A$)});class b$ extends zC{constructor(){super(),this.owsParser_=new jB}readFromNode(e){let n=e.getAttribute("version");n&&(n=n.trim());let i=this.owsParser_.readFromNode(e);return i?(i.version=n,i=bt(i,p$,e,[]),i||null):null}}const x$=ht(ss,{Layer:Tn(P$),TileMatrixSet:Tn(k$)}),w$=ht(ss,{Style:Tn(O$),Format:Tn(Ke),TileMatrixSetLink:Tn(L$),Dimension:Tn(F$),ResourceURL:Tn(D$)},ht(Ro,{Title:xe(Ke),Abstract:xe(Ke),WGS84BoundingBox:xe(jC),BoundingBox:Tn(N$),Identifier:xe(Ke)})),S$=ht(ss,{LegendURL:Tn(V$)},ht(Ro,{Title:xe(Ke),Identifier:xe(Ke)})),C$=ht(ss,{TileMatrixSet:xe(Ke),TileMatrixSetLimits:xe($$)}),E$=ht(ss,{TileMatrixLimits:Tg(G$)}),M$=ht(ss,{TileMatrix:xe(Ke),MinTileRow:xe(ar),MaxTileRow:xe(ar),MinTileCol:xe(ar),MaxTileCol:xe(ar)}),T$=ht(ss,{Default:xe(Ke),Value:Tn(Ke)},ht(Ro,{Identifier:xe(Ke)})),WC=ht(Ro,{LowerCorner:Tg(Ig),UpperCorner:Tg(Ig)}),I$=ht(ss,{WellKnownScaleSet:xe(Ke),TileMatrix:Tn(B$)},ht(Ro,{SupportedCRS:xe(Ke),Identifier:xe(Ke),BoundingBox:xe(jC)})),R$=ht(ss,{TopLeftCorner:xe(Ig),ScaleDenominator:xe(GB),TileWidth:xe(ar),TileHeight:xe(ar),MatrixWidth:xe(ar),MatrixHeight:xe(ar)},ht(Ro,{Identifier:xe(Ke)}));function A$(t,e){return bt({},x$,t,e)}function P$(t,e){return bt({},w$,t,e)}function k$(t,e){return bt({},I$,t,e)}function O$(t,e){const n=bt({},S$,t,e);if(!n)return;const i=t.getAttribute("isDefault")==="true";return n.isDefault=i,n}function L$(t,e){return bt({},C$,t,e)}function F$(t,e){return bt({},T$,t,e)}function D$(t,e){const n=t.getAttribute("format"),i=t.getAttribute("template"),s=t.getAttribute("resourceType"),r={};return n&&(r.format=n),i&&(r.template=i),s&&(r.resourceType=s),r}function jC(t,e){const n=bt([],WC,t,e);if(n.length==2)return Zc(n)}function N$(t,e){const n=t.getAttribute("crs"),i=bt([],WC,t,e);if(i.length==2)return{extent:Zc(i),crs:n}}function V$(t,e){const n={};return n.format=t.getAttribute("format"),n.href=Rv(t),n}function Ig(t,e){const n=Ke(t).split(/\s+/);if(!n||n.length!=2)return;const i=+n[0],s=+n[1];if(!(isNaN(i)||isNaN(s)))return[i,s]}function B$(t,e){return bt({},R$,t,e)}function $$(t,e){return bt([],E$,t,e)}function G$(t,e){return bt({},M$,t,e)}function U$(t){const e=Object.keys(t.defs),n=e.length;let i,s;for(i=0;i<n;++i){const r=e[i];if(!ut(r)){const a=t.defs(r);let o=a.units;!o&&a.projName==="longlat"&&(o="degrees"),PS(new Jh({code:r,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:o}))}}for(i=0;i<n;++i){const r=e[i],a=ut(r);for(s=0;s<n;++s){const o=e[s],l=ut(o);if(!pS(r,o))if(t.defs[r]===t.defs[o])dg([a,l]);else{const u=t(r,o);wV(a,l,M_(a,l,u.forward),M_(l,a,u.inverse))}}}}const Hn=ts("Map",4,2),z$="https://tilesmn95.lausanne.ch/tiles/1.0.0/LausanneWMTS.xml",W$=[2532500,1149e3,2545625,1161e3],j$=[25379685e-1,1152088];pn.defs("EPSG:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");pn.defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.4,15.1,405.3,0,0,0,0 +units=m +no_defs");U$(pn);const H$=new Jh({code:"EPSG:2056",extent:W$,units:"m"}),Y$=new b$;async function X$(t){const e=await fetch(t);if(!e.ok){const n=`###!### ERROR in getWMTSCapabilitiesFromUrl when doing fetch(${t}: http status: ${e.status}`;throw new Error(n)}return await e.text()}function K$(t,e){const n=yB(t,{layer:e,matrixSet:"EPSG2056",format:"image/png",style:"default",crossOrigin:"anonymous"});return new vB(n)}function gf(t,e,n,i=!1){const s=new _6({visible:i,source:K$(t,n)});return s.setProperties({title:e,type:"base"}),s}async function q$(t,e){const n=[];try{const i=await X$(t),s=Y$.read(i);return n.push(gf(s,"Orthophoto 2016 (Lausanne)","orthophotos_ortho_lidar_2016",e==="orthophotos_ortho_lidar_2016")),n.push(gf(s,"Fond cadastral (Lausanne)","fonds_geo_osm_bdcad_gris",e==="fonds_geo_osm_bdcad_gris")),n.push(gf(s,"Plan ville (Lausanne)","fonds_geo_osm_bdcad_couleur",e==="fonds_geo_osm_bdcad_couleur")),n}catch(i){const s=`###!### ERROR in getWmtsBaseLayers occured with url:${t}: error is: ${i}`;return console.warn(s),[]}}const Z$=(t,e)=>{if(Hn.t(`## in getLayerByName layerName: ${e} `),zt(t))return Hn.w("NO WAY : olMap is NULL"),null;const n=t.getAllLayers();for(const i of n)if(Hn.l(`## in getLayerByName layer.get("name") : ${i.get("name")}`),i.get("name")!==void 0&&i.get("name")===e)return i;return Hn.w(`## in getLayerByName : the layer [${e}] was not found returning NULL `),null},J$=(t,e)=>{const n="/img/gomarker_star_red.png";if(!zt(t)&&!zt(t.getProperties())){const i=t.getProperties(),s=zt(i.icon_path)?n:i.icon_path;return new Es({image:new vo({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:s})})}else return new Es({image:new vo({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:n})})},vp=t=>(Hn.t("## in getVectorSourceGeoJson "),new J6({format:new mp({dataProjection:"EPSG:2056",featureProjection:"EPSG:2056"}),features:new mp().readFeatures(t)})),yp=(t,e,n)=>{if(Hn.t(`> will try creating/updating features in layer : ${e}...`),zt(t))Hn.w("addGeoJsonLayer will do nothing because olMap isNullOrUndefined");else if(zt(n))Hn.w("addGeoJsonLayer will do nothing because geoJsonData isNullOrUndefined");else{const i=Z$(t,e);if(i==null){Hn.l(`In addGeoJsonLayer layer was not yet created so let's create it : ${e}`);const s=vp(n),r=new Y6({source:s,style:J$});r.setProperties({title:e,name:e}),Hn.l(`In addGeoJsonLayer adding layer ${e} to olMap`,r),t.addLayer(r)}else{Hn.l(`In addGeoJsonLayer setting geoJson source to existing ${e}`);const s=i.getSource();s!==null&&s.clear(),i.setSource(vp(n))}}};async function Q$(t,e=j$,n=16,i="fonds_geo_osm_bdcad_couleur"){Hn.t(`createLausanneMap(x,y: [${e[0]},${e[1]}]  zoom:${n})`);const s=await q$(z$,i);return s===null||s.length<1?(Hn.w("arrBaseLayers cannot be null or empty to be able to see a nice map !"),null):new wg({target:t,layers:s,view:new Gi({projection:H$,center:e,zoom:n})})}const Qt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class _p extends Oi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+A5,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Qt.ELEMENT,this.handleElementChanged),this.addChangeListener(Qt.MAP,this.handleMapChanged),this.addChangeListener(Qt.OFFSET,this.handleOffsetChanged),this.addChangeListener(Qt.POSITION,this.handlePositionChanged),this.addChangeListener(Qt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Qt.ELEMENT)}getId(){return this.id}getMap(){return this.get(Qt.MAP)||null}getOffset(){return this.get(Qt.OFFSET)}getPosition(){return this.get(Qt.POSITION)}getPositioning(){return this.get(Qt.POSITIONING)}handleElementChanged(){nC(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(th(this.element),_t(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Xe(e,vs.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Qt.ELEMENT,e)}setMap(e){this.set(Qt.MAP,e)}setOffset(e){this.set(Qt.OFFSET,e)}setPosition(e){this.set(Qt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Qt.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),s=this.getElement(),r=this.getRect(s,[x5(s),w5(s)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!nr(i,r)){const o=r[0]-i[0],l=i[2]-r[2],u=r[1]-i[1],c=i[3]-r[3],h=[0,0];if(o<0?h[0]=o-a:l<0&&(h[0]=Math.abs(l)+a),u<0?h[1]=u-a:c<0&&(h[1]=Math.abs(c)+a),h[0]!==0||h[1]!==0){const d=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(d);if(!g)return;const f=[g[0]+h[0],g[1]+h[1]],m=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(f),duration:m.duration,easing:m.easing})}}}getRect(e,n){const i=e.getBoundingClientRect(),s=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[s,r,s+n[0],r+n[1]]}setPositioning(e){this.set(Qt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(n),s=e.getSize();this.updateRenderedPosition(i,s)}updateRenderedPosition(e,n){const i=this.element.style,s=this.getOffset(),r=this.getPositioning();this.setVisible(!0);const a=Math.round(e[0]+s[0])+"px",o=Math.round(e[1]+s[1])+"px";let l="0%",u="0%";r=="bottom-right"||r=="center-right"||r=="top-right"?l="-100%":(r=="bottom-center"||r=="center-center"||r=="top-center")&&(l="-50%"),r=="bottom-left"||r=="bottom-center"||r=="bottom-right"?u="-100%":(r=="center-left"||r=="center-center"||r=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${a}, ${o})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}var HC={exports:{}};const e8=gv(L4),t8=gv(Z3),n8=gv(R4);(function(t,e){(function(n,i){t.exports=i(e8,t8,n8)})(u5,function(n,i,s){n="default"in n?n.default:n,s="default"in s?s.default:s;const r="layer-switcher-";class a extends n{constructor(l){const u=Object.assign({},l),c=document.createElement("div");super({element:c,target:u.target}),this.activationMode=u.activationMode||"mouseover",this.startActive=u.startActive===!0,this.label=u.label!==void 0?u.label:"",this.collapseLabel=u.collapseLabel!==void 0?u.collapseLabel:"",this.tipLabel=u.tipLabel?u.tipLabel:"Legend",this.collapseTipLabel=u.collapseTipLabel?u.collapseTipLabel:"Collapse legend",this.groupSelectStyle=a.getGroupSelectStyle(u.groupSelectStyle),this.reverse=u.reverse!==!1,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",a.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",c.className=this.hiddenClassName,this.button=document.createElement("button"),c.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",c.appendChild(this.panel),a.enableTouchScroll_(this.panel),c.classList.add(r+"group-select-style-"+this.groupSelectStyle),c.classList.add(r+"activation-mode-"+this.activationMode),this.activationMode==="click"?(c.classList.add("activationModeClick"),this.button.onclick=h=>{const d=h||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),d.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=h=>{const d=h||window.event;this.showPanel(),d.preventDefault()},this.panel.onmouseout=h=>{this.panel.contains(h.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(l){for(let u=0;u<this.mapListeners.length;u++)i.unByKey(this.mapListeners[u]);this.mapListeners.length=0,super.setMap(l),l&&(this.startActive?this.showPanel():this.renderPanel(),this.activationMode!=="click"&&this.mapListeners.push(l.on("pointerdown",()=>{this.hidePanel()})))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),a.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(l,u,c){const h=new Event("render");for(u.dispatchEvent(h),c=c||{},c.groupSelectStyle=a.getGroupSelectStyle(c.groupSelectStyle),a.ensureTopVisibleBaseLayerShown(l,c.groupSelectStyle);u.firstChild;)u.removeChild(u.firstChild);a.forEachRecursive(l,function(f,m,v){f.set("indeterminate",!1)}),c.groupSelectStyle==="children"||c.groupSelectStyle==="none"?a.setGroupVisibility(l):c.groupSelectStyle==="group"&&a.setChildVisibility(l);const d=document.createElement("ul");u.appendChild(d),a.renderLayers_(l,l,d,c,function(m){a.renderPanel(l,u,c)});const g=new Event("rendercomplete");u.dispatchEvent(g)}static isBaseGroup(l){if(l instanceof s){const u=l.getLayers().getArray();return u.length&&u[0].get("type")==="base"}else return!1}static setGroupVisibility(l){a.getGroupsAndLayers(l,function(c){return c instanceof s&&!c.get("combine")&&!a.isBaseGroup(c)}).reverse().forEach(function(c){const h=c.getLayersArray().map(function(d){return d.getVisible()});h.every(function(d){return d===!0})?(c.setVisible(!0),c.set("indeterminate",!1)):h.every(function(d){return d===!1})?(c.setVisible(!1),c.set("indeterminate",!1)):(c.setVisible(!0),c.set("indeterminate",!0))})}static setChildVisibility(l){a.getGroupsAndLayers(l,function(c){return c instanceof s&&!c.get("combine")&&!a.isBaseGroup(c)}).forEach(function(c){const h=c,d=h.getVisible(),g=h.get("indeterminate");h.getLayers().getArray().forEach(function(f){f.set("indeterminate",!1),(!d||g)&&f.getVisible()&&f.set("indeterminate",!0)})})}static ensureTopVisibleBaseLayerShown(l,u){let c;a.forEachRecursive(l,function(h,d,g){h.get("type")==="base"&&h.getVisible()&&(c=h)}),c&&a.setVisible_(l,c,!0,u)}static getGroupsAndLayers(l,u){const c=[];return u=u||function(h,d,g){return!0},a.forEachRecursive(l,function(h,d,g){h.get("title")&&u(h,d,g)&&c.push(h)}),c}static setVisible_(l,u,c,h){u.setVisible(c),c&&u.get("type")==="base"&&a.forEachRecursive(l,function(d,g,f){d!=u&&d.get("type")==="base"&&d.setVisible(!1)}),u instanceof s&&!u.get("combine")&&h==="children"&&u.getLayers().forEach(d=>{a.setVisible_(l,d,u.getVisible(),h)})}static renderLayer_(l,u,c,h,d){const g=document.createElement("li"),f=u.get("title"),m=a.uuid(),v=document.createElement("label");if(u instanceof s&&!u.get("combine")){const _=a.isBaseGroup(u);if(g.classList.add("group"),_&&g.classList.add(r+"base-group"),u.get("fold")){g.classList.add(r+"fold"),g.classList.add(r+u.get("fold"));const b=document.createElement("button");b.onclick=function(S){const x=S||window.event;a.toggleFold_(u,g),x.preventDefault()},g.appendChild(b)}if(!_&&h.groupSelectStyle!="none"){const b=document.createElement("input");b.type="checkbox",b.id=m,b.checked=u.getVisible(),b.indeterminate=u.get("indeterminate"),b.onchange=function(S){const x=S.target;a.setVisible_(l,u,x.checked,h.groupSelectStyle),d(u)},g.appendChild(b),v.htmlFor=m}v.innerHTML=f,g.appendChild(v);const p=document.createElement("ul");g.appendChild(p),a.renderLayers_(l,u,p,h,d)}else{g.className="layer";const _=document.createElement("input");u.get("type")==="base"?_.type="radio":_.type="checkbox",_.id=m,_.checked=u.get("visible"),_.indeterminate=u.get("indeterminate"),_.onchange=function(b){const S=b.target;a.setVisible_(l,u,S.checked,h.groupSelectStyle),d(u)},g.appendChild(_),v.htmlFor=m,v.innerHTML=f;const p=l.getView().getResolution();if(p>=u.getMaxResolution()||p<u.getMinResolution())v.className+=" disabled";else if(u.getMinZoom&&u.getMaxZoom){const b=l.getView().getZoom();(b<=u.getMinZoom()||b>u.getMaxZoom())&&(v.className+=" disabled")}g.appendChild(v)}return g}static renderLayers_(l,u,c,h,d){let g=u.getLayers().getArray().slice();h.reverse&&(g=g.reverse());for(let f=0,m;f<g.length;f++)m=g[f],m.get("title")&&c.appendChild(a.renderLayer_(l,m,f,h,d))}static forEachRecursive(l,u){l.getLayers().forEach(function(c,h,d){u(c,h,d),c instanceof s&&a.forEachRecursive(c,u)})}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const u=Math.random()*16|0;return(l=="x"?u:u&3|8).toString(16)})}static enableTouchScroll_(l){if(a.isTouchDevice_()){let u=0;l.addEventListener("touchstart",function(c){u=this.scrollTop+c.touches[0].pageY},!1),l.addEventListener("touchmove",function(c){this.scrollTop=u-c.touches[0].pageY},!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static toggleFold_(l,u){u.classList.remove(r+l.get("fold")),l.set("fold",l.get("fold")==="open"?"close":"open"),u.classList.add(r+l.get("fold"))}static getGroupSelectStyle(l){return["none","children","group"].indexOf(l)>=0?l:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=a),a})})(HC);var i8=HC.exports;const s8=KS(i8),r8=H({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ns(),...Me(),...Ri(),...pb(),...dn(),...dt({tag:"footer"}),...pt()},"VFooter"),a8=ae()({name:"VFooter",props:r8(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Et(t),{backgroundColorClasses:s,backgroundColorStyles:r}=_n(le(t,"color")),{borderClasses:a}=Fs(t),{elevationClasses:o}=is(t),{roundedClasses:l}=bn(t),u=ve(32),{resizeRef:c}=gr(f=>{f.length&&(u.value=f[0].target.clientHeight)}),h=R(()=>t.height==="auto"?u.value:parseInt(t.height,10)),{layoutItemStyles:d,layoutIsReady:g}=xb({id:t.name,order:R(()=>parseInt(t.order,10)),position:R(()=>"bottom"),layoutSize:h,elementSize:R(()=>t.height==="auto"?void 0:h.value),active:R(()=>t.app),absolute:le(t,"absolute")});return ge(()=>y(t.tag,{ref:c,class:["v-footer",i.value,s.value,a.value,o.value,l.value,t.class],style:[r.value,t.app?d.value:{height:_e(t.height)},t.style]},n)),t.app?g:{}}}),o8={class:"text-xs-center"},l8=bi("div",{id:"divLayerSwitcher",class:"layer-switcher-dialog"},null,-1),u8={class:"map",id:"map",ref:"myMap"},c8=bi("noscript",null," You need to have a browser with javascript support to see this OpenLayers map of Lausanne ",-1),zo="GoelandThingLayer",h8=bh({__name:"MapLausanne",props:{zoom:{},center:{},geodata:{}},emits:["map-click","map-error"],setup(t,{emit:e}){const n=Am(),{numRecords:i,searchParameters:s}=cm(n),r=ts("MapLausanneVue",4,2),a=J(0),o=J(0),l=J(!1),u=J(null);let c;const h=J(null),d=t,g=e;he(()=>d.zoom,(_,p)=>{r.t(` watch myProps.zoom old: ${p}, new val: ${_}`),_!==void 0&&_!==p&&u.value!==null&&u.value.getView().setZoom(_)}),he(()=>d.center,(_,p)=>{r.t(` watch myProps.center old: ${p}, new val: ${_}`),_!==void 0&&_!==p&&u.value!==null&&u.value.getView().setCenter(_)}),he(()=>d.geodata,(_,p)=>{r.t(` watch myProps.geodata old: ${p}, new val: ${_}`),zt(_)||(_!==p?u.value!==null&&yp(u.value,zo,_):r.l(`in watch myProps.geodata   NOTHING TO DO old is same as new val: ${_}`))});const f=()=>zt(i.value)?0:i.value,m=()=>{r.t(`# toggleLayerSwitcher layerSwitcherVisible : ${l.value}`),l.value=!l.value},v=async _=>{if(r.t(" #> entering initialize..."),u.value=await Q$("map",_,8,"fonds_geo_osm_bdcad_couleur"),u.value!==null){r.l("initialize() myOlMap is not null : ",u.value),u.value.on("pointermove",b=>{a.value=+Number(b.coordinate[0]).toFixed(0),o.value=+Number(b.coordinate[1]).toFixed(0);const S=[];if(u.value instanceof wg&&u.value.forEachFeatureAtPixel(b.pixel,(x,C)=>{let E="";if(zt(C)||(E=C.get("name")),!zt(E)&&E.indexOf(zo)>-1){const M=x.getProperties();if(zt(M))S.push({id:0,feature:x,layer:E});else{const w={id:M.id,feature:x,layer:E,data:M};S.push(w)}}}),S.length>0){let x="",C="";S.forEach(E=>{const M=E.data.name;C+=`${E.layer} `,zt(M)||(x+=`${M.replace(/(<([^>]+)>)/gi,"")}<br>`)}),x.length>0&&C.indexOf(zo)>-1?(c instanceof _p&&c.setPosition(b.coordinate),h.value instanceof HTMLDivElement&&(h.value.style.display="block",h.value.innerHTML=x)):h.value instanceof HTMLDivElement&&(h.value.style.display="none",h.value.innerHTML="")}else h.value instanceof HTMLDivElement&&(h.value.style.display="none",h.value.innerHTML="")}),u.value.on("click",b=>{const S=+Number(b.coordinate[0]).toFixed(2),x=+Number(b.coordinate[1]).toFixed(2),C=[];u.value instanceof wg&&u.value.forEachFeatureAtPixel(b.pixel,(E,M)=>{let w="";if(zt(M)||(w=M.get("name")),!zt(w)&&w.indexOf(zo)>-1){const A=E.getProperties();if(zt(A))C.push({id:0,feature:E,layer:w,data:null});else{const P={id:A.id,feature:E,layer:w,data:A};C.push(P)}}}),C.length>0&&C.forEach(E=>{r.l("Feature found : ",E)}),g("map-click",{x:S,y:x,features:C})});const p=document.getElementById("divLayerSwitcher");s8.renderPanel(u.value,p,{}),h.value!==null&&(c=new _p({element:h.value,offset:[0,-40],positioning:"top-center"}),u.value.addOverlay(c)),f()>0&&(r.l("initialize() numRecords > 0"),yp(u.value,zo,n.getGeoJson))}};return Ln(()=>{r.t("mounted()"),v([2538202,1152364])}),(_,p)=>(ii(),Qr(Tl,{class:"d-flex fill-height"},{default:B(()=>[bi("div",o8,[y(tg,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=b=>l.value=b),eager:"",width:"290"},{default:B(()=>[y(qr,null,{default:B(()=>[y(wm,{class:"subtitle-1 grey lighten-2 pl-6 pt-2 pb-1","primary-title":""},{default:B(()=>[Be(" Choix des couches ")]),_:1}),y(na,null,{default:B(()=>[l8]),_:1}),y(Lm),y(Ml,{class:"pa-1"},{default:B(()=>[y(bs),y(Ye,{class:"caption white--text",color:"indigo lighten-1",height:"25",onClick:p[0]||(p[0]=b=>l.value=!1)},{default:B(()=>[Be(" Fermer ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),y(Ye,{icon:"mdi-layers-outline","aria-label":"selection couches",color:"white",class:"layers_button",height:"45","min-width":"45",width:"45",onClick:Qa(m,["stop"])}),y(a8,{class:"text-center bottom--1 mouse-coordinates"},{default:B(()=>[bi("div",null,"x,y: "+xt(a.value)+", "+xt(o.value),1),bi("div",null,"Trouv "+xt(Pe(i))+" Thing(s) avec ces filtres:"+xt(Pe(s)),1),Be("  ")]),_:1}),bi("div",u8,[c8,bi("div",{ref_key:"mapTooltip",ref:h,class:"tooltip"},null,512)],512)]),_:1}))}}),d8=H({...Me(),...pI({fullHeight:!0}),...pt()},"VApp"),f8=ae()({name:"VApp",props:d8(),setup(t,e){let{slots:n}=e;const i=Et(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=xI(t),{rtlClasses:l}=gi();return ge(()=>y("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[y("div",{class:"v-application__wrap"},[y(XE,null,{default:()=>{var u;return[y(Re,null,[(u=n.default)==null?void 0:u.call(n)])]}})])])),{getLayoutItem:r,items:a,theme:i}}}),g8=H({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function m8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=J(null),a=ve(0),o=ve(0),l=ve(0),u=ve(!1),c=ve(!1),h=R(()=>Number(t.scrollThreshold)),d=R(()=>Pn((h.value-a.value)/h.value||0)),g=()=>{const f=r.value;if(!f||n&&!n.value)return;i=a.value,a.value="window"in f?f.pageYOffset:f.scrollTop;const m=f instanceof Window?document.documentElement.scrollHeight:f.scrollHeight;if(s!==m){s=m;return}c.value=a.value<i,l.value=Math.abs(a.value-h.value)};return he(c,()=>{o.value=o.value||a.value}),he(u,()=>{o.value=0}),Ln(()=>{he(()=>t.scrollTarget,f=>{var v;const m=f?document.querySelector(f):window;m&&m!==r.value&&((v=r.value)==null||v.removeEventListener("scroll",g),r.value=m,r.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Fn(()=>{var f;(f=r.value)==null||f.removeEventListener("scroll",g)}),n&&he(n,g,{immediate:!0}),{scrollThreshold:h,currentScroll:a,currentThreshold:l,isScrollActive:u,scrollRatio:d,isScrollingUp:c,savedScroll:o}}const v8=H({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...$x(),...pb(),...g8(),height:{type:[Number,String],default:64}},"VAppBar"),y8=ae()({name:"VAppBar",props:v8(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=J(),s=ze(t,"modelValue"),r=R(()=>{var S;const b=new Set(((S=t.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=R(()=>{const b=r.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=m8(t,{canScroll:a}),h=R(()=>r.value.hide||r.value.fullyHide),d=R(()=>t.collapse||r.value.collapse&&(r.value.inverted?c.value>0:c.value===0)),g=R(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),f=R(()=>r.value.fadeImage?r.value.inverted?1-c.value:c.value:void 0),m=R(()=>{var x,C;const b=Number(((x=i.value)==null?void 0:x.contentHeight)??t.height),S=Number(((C=i.value)==null?void 0:C.extensionHeight)??0);return h.value?o.value<l.value||r.value.fullyHide?b+S:b:b+S});Rs(R(()=>!!t.scrollBehavior),()=>{$t(()=>{h.value?r.value.inverted?s.value=o.value>l.value:s.value=u.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:v}=zh(),{layoutItemStyles:_,layoutIsReady:p}=xb({id:t.name,order:R(()=>parseInt(t.order,10)),position:le(t,"location"),layoutSize:m,elementSize:ve(void 0),active:s,absolute:le(t,"absolute")});return ge(()=>{const b=so.filterProps(t);return y(so,ce({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{..._.value,"--v-toolbar-image-opacity":f.value,height:void 0,...v.value},t.style]},b,{collapse:d.value,flat:g.value}),n)}),p}}),_8=H({...xm({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),p8=ae()({name:"VAppBarNavIcon",props:_8(),setup(t,e){let{slots:n}=e;return ge(()=>y(Ye,ce(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),b8=H({scrollable:Boolean,...Me(),...Pi(),...dt({tag:"main"})},"VMain"),x8=ae()({name:"VMain",props:b8(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=ki(t),{mainStyles:s,layoutIsReady:r}=bb(),{ssrBootStyles:a}=zh();return ge(()=>y(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,a.value,i.value,t.style]},{default:()=>{var o,l;return[t.scrollable?y("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(l=n.default)==null?void 0:l.call(n)]}})),r}});function w8(t){const e=ve(t);let n=-1;function i(){clearInterval(n)}function s(){i(),ct(()=>e.value=t)}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const c=performance.now()-u+l;e.value=Math.max(t-c,0),e.value<=0&&i()},l)}return hn(i),{clear:i,time:e,start:r,reset:s}}const S8=H({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...So({location:"bottom"}),...su(),...dn(),...Ai(),...pt(),...cn(Wh({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),C8=ae()({name:"VSnackbar",props:S8(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{positionClasses:s}=ru(t),{scopeId:r}=lu(),{themeClasses:a}=Et(t),{colorClasses:o,colorStyles:l,variantClasses:u}=ua(t),{roundedClasses:c}=bn(t),h=w8(Number(t.timeout)),d=J(),g=J(),f=ve(!1),m=ve(0),v=J(),_=He(wl,void 0);Rs(()=>!!_,()=>{const A=bb();$t(()=>{v.value=A.mainStyles.value})}),he(i,b),he(()=>t.timeout,b),Ln(()=>{i.value&&b()});let p=-1;function b(){h.reset(),window.clearTimeout(p);const A=Number(t.timeout);if(!i.value||A===-1)return;const P=nm(g.value);h.start(P),p=window.setTimeout(()=>{i.value=!1},A)}function S(){h.reset(),window.clearTimeout(p)}function x(){f.value=!0,S()}function C(){f.value=!1,b()}function E(A){m.value=A.touches[0].clientY}function M(A){Math.abs(m.value-A.changedTouches[0].clientY)>50&&(i.value=!1)}const w=R(()=>t.location.split(" ").reduce((A,P)=>(A[`v-snackbar--${P}`]=!0,A),{}));return ge(()=>{const A=ia.filterProps(t),P=!!(n.default||n.text||t.text);return y(ia,ce({ref:d,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},w.value,s.value,t.class],style:[v.value,t.style]},A,{modelValue:i.value,"onUpdate:modelValue":T=>i.value=T,contentProps:ce({class:["v-snackbar__wrapper",a.value,o.value,c.value,u.value],style:[l.value],onPointerenter:x,onPointerleave:C},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:E,onTouchend:M},r),{default:()=>{var T,F;return[la(!1,"v-snackbar"),t.timer&&!f.value&&y("div",{key:"timer",class:"v-snackbar__timer"},[y(ax,{ref:g,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":h.time.value},null)]),P&&y("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((T=n.text)==null?void 0:T.call(n))??t.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&y(mt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[y("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Mr({},d)}}),E8={key:0,class:"left-0"},M8={class:"text-center"},T8="App.Vue",Dr=5e3,I8=bh({__name:"App",setup(t){const e=_A(),n=ts(T8,4,2),i=jt(Ls()),s=J(!0),r=J(!1),a=J(0),o=J(0),l=J(void 0),u=J(!1),c=J(void 0),h=J(Vc),d=J(0),g=Am(),{areWeReady:f,busyDoingNetWork:m,numRecords:v,numTypeThings:_,isThereAnError:p,getGeoJson:b}=cm(g),S=J(null),x={required:G=>!!G||"Obligatoire.",max20Chars:G=>G.length<=20||"Max 20 caractres",minNumber1:G=>G>1||"Minimum autoris = 1",maxNumber1:G=>G<=P0||`Maximum autoris = ${P0}`,email:G=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(G)||"Format e-mail invalide."},C=J(!1),E=J(!1),M=J(!0),w=J(!1);let A;const P=R(()=>e.getUsername),T=()=>r.value?"mdi-earth-off":"mdi-earth",F=()=>r.value?"cacher la carte":"afficher la carte",O=()=>s.value?"mdi-filter-off":"mdi-filter",k=()=>s.value?"cacher les critres de filtrage":"afficher les critres de filtrage",I=()=>{n.t("# IN logout()"),Wf(e.getAppName),C.value=!1,E.value=!1,e.displayFeedBack("Vous vous tes dconnect de l'application avec succs !","success"),zt(A)&&clearInterval(A),setTimeout(()=>{window.location.href=CI},2e3)},j=async()=>{n.t("# entering...  "),mA(e.getAppName)?await vA(e.getAppName).then(G=>{if(G.data==null)n.e(`# getTokenStatus() ${G.msg}, ERROR is: `,G.err),e.displayFeedBack(`Problme rseau :${G.msg}`,"error",Dr);else{if(n.l(`# getTokenStatus() SUCCESS ${G.msg} data: `,G.data),zt(G.err)&&G.status===200){C.value=!0,E.value=x0(e.getAppName);return}G.status===401&&(C.value=!1,E.value=!1,e.displayFeedBack("Votre session a expir !","warning",Dr),I()),e.displayFeedBack(`Un problme est survenu avec votre session erreur: ${G.err}`,"error",Dr)}}).catch(G=>{n.e("# getJwtToken() in catch ERROR err: ",G),e.displayFeedBack(`Il semble qu'il y a eu un problme rseau ! erreur: ${G}`,"error",Dr)}):(n.w("SESSION DOES NOT EXIST OR HAS EXPIRED !"),I())},N=G=>{n.t(`# entering... val:${G} `),C.value=!0,E.value=x0(e.getAppName),e.hideFeedBack(),e.displayFeedBack("Vous tes authentifi sur l'application.","success"),zt(A)&&(A=window.setInterval(j,6e5)),Y(yA(e.getAppName))},$=G=>{n.w(`# entering... val:${G} `),C.value=!1,E.value=!1},V=G=>{n.w(`# entering... val:${G} `),e.displayFeedBack(G,"error",Dr)},U=G=>{n.t(`# entering... val:${G} `),e.displayFeedBack(G,"success")},K=G=>{n.t(`## entering... pos:${G.x}, ${G.y}`),n.t(`##features length :${G.features.length}`,G.features)},oe=()=>{n.t("# App.vue clearFilters  "),o.value=0,l.value=void 0,a.value=0,c.value=void 0,u.value=!1,d.value=0,h.value=Vc},Y=async G=>{n.t("# App.vue entering initialize...  "),o.value=ex(e.getAppName);const Z=Object.assign({},{createdBy:o.value,searchKeywords:l.value,typeThing:a.value,validated:c.value,inactivated:u.value,limit:h.value,offset:d.value});g.isInitDone||(await g.init(Z,G,e.isHttpOnlyCookieJwt),n.l(`## Initialize in ThingListVue Done, arrListTypeThing length : ${_.value}`))};return Ln(async()=>{n.t(`onMounted Main App.vue ${cr}`);try{await e.fetchAppInfo(),n.l(`App.vue ${e.getAppName} v${e.getAppVersion}, from ${e.getAppRepository}`),Wf(e.getAppName);const G=await e.checkStatusRoute(!1);n.l(`areWeUsingHttpOnlyCookieJwt: ${G}`),g.$subscribe((Z,se)=>{if(n.t(`## App.vue subscribe mutation of store ${Z.storeId}, type: ${Z.type}`),n.l(`## areWeReady: ${f.value}, isThereAnError: ${p.value}, numTypeThings:${_.value}, numRecords:${v.value}`),p.value==!0){const Ge=` ERROR in store ${Z.storeId} : ${se.lastErrorMessage}`;n.w(Ge),e.displayFeedBack(Ge,"error",Dr)}}),window.addEventListener("online",()=>{n.w("ONLINE AGAIN :)"),e.networkOnLine(),e.displayFeedBack('  LA CONNEXION RESEAU EST RTABLIE :   vous tes "ONLINE"  ',"success")}),window.addEventListener("offline",()=>{n.w("OFFLINE :(("),e.networkOffLine(),e.displayFeedBack(' PAS DE RESEAU !  vous tes "OFFLINE" ',"error",Dr)})}catch(G){n.e("Error fetching app info:",G)}}),(G,Z)=>(ii(),Qr(f8,null,{default:B(()=>[y(y8,{color:"primary",density:"compact"},{default:B(()=>[y(p8,{variant:"text",onClick:Z[0]||(Z[0]=Qa(se=>w.value=!w.value,["stop"]))}),y(io,null,{default:B(()=>[Be(xt(`${Pe(e).getAppName} v${Pe(e).getAppVersion}`),1)]),_:1}),Pe(Sb)?(ii(),ic("span",E8,xt(i.name)+". TypeThings["+xt(Pe(_))+"] areWeReady:"+xt(Pe(f)),1)):pc("",!0),y(bs),C.value?(ii(),ic(Re,{key:1},[Be(xt(P.value)+" ",1),y(Ye,{variant:"text",icon:T(),title:F(),onClick:Z[1]||(Z[1]=se=>r.value=!r.value)},null,8,["icon","title"]),y(Ye,{variant:"text",icon:O(),title:k(),onClick:Z[2]||(Z[2]=se=>s.value=!s.value)},null,8,["icon","title"]),y(Ye,{variant:"text",icon:"mdi-logout",title:"Logout",onClick:I})],64)):pc("",!0)]),_:1}),y(x8,null,{default:B(()=>[y(C8,{modelValue:Pe(e).feedbackVisible,"onUpdate:modelValue":Z[3]||(Z[3]=se=>Pe(e).feedbackVisible=se),timeout:Pe(e).feedbackTimeout,rounded:"pill",color:Pe(e).feedbackType,location:"top"},{default:B(()=>[y(Xf,{class:"ma-4",type:Pe(e).feedbackType,text:Pe(e).feedbackMsg,color:Pe(e).feedbackType},null,8,["type","text","color"])]),_:1},8,["modelValue","timeout","color"]),C.value?(ii(),ic(Re,{key:0},[bi("div",M8,[y(ia,{modelValue:Pe(m),"onUpdate:modelValue":Z[4]||(Z[4]=se=>vt(m)?m.value=se:null),class:"align-center justify-center"},{default:B(()=>[y(rx,{color:"primary",indeterminate:"",size:"64"}),y(Xf,null,{default:B(()=>[y(Gx,null,{default:B(()=>[Be(" Chargement des donnes... isInitDone: "+xt(Pe(g).isInitDone)+",areWeReady:"+xt(Pe(f)),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Bt(y(qr,{variant:"elevated",elevation:"14",class:"mx-4"},{default:B(()=>[y(yx,null,{default:B(()=>[y(so,{color:"transparent",class:"px-0"},{extension:B(()=>[y(Hw,{modelValue:S.value,"onUpdate:modelValue":Z[5]||(Z[5]=se=>S.value=se),color:"primary",grow:""},{default:B(()=>[y(Wa,{value:1},{default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-filter")]),_:1})]),_:1}),y(Wa,{value:2},{default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-dots-vertical")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:B(()=>[y(lt,null,{default:B(()=>[Be("mdi-magnify")]),_:1}),y(io,null,{default:B(()=>[Be("Critres de filtrage...")]),_:1}),y(bs),y(Ye,{dark:"",color:"primary",variant:"flat","prepend-icon":"mdi-eraser",onClick:Qa(oe,["prevent"])},{default:B(()=>[Be("Rinitialiser Filtres")]),_:1})]),_:1}),y(zc,{modelValue:S.value,"onUpdate:modelValue":Z[13]||(Z[13]=se=>S.value=se)},{default:B(()=>[y(Zr,{value:1},{default:B(()=>[y(qr,null,{default:B(()=>[y(na,null,{default:B(()=>[y(zn,null,{default:B(()=>[y(Ue,{cols:"12",sm:"6",md:"6",lg:"2",xl:"2"},{default:B(()=>[y(nt,{modelValue:o.value,"onUpdate:modelValue":Z[6]||(Z[6]=se=>o.value=se),type:"number",min:"1",density:"compact",title:"id de l'utilisateur qui a cr l'enregistrement",label:"id crateur enregistrement"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"6",lg:"2",xl:"2"},{default:B(()=>[y(jh,{modelValue:a.value,"onUpdate:modelValue":Z[7]||(Z[7]=se=>a.value=se),"item-title":"name","item-value":"id",items:Pe(g).arrListTypeThing,density:"compact",label:"TypeObjet*"},null,8,["modelValue","items"])]),_:1}),y(Ue,{cols:"6",sm:"3",md:"3",lg:"2",xl:"1"},{default:B(()=>[y(nl,{modelValue:u.value,"onUpdate:modelValue":Z[8]||(Z[8]=se=>u.value=se),density:"compact",label:"Inactiv ?"},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"6",sm:"3",md:"3",lg:"2",xl:"1"},{default:B(()=>[y(nl,{modelValue:c.value,"onUpdate:modelValue":Z[9]||(Z[9]=se=>c.value=se),density:"compact",label:"Valid ? "},null,8,["modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"6",lg:"4",xl:"6"},{default:B(()=>[y(nt,{modelValue:l.value,"onUpdate:modelValue":Z[10]||(Z[10]=se=>l.value=se),density:"compact",label:"mot cls"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),y(Zr,{value:2},{default:B(()=>[y(qr,null,{default:B(()=>[y(na,null,{default:B(()=>[y(zn,null,{default:B(()=>[y(Ue,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:B(()=>[y(nt,{type:"number",rules:[x.required,x.minNumber1,x.maxNumber1],min:"1",max:"maxSearchLimit",modelValue:h.value,"onUpdate:modelValue":Z[11]||(Z[11]=se=>h.value=se),density:"compact",label:"Max rows",hint:"Le nombre maximum d'enregistrements  rcuprer dans la Base de donnes"},null,8,["rules","modelValue"])]),_:1}),y(Ue,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:B(()=>[y(nt,{type:"number",modelValue:d.value,"onUpdate:modelValue":Z[12]||(Z[12]=se=>d.value=se),density:"compact",min:"0",label:"Offset row"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},512),[[Is,s.value]]),y(Nc,{class:"text-center fill-height pa-2",fluid:!0},{default:B(()=>[y(zn,{class:""},{default:B(()=>[y(Ue,{cols:"12",class:""},{default:B(()=>[y(uL,{limit:+h.value,offset:+d.value,"type-thing":a.value,"created-by":o.value,"search-keywords":l.value,inactivated:u.value,validated:c.value,onThingError:V,onThingOk:U},null,8,["limit","offset","type-thing","created-by","search-keywords","inactivated","validated"])]),_:1})]),_:1}),y(zn,{class:"fill-height h-100"},{default:B(()=>[Bt(y(Ue,{cols:"12",class:"fill-height"},{default:B(()=>[y(h8,{zoom:3,geodata:Pe(b),onMapClick:K},null,8,["geodata"])]),_:1},512),[[Is,r.value]])]),_:1})]),_:1})],64)):(ii(),Qr(CP,{key:1,app:`Authentification ${Pe(e).getAppName}`,base_server_url:Pe(cr),jwt_auth_url:Pe(e).getAppAuthUrl,disabled:!M.value,onLoginOk:N,onLoginError:$},null,8,["app","base_server_url","jwt_auth_url","disabled"]))]),_:1})]),_:1}))}}),R8="modulepreload",A8=function(t){return"/"+t},pp={},P8=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.all(n.map(o=>{if(o=A8(o),o in pp)return;pp[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":R8,l||(c.as="script",c.crossOrigin=""),c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};async function k8(){(await P8(()=>import("./webfontloader-b3tLUzQZ.js").then(e=>e.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const O8={defaults:{VAppBar:{flat:!0},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBottomSheet:{contentClass:"rounded-t-xl overflow-hidden"},VBtn:{color:"primary",rounded:"xl"},VBtnGroup:{rounded:"xl",VBtn:{rounded:null}},VCard:{rounded:"lg"},VCheckbox:{color:"secondary",inset:!0},VChip:{rounded:"sm"},VCombobox:{variant:"filled"},VNavigationDrawer:{},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:mb}},theme:{themes:{light:{colors:{primary:"#6750a4",secondary:"#b4b0bb",tertiary:"#7d5260",error:"#b3261e",surface:"#fffbfe"}}}}},L8={badge:"Badge",open:"Ouvrir",close:"Fermer",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annuler"},dataIterator:{noResultsText:"Aucun enregistrement correspondant trouv",loadingText:"Chargement de l'lment..."},dataTable:{itemsPerPageText:"Lignes par page :",ariaLabel:{sortDescending:"Tri dcroissant.",sortAscending:"Tri croissant.",sortNone:"Non tri.",activateNone:"Activer pour supprimer le tri.",activateDescending:"Activer pour trier par ordre dcroissant.",activateAscending:"Activer pour trier par ordre croissant."},sortBy:"Trier par"},dataFooter:{itemsPerPageText:"lments par page :",itemsPerPageAll:"Tous",nextPage:"Page suivante",prevPage:"Page prcdente",firstPage:"Premire page",lastPage:"Dernire page",pageText:"{0}-{1} de {2}"},dateRangeInput:{divider:""},datePicker:{itemsSelected:"{0} selected",range:{title:"Slectionner des dates",header:"Entrer des dates"},title:"Slectionner une date",header:"Entrer une date",input:{placeholder:"Entrer une date"}},noDataText:"Aucune donne disponible",carousel:{prev:"Visuel prcdent",next:"Visuel suivant",ariaLabel:{delimiter:"Diapositive {0} de {1}"}},calendar:{moreEvents:"{0} de plus",today:"Today"},input:{clear:"Vider {0}",prependAction:"{0} action avant",appendAction:"{0} action aprs",otp:"Caractre {0} du mot de passe  usage unique"},fileInput:{counter:"{0} fichier(s)",counterSize:"{0} fichier(s) ({1} au total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigation de pagination",next:"Page suivante",previous:"Page prcdente",page:"Aller  la page {0}",currentPage:"Page actuelle, Page {0}",first:"Premire page",last:"Dernire page"}},stepper:{next:"Suivant",prev:"Prcdent"},rating:{ariaLabel:{item:"Note de {0} sur {1}"}},loading:"Chargement...",infiniteScroll:{loadMore:"Charger plus",empty:"Aucune donne supplmentaire"}},F8={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","primary-lighten-1":"#7986CB",primary:"#3F51B5","primary-darken-1":"#303F9F","primary-accent-1":"#304FFE","secondary-lighten-1":"#64B5F6",secondary:"#2196F3","secondary-darken-1":"#1976D2","secondary-accent-1":"#2962FF",error:"#D50000",info:"#03A9F4",success:"#4CAF50",warning:"#FF9800"}},D8=wb({theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:F8}},blueprint:O8,components:{},date:{},locale:{locale:"fr",fallback:"en",messages:{fr:L8,en:sb}}});function N8(t){k8().then(()=>{}),t.use(D8)}const Av=CT(I8);N8(Av);Av.use(II());Av.mount("#app");export{KS as g};
